(function(e){e.module("CommonModule",["ngCookies","ExternalLibrariesModule"])})(window.angular);define("Common/CommonModule",function(){});
(function(e){e.module("CommonModule").factory("CommonAjax",["$http","$cookies","$q","$rootScope",function(a,d,b){function j(){return{"x-amz-csrf":d["session-id"]}}function h(a){a["Content-Type"]="application/x-www-form-urlencoded";return a}function g(a){f.exception=a===0?{exception:!0,sessionExpired:!0}:{exception:!0,message:"Unknown error, status = "+a}}var f={};return{properties:f,sendGetRequestAsync:function(c){return b(function(b,d){f.exception=null;a.get(c,{headers:j()}).success(function(a){var c;
typeof a==="string"?c=a:a.exception?(f.exception=a,c=!1):(f.exception=null,c=!0);c===!1?d(f.exception):b(a)}).error(function(a,c){g(c);d(f.exception)})})},sendPostRequestAsync:function(c,d){var m=encodeURIComponent(JSON.stringify(d));return b(function(b,d){a.post(c,m,{headers:h(j())}).success(function(a){a?(a=e.fromJson(decodeURIComponent(a)),a.exception?(f.exception=a,a=!1):f.exception=null):a=!0;a===!1?d(f.exception):b(a)}).error(function(a,c){g(c);d(f.exception)})})},keepAlive:function(){a.get("/edw/ajax/keepAlive",
{headers:j()})},uploadFileAsync:function(a,f){return b(function(b,d){var g=new XMLHttpRequest;g.open("POST",a.uploadURL,!0);g.onreadystatechange=function(){g.readyState==4&&(g.status==200||g.status==201?b(g.responseText):g.responseText.search("InvalidFileSize")!=-1?d("Invalid image. Please upload an image of size less than"+f.sizeLimit):d("Invalid image. Please upload a "+f.dimensionLimit+" pixels image."))};g.send(a.file)})}}}])})(window.angular);define("Common/CommonAjax",function(){});
(function(e){e.module("CommonModule").factory("CommonService",["CommonAjax","$anchorScroll","$location","$timeout","$rootScope",function(a,d,b,j,h){function g(a,c,g){f.status.message=c;f.status.type=a;f.status.stackTrace=g;j(function(){var a=b.hash();b.hash("EDW_Status");d();b.hash(a)})}var f={loadingMessage:"",status:{}},c={success:"success",error:"error",sessionExpired:"sessionExpired"},k=null,e="",n=!1,l=[],v="",p="",i=[],s="";h.$on("$stateChangeError",function(a,b,f,d,l,k){k.status===0&&g(c.sessionExpired)});
return{properties:f,statusType:c,encodeApplicationId:function(a){return!a?void 0:encodeURIComponent(a)},decodeApplicationId:function(a){return!a?void 0:decodeURIComponent(a)},setLoadingMessage:function(a){f.loadingMessage=a},clearLoadingMessage:function(){f.loadingMessage=null},setStatus:g,clearStatus:function(){f.status.type=null},isMessageBoxVisible:function(){return n},getMessageBoxText:function(){return e},getMessageBoxButtons:function(){return l},getMessageBoxSelectOptions:function(){return i},
getMessageBoxLastOption:function(){return!i?void 0:i[i.length-1]},getMessageBoxTtile:function(){return k},getMessageBoxSelectOption:function(){return v},setMessageBoxSelectOption:function(a){v=a},getMessageBoxSelectOptionType:function(){return p},setMessageBoxSelectOptionType:function(a){p=a},getMessageBoxClass:function(){return s},setMessageBoxClass:function(a){s=a},handleMessageBoxButtonClicked:function(a){n=!1;s="";a.eventHandler&&a.eventHandler()},showMessageBox:function(a){showConfirmationBox(null,
a,[{optionName:"OK"}])},showConfirmationBox:function(a,c,b,f){if(n)throw"messagebox already shown!";k=a;n=!0;e=c;l=b;i=f},recordMetrics:function(c,b,f){var d={};d.metricProperties=c;d.timingMetrics=b;d.counterMetrics=f;a.sendPostRequestAsync("/edw/ajax/recordMetrics",d)},cleanJSON:function(a){return a.replace(RegExp("\u00a0","g")," ")},showError:function(a){f.loadingMessage=null;a.exception?g(a.sessionExpired?c.sessionExpired:c.error,"Error: "+a.message,a.stackTrace):g(c.error,"Error: "+a)}}}]).directive("edwEnter",
function(){return{res:!0,link:function(a,d,b){d.bind("handle enter key press",function(d){d.which===13&&(a.$apply(function(){a.$eval(b.edwEnter)}),d.preventDefault())})}}})})(window.angular);define("Common/CommonService",function(){});
(function(e){e.module("CommonModule").controller("CommonController",["$scope","CommonService","ASK_AppEditingConfig",function(a,d,b){a.getLoadingMessage=function(){return d.properties.loadingMessage};a.getStatus=function(){return d.properties.status};a.feedbackType={};a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.TEST_SKILL]="TestSkill";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.MORE_FEATURES]="MoreFeatures";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.DISCOVERED_ISSUE]="DiscoveredIssue";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.NOT_RECEIVED_CERTIFICTION_FEEDBACK]=
"NotReceivedCertificationFeedback";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.NOT_INTEND_TO_PUBLISH]="NotIntendToPublish";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.OTHER]="Other";a.onMessageBoxSelectionChanged=function(b){d.setMessageBoxSelectOption(b);d.setMessageBoxSelectOptionType(a.feedbackType[b])};a.onCustomTextChanged=function(e){d.setMessageBoxSelectOption(e);d.setMessageBoxSelectOptionType(a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.OTHER])};a.disableButton=function(a,b,d){return a?
a===d&&!b?!0:!1:!0};a.isMessageBoxVisible=d.isMessageBoxVisible;a.getMessageBoxText=d.getMessageBoxText;a.getMessageBoxTtile=d.getMessageBoxTtile;a.getMessageBoxButtons=d.getMessageBoxButtons;a.getMessageBoxSelectOptions=d.getMessageBoxSelectOptions;a.getMessageBoxLastOption=d.getMessageBoxLastOption;a.getMessageBoxClass=d.getMessageBoxClass;a.handleMessageBoxButtonClicked=d.handleMessageBoxButtonClicked}])})(window.angular);define("Common/CommonController",function(){});
(function(e){e.module("CommonModule").factory("audioService",["$document","$rootScope","CommonService","CommonAjax",function(a,d,b,e){function h(){this.audioElement=a[0].createElement("audio");this.audioElement.preload=!1;this.audioElement.autoplay=!1;this.lastAudioBlob=null;this.audioElement.addEventListener("playing",function(){d.$apply()});this.audioElement.addEventListener("pause",function(){d.$apply()});this.audioElement.addEventListener("error",function(a){var d;switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:d=
"The audio playback was aborted.";break;case a.target.error.MEDIA_ERR_NETWORK:d="A network error caused the audio download to fail.";break;case a.target.error.MEDIA_ERR_DECODE:d="The audio playback was aborted due to a corruption problem or because the audio uses features your browser does not support.";break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:d="The audio could not be loaded, either because the server or network failed or because the format is not supported.";break;default:d="An unknown media error occurred."}b.setStatus(b.statusType.error,
"Error: "+d,a.stackTrace)})}function g(a,b,d){for(var b=b||"",d=d||512,a=CryptoJS.enc.Latin1.stringify(CryptoJS.enc.Base64.parse(a)),f=[],g=0;g<a.length;g+=d){for(var e=a.slice(g,g+d),h=Array(e.length),j=0;j<e.length;j++)h[j]=e.charCodeAt(j);e=new Uint8Array(h);f.push(e)}return new Blob(f,{type:b})}function f(a,b,d){var f={},g=window.navigator.userAgent.toLowerCase(),e=g.indexOf("msie ")>-1||g.indexOf("trident/")>-1,g=g.indexOf("safari")>-1&&g.indexOf("chrome")==-1;f.audioFormat=e||g?"MP3":"OGG";
f.contentType=b;f.text=CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(a));f.voiceName=d;return f}h.prototype.playTts=function(a,d,h,n,l){var v=this.audioElement,a=f(a,d,h),p=this.lastAudioBlob;n&&n();e.sendPostRequestAsync("/edw/ajax/getTTS",a).then(function(a){p&&window.URL.revokeObjectURL(p);var c=1,d=a.audioFiles,f=function(){c<d.length?(window.URL.revokeObjectURL(p),p=g(d[c],a.contentType,512),v.src=window.URL.createObjectURL(p),c+=1,v.play()):(window.URL.revokeObjectURL(p),v.removeEventListener("ended",
f,!1))};p=g(d[0],a.contentType,512);v.addEventListener("ended",f);v.src=window.URL.createObjectURL(p);v.play();b.clearStatus();l&&l()},function(a){l&&l();a.exception?b.setStatus(a.sessionExpired?b.statusType.sessionExpired:b.statusType.error,"Error: "+a.message,a.stackTrace):b.setStatus(b.statusType.error,"Error: "+a)})};h.prototype.pause=function(){this.audioElement.pause()};h.prototype.isPlaying=function(){return!this.audioElement.paused&&this.audioElement.duration>0};return{createAudioPlayer:function(){return new h},
getVoiceInputType:function(a){return a.indexOf("<speak>")==-1?"PlainText":"SSML"}}}])})(window.angular);define("Common/AudioService",function(){});(function(e){e.module("CommonModule").constant("EDW_CONFIG",window.EDW_CONFIG)})(window.angular);define("Common/Config",function(){});
(function(e){e.module("CommonModule").filter("orderObjectBy",function(){return function(a,d,b){function j(a,b){return a[b]}var h=[];e.forEach(a,function(a,b){a.key=b;h.push(a)});h.sort(function(a,b){var c=d.split(".").reduce(j,a),e=d.split(".").reduce(j,b);!isNaN(parseFloat(c))&&isFinite(c)&&!isNaN(parseFloat(e))&&isFinite(e)&&(c=Number(c),e=Number(e));return c===e?0:c>e?1:-1});b&&h.reverse();return h}})})(window.angular);define("Common/Filters",function(){});
(function(e){e.module("CommonModule").factory("ImageMaskingService",["$document",function(a){return{getMaskedImageFile:function(d){var b=d.originalImage,e=d.emptyMaskImage,h=d.imageType,g=d.imageWidth,f=d.imageHeight,c=d.compressedImageWidth,k=d.compressedImageHeight,m=d.xOffset,n=d.yOffset,d=a[0].createElement("canvas");d.width=g;d.height=f;d.getContext("2d").drawImage(b,m,n,c,k);b=a[0].createElement("canvas");b.width=g;b.height=f;b.getContext("2d").drawImage(e,0,0);e=a[0].createElement("canvas");
e.width=g;e.height=f;g=e.getContext("2d");g.drawImage(d,0,0);g.globalCompositeOperation="source-over";g.drawImage(b,0,0);g=e.toDataURL(h,1);h=g.split(",")[0].indexOf("base64")>=0?atob(g.split(",")[1]):unescape(g.split(",")[1]);g=g.split(",")[0].split(":")[1].split(";")[0];f=new Uint8Array(h.length);for(d=0;d<h.length;d++)f[d]=h.charCodeAt(d);return new Blob([f],{type:g})}}}])})(window.angular);define("Common/ImageMaskingService",function(){});
(function(e){e.module("CommonModule").factory("RecursionHelper",["$compile",function(a){return{compile:function(d,b){e.isFunction(b)&&(b={post:b});var j=d.contents().remove(),h;return{pre:b&&b.pre?b.pre:null,post:function(d,f){h||(h=a(j));h(d,function(a){f.append(a)});b&&b.post&&b.post.apply(null,arguments)}}}}}])})(window.angular);define("Common/RecursionHelper",function(){});
(function(e){e.module("CommonModule").factory("Utils",function(){return{combineSkillData:function(a){return a.reduce(function(a,b){var e=b.skillInfo.skillId,h=b.skillInfo.stage;a[e]=a[e]||{};a[e][h]=b;return a},{})},chocolateSelectDataFromObjectProperties:function(a,d,b){return Object.keys(a).filter(function(b){return a.hasOwnProperty(b)}).map(function(e,h){return{value:b?b(e,h,o):e,text:d?d(e,h,o):a[e]}})}}})})(window.angular);define("Common/Utils",function(){});
(function(e){var a="/edw/res/images/no-icon.png",e=e.module("CommonModule");e.constant("NoImage",a);e.directive("edwUserInput",["$interval","audioService","ASK_AppEditingConfig",function(d,b,e){function h(f,c,h){f.handleEdwInputChange=function(){d(f.edwChange,0,1)};f.AppEditingConfig=e;f.handleAddEdwItem=function(){if(!f.edwModel)f.edwModel=[];if(f.edwMaxSize||f.edwModel.length<f.edwMaxSize)f.edwModel.push(""),f.edwChange()};f.handleRemoveEdwItem=function(a){a!=-1&&(f.edwModel.splice(a,1),f.edwChange())};
f.toggleSelection=function(a){var c=f.edwModel.indexOf(a);c>-1?f.edwModel.splice(c,1):f.edwModel.push(a)};f.selectAll=function(){for(var a=Object.keys(f.edwOptions),c=0;c<a.length;c++)if(f.edwModel.indexOf(f.edwOptions[a[c]])<0){for(;c<a.length;c++)f.edwModel.push(f.edwOptions[a[c]]);return}f.edwModel=[]};f.areAllSelected=function(){if(!f.edwOptions)return!1;for(var a=Object.keys(f.edwOptions),c=0;c<a.length;c++)if(f.edwModel.indexOf(f.edwOptions[a[c]])<0)return!1;return!0};f.uploadImage=g;f.getDisplayImage=
function(){return f.edwModel&&f.edwModel!==a?f.edwModel:f.edwDisabled?a:g};f.showEdwRemoveImage=function(){return f.edwImageAllowRemove&&f.edwModel&&f.edwModel!==a&&!f.edwDisabled};f.getPlaceholder=function(){return f.edwPlaceholder?edwPlaceholder:""};f.bubbleVisible=[];f.handleEdwFocus=function(a){f.edwBubbleDisabled||(f.bubbleVisible[a]=!0)};f.handleEdwBlur=function(a){f.edwBubbleDisabled||(f.bubbleVisible[a]=!1)};if(h.type==="voice-input"){var m=!1;f.audioPlayer=b.createAudioPlayer();f.audioPlayOrPause=
function(a){var c=b.getVoiceInputType(a);a&&!f.audioPlayer.isPlaying()?f.audioPlayer.playTts(a,c,function(){m=!0},function(){m=!1}):f.audioPlayer.pause()};f.isAudioPlayerLoading=function(){return m}}}var g="/edw/res/images/upload_image.png";return{restrict:"E",templateUrl:"/edw/res/js/Views/Common/Controls/EdwUserInput.view",scope:{type:"@",edwDataSourceType:"@",edwName:"=",edwHtmlName:"=",edwDescription:"=",edwYesLabel:"=",edwNoLabel:"=",edwHtmlDescription:"=",edwMandatory:"=",edwModel:"=",edwInit:"=",
edwDisabled:"=",edwGlobal:"=",edwInactive:"=",edwInactiveMessage:"=",edwVerticalRadioButtons:"=",edwChange:"&",edwImageSelected:"&",edwOptions:"=",edwDefaultOption:"@",edwRows:"@",edwCols:"@",edwMaxLength:"@",edwErrorCondition:"=",edwErrorMessage:"@",edwMaxSize:"=",edwEnableSubControl:"=",edwRequired:"=",edwAddButtonText:"@",edwRemoveItemClick:"&",edwAddItemClick:"&",edwHideSeparator:"=",edwContent:"=",edwSecondary:"=",edwSubItem:"=",edwImageAllowRemove:"=",edwImageRemoved:"&",edwProvideDefault:"=",
edwPlaceholder:"=",edwSelectionDisabled:"=",edwRadioItems:"=",edwFocus:"&",edwBlur:"&",edwStyle:"=",edwBubble:"=",edwBubbleDisabled:"=",edwExtra:"=",edwVoiceName:"="},transclude:!0,compile:function(a,c){if(!c.type)c.type="text";if(c.edwDefaultOption===void 0)c.edwDefaultOption=" Please select ";if(c.edwAddButtonText===void 0)c.edwAddButtonText="Add item";if(c.edwMaxLength===void 0)c.edwMaxLength=524288;return h}}}])})(window.angular);define("Common/Controls/EdwUserInput",function(){});
(function(e){var a="/edw/res/images/no-icon.png",e=e.module("CommonModule");e.constant("NoImage",a);e.directive("edwTwoUserInput",["$interval","audioService","ASK_AppEditingConfig",function(d,b,e){function h(f,c,h){f.handleEdwInputChange=function(){d(f.edwChange,0,1)};f.AppEditingConfig=e;f.handleAddEdwItem=function(){if(!f.$parent.edwModel)f.$parent.edwModel=[];if(f.edwMaxSize||f.edwModel.length<f.edwMaxSize)f.edwModel.push(""),f.edwChange()};f.handleRemoveEdwItem=function(a){a!=-1&&(f.edwModel.splice(a,
1),f.edwChange())};f.uploadImage=g;f.getDisplayImage=function(){return f.edwModel&&f.edwModel!==a?f.edwModel:f.edwDisabled?a:g};f.showEdwRemoveImage=function(){return f.edwImageAllowRemove&&f.edwModel&&f.edwModel!==a&&!f.edwDisabled};f.getPlaceholder=function(){return f.edwPlaceholder?edwPlaceholder:""};f.bubbleVisible=[];f.handleEdwFocus=function(a){f.edwBubbleDisabled||(f.bubbleVisible[a]=!0)};f.handleEdwBlur=function(a){f.edwBubbleDisabled||(f.bubbleVisible[a]=!1)};if(h.type==="voice-input"){var m=
!1;f.audioPlayer=b.createAudioPlayer();f.audioPlayOrPause=function(a){var c=b.getVoiceInputType(a);a&&!f.audioPlayer.isPlaying()?f.audioPlayer.playTts(a,c,function(){m=!0},function(){m=!1}):f.audioPlayer.pause()};f.isAudioPlayerLoading=function(){return m}}}var g="/edw/res/images/upload_image.png";return{restrict:"E",templateUrl:"/edw/res/js/Views/Common/Controls/EdwV2/EdwUserInputV2.view",scope:{type:"@",edwDataSourceType:"@",edwName:"=",edwHtmlName:"=",edwDescription:"=",edwYesLabel:"=",edwNoLabel:"=",
edwHtmlDescription:"=",edwMandatory:"=",edwModel:"=",edwDisabled:"=",edwInactive:"=",edwInactiveMessage:"=",edwVerticalRadioButtons:"=",edwChange:"&",edwImageSelected:"&",edwOptions:"=",edwDefaultOption:"@",edwRows:"@",edwCols:"@",edwMaxLength:"@",edwErrorCondition:"=",edwErrorMessage:"@",edwMaxSize:"=",edwEnableSubControl:"=",edwRequired:"=",edwAddButtonText:"@",edwRemoveItemClick:"&",edwAddItemClick:"&",edwHideSeparator:"=",edwContent:"=",edwSecondary:"=",edwSubItem:"=",edwImageAllowRemove:"=",
edwImageRemoved:"&",edwProvideDefault:"=",edwPlaceholder:"=",edwSelectionDisabled:"=",edwRadioItems:"=",edwFocus:"&",edwBlur:"&",edwStyle:"=",edwBubble:"=",edwBubbleDisabled:"="},transclude:!0,compile:function(a,c){if(!c.type)c.type="text";if(c.edwDefaultOption===void 0)c.edwDefaultOption=" Please select ";if(c.edwAddButtonText===void 0)c.edwAddButtonText="Add item";if(c.edwMaxLength===void 0)c.edwMaxLength=524288;return h}}}])})(window.angular);define("Common/Controls/EdwV2/EdwUserInputV2",function(){});
(function(e){e.module("CommonModule").directive("edwHtmlDescriptionCompile",["$compile",function(a){return function(d,b,e){d.$watch(function(a){return a.$eval(e.compile)},function(){b.html(d.edwHtmlDescription);a(b.contents())(d)})}}])})(window.angular);define("Common/Controls/EdwV2/EdwHtmlDescriptionCompile",function(){});
(function(e){e.module("CommonModule").directive("edwTwoToolTip",["ASK_AppEditingConfig",function(a){return{restrict:"E",scope:{content:"="},templateUrl:"/edw/res/js/Views/Common/Controls/EdwV2/ToolTip/EdwToolTipV2.view",link:function(d){var b=d.content.toLowerCase().replace(/[.,!&;:_`~]/g,""),e=a.PRESENTATION_TAB.EXAMPLE_PHRASES_101_TOOLTIP,h=["alexa"],g=["ask","tell","launch","start","talk"],f=["open"],c=["daily horoscopes"],k=["for","about","if","whether"],m=["to","that"],n=["the horoscope for taurus",
"give me the horoscope for taurus","i want my taurus horoscope for today"];d.getToolTipText=function(){var a=d.content;if(h.indexOf(b)>-1)a=e.WAKE_WORD;else if(g.indexOf(b)>-1)a=e.INVOKE_SKILL;else if(f.indexOf(b)>-1)a=e.INVOKE_SKILL_OTHER_OPTIONS;else if(c.indexOf(b)>-1)a=e.INVOCATION_NAME;else if(k.indexOf(b)>-1)a=e.CONNECTING_WORD_ASK;else if(m.indexOf(b)>-1)a=e.CONNECT_WORD_TELL;else if(n.indexOf(b)>-1)a=e.SAMPLE_UTTERANCE;return a}}}}])})(window.angular);
define("Common/Controls/EdwV2/ToolTip/EdwToolTipV2",function(){});(function(e){e.module("CommonModule").directive("edwFileUpload",function(){return{scope:{edwFileSelected:"&"},res:!0,link:function(a,d){d.bind("change",function(b){var d={};d.file=b.target.files[0];a.edwFileSelected({arg:d})})}}})})(window.angular);define("Common/Controls/EdwFileUpload",function(){});
(function(e){e.module("ExternalLibrariesModule",["isteven-multi-select","ui.bootstrap"]).directive("edwChart",function(){return{scope:{config:"="},replace:!0,template:"<div></div",link:function(a,d){var b=function(){if(a.config.chart)a.config.chart.renderTo=d[0],new Highcharts.Chart(a.config);else{var b=e.extend({chart:{renderTo:d[0]}},a.config);new Highcharts.Chart(b)}};b();a.$watch("config.series",function(){b()},!0)}}}).directive("edwDateRangePicker",function(){var a=require("jquery");return{restrict:"A",
scope:{edwDateRangePickerProperties:"=",edwDateRangePickerOnSelectionChange:"="},link:function(d,b){a(b).daterangepicker(d.edwDateRangePickerProperties,d.edwDateRangePickerOnSelectionChange)}}}).factory("MomentService",function(){return require("moment")}).factory("InlineService",function(){return require("alexaInlineValidator")})})(window.angular);define("Common/ExternalLibraries/ExternalLibrariesModule",function(){});
(function(e){e.module("CommonModule").directive("askHeaderBar",function(){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/AskHeaderBar.view"}})})(window.angular);define("Components/AskHeaderBar",function(){});(function(e){e.module("CommonModule").directive("avsHeaderBar",function(){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/AvsHeaderBar.view"}})})(window.angular);define("Components/AvsHeaderBar",function(){});
(function(e){e.module("CommonModule").directive("askCountrySelector",["$timeout",function(a){return{replace:!0,restrict:"E",scope:{edwAppEditingConfig:"=",edwAvailableWorldwide:"=",edwChange:"&",edwCountries:"=",edwDisabled:"=",edwOptions:"="},templateUrl:"/edw/res/js/Views/Components/CountrySelector/CountrySelector.view",transclude:!1,link:function(d){d.edwCountries=d.edwCountries||[];d.edwOptionsValues=Object.keys(d.edwOptions||[]).map(function(a){return d.edwOptions[a]});d.toggleSelection=function(a){var e=
d.edwCountries.indexOf(a);e>-1?d.edwCountries.splice(e,1):d.edwCountries.push(a)};d.selectAll=function(){d.edwCountries=d.areAllCountriesSelected()?[]:d.edwOptionsValues};d.areAllCountriesSelected=function(){if(!d.edwCountries)return!1;var a=d.edwCountries.length===d.edwOptionsValues.length;d.selectAllLabel=a?d.edwAppEditingConfig.COUNTRY_SELECTOR.DESELECT_ALL_COUNTRIES:d.edwAppEditingConfig.COUNTRY_SELECTOR.SELECT_ALL_COUNTRIES;return a};d.handleInputChange=function(){if(d.edwAvailableWorldwide)d.edwCountries=
[];a(d.edwChange)};d.$evalAsync()}}}])})(window.angular);define("Components/CountrySelector/CountrySelector",function(){});
(function(e){e.module("CommonModule").directive("endpointInput",["ASK_AppEditingConfig",function(a){return{replace:!0,restrict:"E",scope:{edwConfig:"=",edwDisabled:"=",edwDefaultEndpointOptions:"=",edwEndpoint:"=",edwEndpointChange:"&",edwSkill:"=",edwSkillTypes:"="},templateUrl:"/edw/res/js/Views/Components/EndpointInput/EndpointInput.view",link:function(d){d.$evalAsync();d.AppEditingConfig=a;d.edwGlobal=d.edwConfig.isInternationalizationEnabled;d.edwFixedType=d.edwSkill.containsSkillType(d.edwSkillTypes.SmartHome);
d.selectedRegions=[];d.$watch("edwEndpoint",function(a){Object.keys(a).forEach(function(a){a!=="defaultRegion"&&a!=="type"&&d.selectedRegions.indexOf(a)<0&&d.selectedRegions.push(a)});d.showDefaultSelection=d.selectedRegions&&d.selectedRegions.length>1},!0);d.getDefaultEndpointClass=function(a){return d.edwEndpoint.defaultRegion===a?"regional-endpoint-default":"regional-endpoint-make-default"};d.getDefaultEndpointText=function(a){return d.edwEndpoint.defaultRegion===a?d.AppEditingConfig.APP_INFO_TAB.APP_ENDPOINT.OPTION_IS_DEFAULT:
d.AppEditingConfig.APP_INFO_TAB.APP_ENDPOINT.OPTION_MAKE_DEFAULT};d.setDefault=function(a,e){e&&e.preventDefault();d.edwEndpoint.defaultRegion=a;d.edwEndpointChange()};d.handleRegionSelection=function(a){var e=d.selectedRegions.indexOf(a);e!==-1?(d.selectedRegions.splice(e,1),delete d.edwEndpoint[a],d.selectedRegions.length>0&&d.setDefault(d.selectedRegions[0])):(d.selectedRegions.push(a),d.edwEndpoint[a]||(d.edwEndpoint[a]={region:a}),d.selectedRegions.length===1&&d.setDefault(a));d.showDefaultSelection=
d.selectedRegions&&d.selectedRegions.length>1;d.edwEndpointChange()}}}}])})(window.angular);define("Components/EndpointInput/EndpointInput",function(){});
(function(e){e.module("CommonModule").directive("examplePhrases",["ASK_AppEditingConfig","AlexaAppManagementStorage",function(a,d){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/ExamplePhrases/ExamplePhrases.view",link:function(b){var e=b.$parent.$parent.selectedLocale;b.phraseLocale=e===d.locales.en_GB?d.locales.en_US:e;b.EXAMPLE_PHRASES_101=a.PRESENTATION_TAB.EXAMPLE_PHRASES_101_INSTRUCTION}}}])})(window.angular);define("Components/ExamplePhrases/ExamplePhrases",function(){});
(function(e){e.module("CommonModule").directive("sideNav",["ASK_AppEditingConfig",function(a){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/SideNav/SideNav.view",link:function(d){var b={validTab:"/edw/res/images/check_green.png",invalidTab:"/edw/res/images/check_gray.png",pendingTab:"/edw/res/images/ajax-loader.gif",failedTab:"/edw/res/images/alertIcon.svg"};d.navigationTabs=[{text:a.APP_INFO_TAB.TEXT,menuStep:d.menuSteps.applicationInfo},{text:a.INTERACTION_MODEL_TAB.TEXT,
menuStep:d.menuSteps.intentSchema},{text:a.CONFIGURATION_TAB.TEXT,menuStep:d.menuSteps.configuration},{text:a.SSL_CERTIFICATE_TAB.TEXT,menuStep:d.menuSteps.updateSSLCert,hide:!d.showSSLCert},{text:a.TESTING_TAB.TEXT,menuStep:d.menuSteps.testing,hide:d.readOnlyMode},{text:a.ALEXA_APPSTORE_INFO_TAB.TEXT,menuStep:d.menuSteps.publishingInfo},{text:a.PRIVACY_COMPLIANCE_TAB.TEXT,menuStep:d.menuSteps.privacyCompliance}];d.shouldHide=function(a){if(a===d.menuSteps.updateSSLCert)return d.showSSLCert===!1;
else if(a===d.menuSteps.testing)return d.readOnlyMode;return!1};d.getStatusClasses=function(a){return a?d.stateClasses[a]:d.stateClasses[d.stateEnum.NOT_VALID]};d.getStatusIcon=function(a){return a?b[a]:b[d.stateEnum.NOT_VALID]};d.getTabClasses=function(a){if(!d.showActionSucceededConfirmation()&&(d.selectedMenuStep===a||d.selectedMenuStep===d.menuSteps.creatApplication))return"SelectedLink";if(!d.enableNavigation&&d.selectedMenuStep!==d.menuSteps.createApplication)return"DisabledLink"}}}}])})(window.angular);
define("Components/SideNav/SideNav",function(){});(function(e){e.module("CommonModule").directive("askSkillListItem",function(){return{replace:!0,restrict:"E",scope:{visibleListItems:"="},templateUrl:"/edw/res/js/Views/Components/SkillListItem.view"}})})(window.angular);define("Components/SkillListItem",function(){});
(function(e){e.module("CommonModule").directive("sslCertificate",["ASK_AppEditingConfig",function(a){return{replace:!0,restrict:"E",scope:{edwCertificateTypes:"=",edwChange:"&",edwConfig:"=",edwDisabled:"=",edwEndpoints:"=",edwTypesModel:"=",edwTextModel:"="},templateUrl:"/edw/res/js/Views/Components/SSLCertificate/SSLCertificate.view",transclude:!1,link:function(d){d.$evalAsync();d.AppEditingConfig=a;d.certificateTypesMap=Object.keys(d.edwCertificateTypes).map(function(a){var e={};e.key=a;e.value=
d.edwCertificateTypes[a];return e});d.$watch("edwEndpoints",function(){d.endpointsMap=Object.keys(d.edwEndpoints)},!0);d.getEndpointTitle=function(a){return a?d.AppEditingConfig.SSL_CERTIFICATE_TAB.ENDPOINT_TITLE.replace("{region}",a):""}}}}])})(window.angular);define("Components/SSLCertificate/SSLCertificate",function(){});
(function(e){e.module("AlexaHomeModule",["ui.router","CommonModule","AlexaSkillModule","AVSModule","ngSanitize"]).config(["$stateProvider",function(a){a.state("home",{url:"/",templateUrl:"/edw/res/js/Views/Home/AlexaHome.view",controller:"AlexaHomeController"})}])})(window.angular);define("Home/AlexaHomeModule",function(){});
(function(e){e.module("AlexaHomeModule").controller("AlexaHomeController",["$scope","$state","Home_Config","ASK_ROUTE_STATE","AVS_ROUTE_STATE","CommonService",function(a,d,b,e,h,g){window.location.href.indexOf("?fragment=")!=-1?window.location=window.location.href.replace("?fragment=","#").slice(0,-2):(document.getElementById("EdwMainContent").style.display="block",document.getElementById("EdwMainLoadingGif").style.display="none");a.Config=b;a.gotoASK=function(){d.go(e.Home)};a.gotoCoHoKit=function(){};
a.gotoAVS=function(){d.go(h.Home)};g.clearLoadingMessage();g.clearStatus()}])})(window.angular);define("Home/AlexaHomeController",function(){});
(function(){angular.module("AlexaHomeModule").constant("Home_Config",{HEADER:"Get started with Alexa",INTRODUCTION:"Add new voice-enabled capabilities using the Alexa Skills Kit, or add voice-powered experiences to your connected devices with the Alexa Voice Service.",ASK_TITLE:"Alexa Skills Kit",ASK_DESCRIPTION:"Easily add new skills to Alexa",ASK_GOTOHOME:"Get Started >",AVS_TITLE:"Alexa Voice Service",AVS_DESCRIPTION:"Bring voice capabilities to<br> your connected device",AVS_GOTOHOME:"Get Started >"})})(window.angular);
define("Home/AlexaHomeConstants",function(){});
(function(e){var a={Home:"skills",HomeTabs:{list:"list",analytics:"analytics"},CreateSkill:"createSkill",EditSkill:"editSkill",LiveSkill:"liveSkill",CertSkill:"certSkill",Tabs:{createApplication:"create",applicationInfo:"info",intentSchema:"intentSchema",updateSSLCert:"updateSSLCert",configuration:"configuration",testing:"testing",publishingInfo:"publishingInfo",privacyCompliance:"privacy"}};a.Tabs.lastTab=a.Tabs.privacyCompliance;e.module("AlexaSkillModule",["ui.router","ui.codemirror","CommonModule",
"ngSanitize"]).config(["$stateProvider",function(d){function b(a){var b={stage:function(){return!a||!a.stage?"Development":a.stage},readOnly:function(){return!a?!1:a.readOnly}};if(a&&a.rootState)b.rootState=function(){return a.rootState};return b}function e(b,g,f,c){var k="back"+b;d.state(b,{url:g+"/:appId/:locale",templateUrl:"/edw/res/js/Views/AlexaSkill/AlexaSkill.view",controller:"AlexaSkillController",redirectTo:b+".info",resolve:f}).state(b+".create",{url:"/create",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/CreateLanguage.view",
controller:"AlexaSkillCreateLanguageController"}).state(b+"."+a.Tabs.applicationInfo,{url:"/"+a.Tabs.applicationInfo,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillInfo.view",controller:"AlexaSkillInfoController"}).state(b+"."+a.Tabs.intentSchema,{url:"/"+a.Tabs.intentSchema,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/InteractionModel/InteractionModel.view",controller:"AlexaSkillInteractionModelController",redirectTo:b+"."+a.Tabs.intentSchema+".catList"}).state(b+"."+a.Tabs.intentSchema+".catList",
{url:"/list",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/InteractionModel/ListCatalog.view",controller:"AlexaSkillListCatalogController"}).state(b+"."+a.Tabs.intentSchema+".catEdit",{url:"/slotType/:catalogName",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/InteractionModel/EditCatalog.view",controller:"AlexaSkillEditCatalogController"}).state(b+"."+a.Tabs.testing,{url:"/"+a.Tabs.testing,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/Test/SkillTest.view",controller:"AlexaSkillTestController"}).state(b+
"."+a.Tabs.publishingInfo,{url:"/"+a.Tabs.publishingInfo,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillPublishingInfo.view",controller:"AlexaSkillPublishingInfoController"}).state(b+"."+a.Tabs.updateSSLCert,{url:"/"+a.Tabs.updateSSLCert,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillSSLCert.view",controller:"AlexaSkillSSLCertController"}).state(b+"."+a.Tabs.configuration,{url:"/"+a.Tabs.configuration,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/Configuration/SkillConfiguration.view",
controller:"AlexaSkillConfigurationController"}).state(b+"."+a.Tabs.privacyCompliance,{url:"/"+a.Tabs.privacyCompliance,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillPrivacyCompliance.view",controller:"AlexaSkillPrivacyComplianceController"}).state(k,{url:c+"/:appId",redirectTo:b}).state(k+".applicationInfo",{url:"/applicationInfo",redirectTo:b+"."+a.Tabs.info}).state(k+"."+a.Tabs.intentSchema,{url:"/"+a.Tabs.intentSchema,redirectTo:b+"."+a.Tabs.intentSchema}).state(k+"."+a.Tabs.testing,{url:"/"+
a.Tabs.testing,redirectTo:b+"."+a.Tabs.testing}).state(k+"."+a.Tabs.publishingInfo,{url:"/"+a.Tabs.publishingInfo,redirectTo:b+"."+a.Tabs.publishingInfo}).state(k+"."+a.Tabs.updateSSLCert,{url:"/"+a.Tabs.updateSSLCert,redirectTo:b+"."+a.Tabs.updateSSLCert})}d.state(a.Home,{url:"/skills",templateUrl:"/edw/res/js/Views/AlexaSkill/AlexaSkillHome.view",controller:"AlexaSkillHomeController",redirectTo:a.Home+"."+a.HomeTabs.list}).state(a.Home+"."+a.HomeTabs.list,{url:"/list",templateUrl:"/edw/res/js/Views/AlexaSkill/List/AlexaSkillList.view",
controller:"AlexaSkillListController"}).state(a.Home+"."+a.HomeTabs.analytics,{url:"/analytics",templateUrl:"/edw/res/js/Views/AlexaSkill/Analytics/AlexaSkillAnalytics.view",controller:"AlexaSkillAnalyticsController"}).state(a.CreateSkill,{url:"/skill/create",templateUrl:"/edw/res/js/Views/AlexaSkill/AlexaSkill.view",controller:"AlexaSkillController",redirectTo:"createSkill.new",resolve:b({rootState:a.CreateSkill})}).state(a.CreateSkill+".new",{url:"/",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/CreateSkill.view",
controller:"AlexaSkillCreateController"});e(a.EditSkill,"/skill",b({rootState:a.EditSkill}),"/app");e(a.LiveSkill,"/skill/live",b({stage:"Live",readOnly:!0,rootState:a.LiveSkill}),"/app/live");e(a.CertSkill,"/skill/cert",b({stage:"Certification",readOnly:!0,rootState:a.CertSkill}),"/app/cert")}]).constant("ASK_ROUTE_STATE",a)})(window.angular);define("AlexaSkill/AlexaSkillModule",function(){});
(function(e){var a={en_US:"English (U.S.)",en_GB:"English (U.K.)",de_DE:"German"},d={TEXT:"Alexa",TOOLTIP:"The default wake word for Alexa."},b={TEXT:"Ask",TOOLTIP:"One of the words users can say to invoke a skill."},j={TEXT:"Daily Horoscopes",TOOLTIP:"Your skill's invocation name, written in title case."},h={TEXT:"Give me the horoscope for taurus",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."},g={TEXT:"Alexa",
TOOLTIP:"The default wake word for Alexa."},f={TEXT:"t\u00e4gliche Horoskope",TOOLTIP:"Your skill's invocation name, written in title case."};e.module("AlexaSkillModule").constant("ASK_AppListingConfig",{LIST_PAGE_HEADER:"Building Alexa Skills with the Alexa Skills Kit",ADD_NEW_APP_BUTTON_TEXT:"Add a New Skill",GETTING_STARTED_PRE_TEXT:"To learn more about building Alexa skills, see ",GETTING_STARTED_LINK_TEXT:"Getting Started with the Alexa Skills Kit.",GETTING_STARTED_LAMBDA_TEXT:"To start building an Alexa skill for free using AWS Lambda, see ",
GETTING_STARTED_LAMBDA_LINK_TEXT:"Creating an AWS Lambda Function for a Custom Skill.",GETTING_STARTED_WEB_SERVICE_TEXT:"To start building an Alexa skill using your own web service, see ",GETTING_STARTED_WEB_SERVICE_LINK_TEXT:"Web Services Guide.",GETTING_STARTED_FORUM_TEXT:'We encourage you to visit the <b><a href="https://forums.developer.amazon.com/spaces/165/index.html" target="_blank" class="tocLinks">Alexa Developer Forum</a></b> to collaborate with Alexa team members and fellow Alexa developers.',
APP_LIST_HEADER:"Alexa Skills",TABLE_APP_NAME_ROW_TITLE:"Skill Name",TABLE_APP_LOCALE_ROW_TITLE:"Language",TABLE_SPOKEN_NAME_ROW_TITLE:"Invocation Name",TABLE_VERSION_ROW_TITLE:"Version",TABLE_MODIFIED_ROW_TITLE:"Modified",TABLE_APP_STATUS_ROW_TITLE:"Status",TABLE_ACTIONS_ROW_TITLE:"Actions",TABLE_SKILL_TYPES_ROW_TITLE:"Skill Type",TABLE_LANGUAGE_TITLE:"Language",EDIT_BUTTON_TEXT:"Edit",VIEW_BUTTON_TEXT:"View",DELETE_BUTTON_TEXT:"Delete",DEV_STAGE_TOOLTIP:"This skill is under development and available for editing.",
CERT_STAGE_TOOLTIP:"This skill is currently under review. If it is certified, it will be made available to Alexa end users to enable and use immediately. If this skill fails certification, you will receive an email containing further information.",LIVE_STAGE_TOOLTIP:"This skill is live for all Alexa end users to enable on their devices.",LOADING_TEXT:"Refreshing...",LIST_TAB_TEXT:"Your skills",METRICS_TAB_TEXT:"Skill Metrics",CONFIRMATION_MESSAGE_BOX:{TITLE:"Delete Skill",MESSAGE:function(a){return"This will permanently delete the skill "+
a+". Do you want to proceed ?"}},MESSAGE_BOX_BUTTONS:{DELETE:"Delete",CANCEL:"Cancel"},LOCALE_MAP:a,DELETING_TEXT:"Deleting..."}).constant("ASK_AnalyticsConfig",{ANALYTICS_LOADING_TEXT:"Loading skills metrics data..",ANALYTICS_CHART_SUBTITLE_TEXT:"Click and drag in the plot area to zoom in",ANALYTICS_SKILL_SELECT_LABEL:"Choose Alexa Skill(s):",ANALYTICS_TIME_INTERVAL_LABEL:"Time Interval (UTC)",ANALYTICS_AGGREGATION_PERIOD_LABEL:"Aggregation Period",ANALYTICS_AGGREGATION_PERIOD_KEYS:["Hourly","Daily",
"Weekly"],ANALYTICS_AGGREGATION_PERIOD_VALUES:{Hourly:60,Daily:1440,Weekly:10080},ANALYTICS_UPDATE_METRICS_BUTTON_TEXT:"Update",ANALYTICS_SKILL_STAGE_LABEL:"Skill Stage",ANALYTICS_SKILL_LOCALE_LABEL:"Language",ANALYTICS_LOCALES:a,ANALYTICS_SKILL_STAGE_VALUES:["Live","Development"],ANALYTICS_AVAILABLE_REPORT_NAMES:{TOTAL_UTTERANCE_COUNT:"Total Utterance Count",UNIQUE_CUSTOMER_COUNT:"Unique Customers Count"},ANALYTICS_AVAILABLE_REPORT_TOOLTIP_TEXTS:{TOTAL_UTTERANCE_COUNT:"Plot of total number of utterance requests sent to your service in the selected time range, aggregated on the selected period.",
UNIQUE_CUSTOMER_COUNT:"Plot of total number of unique customers using your skill in the selected time range, aggregated on the selected period."},ANALYTICS_LOCALE_PLACEHOLDER_TEXT:"Select a Language",ANALYTICS_CUSTOM_SKILL_CLARIFICATION_MESSAGE:"Skill Metrics data is only available for Custom Skills. Smart Home and Flash Briefing Skills will not appear in metrics.",ANALYTICS_CUSTOM_SKILL_AVAIL_MESSAGE:{render:function(a){return"The Skill Metrics data is available until <span class='ask-skill-metrics-date'>"+
a+"</span> for Custom skills invoked via Amazon Echo device."}}}).constant("ASK_AppEditingConfig",{FIELD_DISABLE_MESSAGE:"This field is inactive for this API",BACK_TO_APPS_LINK_TEXT:"< Back to All Skills",FIELDS_REQUIRED_TEXT:"Fields required for certification",GETTING_STARTED_LINK_TEXT:"Getting Started",CREATE_NEW_APP_TEXT:"Create a New Alexa Skill",SAVE_BUTTON_TEXT:"Save",NEXT_BUTTON_TEXT:"Next",OPTIONAL_TEXT:"(Optional)",CERTIFICATION_BUTTON:{TEXT:"Submit for Certification",DISABLED_TOOLTIP:"This skill cannot be submitted for certification until all the required fields on each page are completed."},
WITHDRAW_CERTIFICATION_BUTTON:{TEXT:"Withdraw from Certification",TOOLTIP:"By withdrawing this skill from certification, we will stop reviewing it and you will be able to edit it for a submission for certification again"},START_DEV_BUTTON_TEXT:"Start Development",BACK_TO_APP_LIST_BUTTON:"Back to the List of Skills",GOTO_DEVELOPMENT_STAGE_BUTTON:"Go to development",CREATE_NEW_VERSION_BUTTON:"Create new version",GOTO_CERTIFICATION_STAGE_BUTTON:"Go to certification",ENDPOINT_TYPE:{HTTPS:"HTTPS",LAMBDA:"LAMBDA",
GLOBAL:"GLOBAL",REGIONAL:"REGIONAL"},LOCALE_MAP:a,APP_INFO_TAB:{TEXT:"Skill Information",LANGUAGE:{TEXT:"Language",HELP:"Language of your skill"},ID:{TEXT:"Application Id",HELP:"The ID for this skill"},SKILL_TYPES:{TEXT:"Skill Type",HELP:'Define a custom interaction model or use one of the predefined skill APIs. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/understanding-the-different-types-of-skills" target="_blank" class="tocLinks">Learn more</a>'},NAME:{TEXT:"Name",
HELP:"Name of the skill that is displayed to customers in the Alexa app. Must be between 2-50 characters."},SPOKEN_NAME:{TEXT:"Invocation Name",HELP:'The name customers use to activate the skill. For example, \u201cAlexa ask Tide Pooler\u2026\u201d.<br><a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/choosing-the-invocation-name-for-an-alexa-skill" target="_blank" class="tocLinks">Invocation Name Guidelines</a>'},APP_VERSION:{TEXT:"Version",HELP:"The serial number of the skill e.g. 1.0, 1.1"},
APP_ENDPOINT:{TEXT:"Endpoint",HELP:"AWS Lambda is a server-less compute service that runs your code in response to events and automatically manages the underlying compute resources for you.",OPTION_HTTPS:"HTTPS",OPTION_LAMBDA:"AWS Lambda ARN (Amazon Resource Name)",OPTION_IS_DEFAULT:"Default",OPTION_MAKE_DEFAULT:"Make Default",DEFAULT_ENDPOINT_TOOLTIP:"Select default endpoint for Skill",OPTION_LAMBDA_TOOLTIP:"Amazon Resource Names (ARNs) uniquely identify AWS resources. We require an ARN when you need to specify a resource unambiguously across all of AWS, such as in IAM policies, Amazon Relational Database Service (Amazon RDS) tags, and API calls.",
RECOMMENDED:"Recommended",SERVICE_ENDPOINT_TYPE:"Service Endpoint Type:",AWS_LAMBDA_ARN:"AWS Lambda ARN:",HTTPS_URL:"HTTPS URL:",HTTPS_URL_NOTE:"<strong>Important note:</strong> Pick a geographical region that is closest to your target customers to provide them with the lowest network latency and the quickest response times. You will want each HTTPS URL be hosted close to the geographical region selected to ensure the best end-customer experience."},SMARTHOME_ENDPOINT:{TEXT:"Endpoint",HELP:"Lambda ARN url for Smart Home Adapter."},
LAMBDA:{MORE_INFO_LINK:'<a href="https://aws.amazon.com/lambda/" target="_blank" class="tocLinks">More info about AWS Lambda</a>',INTEGRATE_LINK:'<a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/developing-an-alexa-skill-as-a-lambda-function" target="_blank" class="tocLinks">How to integrate AWS Lambda with Alexa</a>'},VENDOR_SKU:{TEXT:"Vendor Specified SKU",HELP:"A unique ID for your app that is not visible to customers."}},REGIONS:{NA:"North America",EU:"Europe"},
INTERACTION_MODEL_TAB:{TEXT:"Interaction Model",INTENT_SCHEMA_INPUT:{TEXT:"Intent Schema",HELP:'The schema of user intents in JSON format. For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#The Intent Schema">Intent Schema.</a><br> Also see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/alexa-skills-kit-interaction-model-reference#Slot%20Types">built-in slots</a> and <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/implementing-the-built-in-intents#Available%20Built-in%20Intents"> built-in intents.</a>'},
SAMPLE_INPUT:{TEXT:"Sample Utterances",HELP:'Phrases end users say to interact with the skill. For better results, provide as many samples as you can. Note that you must select three of these to use as your Example Phrases on the Description tab.<br>For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#The Sample Utterances File">Sample Utterances.</a>'},AUDIO_PLAYER_INTENTS:{REQUIRED:["AMAZON.PauseIntent",
"AMAZON.ResumeIntent"],OPTIONAL:"AMAZON.PreviousIntent,AMAZON.NextIntent,AMAZON.ShuffleOnIntent,AMAZON.ShuffleOffIntent,AMAZON.LoopOnIntent,AMAZON.LoopOffIntent".split(",")},AUDIO_INTERFACES:{audioPlayer:{},playbackController:{}},AUDIO_PLAYER_MESSAGE:{INFO_TITLE:"Built-in intents for playback control",INFO_DESCRIPTION:"This skill uses the AudioPlayer directives. Therefore, you must include the following built-in intents in your schema: AMAZON.PauseIntent, AMAZON.ResumeIntent. Optionally additional built-in intents for playback control include: AMAZON.NextIntent, AMAZON.PreviousIntent, AMAZON.LoopOnIntent, AMAZON.LoopOffIntent, AMAZON.ShuffleOnIntent, AMAZON.ShuffleOffIntent.",
BUTTON_TEXT:"Add Pause/Resume intents",SUCCESS_ALERT:"AMAZON.PauseIntent and AMAZON.ResumeIntent have been added to your intent schema",INVALID_INTENT_SCHEMA_JSON:"Your Intent Schema JSON input is not formed correctly. Please review the Alexa Skills Kit Interaction Model Reference document and the Defining the Voice Interface document for help on structuring your input.",INCORRECT_INTENT_SCHEMA:"There was a problem with your request: The given Intent Schema is not in the correct format.",MISSING_INTENTS:"The intent schema is missing the following built-in intents: ",
SAMPLE_UTTERANCE_ERROR:'There was a problem with your request: the built-in intent {{INPUT1}} cannot be extended with sample utterances in a skill that uses the audio player directives. Occurred in sample "{{INPUT2}}" on line {{INPUT3}}.'},CATALOG_INPUT:{TEXT:"Custom Slot Types",HELP:'Custom slot types to be referenced by the Intent Schema and Sample Utterances<br>For general information about custom slots, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#custom-slot-types">Custom Slot Types.</a><br>Example: TOPPINGS - cheese | onions | ham (note: newlines displayed as | for brevity)',
ADD_CATALOG_BUTTON:"Add Slot Type"},DESCRIPTION:{SMART_HOME:'The interaction model is already built into the Smart Home Skill API and you can find the supported utterances <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/content/smart-home#faqs" target="_blank" class="tocLinks">here</a>. You just have to handle the directives sent by Alexa in your Smart Home adapter (Lambda function)',CONTENT_SKILL:"The interaction model for the Flash Briefing Skill API is already defined. Example utterances are:<br>&#8226; What's my Flash Briefing?<br>&#8226; What's in the news?"},
RAW_TEXT_SLOT:'"type":"AMAZON.1315766020"'},CATALOG_TAB:{ADD_TITLE:"Adding slot type",EDIT_TITLE:"Editing slot type",NAME:"Type",VALUES:"Values",ENTER_NAME:"Enter Type",ENTER_VALUES:"Enter Values",HELP:"Values must be line-separated",EDIT_BUTTON:"Edit",VIEW_BUTTON:"View",DELETE_CATALOG_BUTTON:"Delete",CANCEL_BUTTON:"Cancel",SAVE_CATALOG_BUTTON:"Save",SAVE_BUTTON:"Save",NAME_PLACEHOLDER:"TYPE",CONFIRMATION_MESSAGE_BOX:{TITLE:"Delete Custom Slot Type",MESSAGE:"This will permanently delete this custom slot type. Do you want to proceed ?"},
MESSAGE_BOX_BUTTONS:{DELETE:"Delete",CANCEL:"Cancel"}},SSL_CERTIFICATE_TAB:{TEXT:"SSL Certificate",LABEL:'To protect your security and the security of end users, we require that you use a certificate while developing an Alexa skill.<br>For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/registering-and-managing-alexa-skills-in-the-developer-portal#About%20the%20SSL%20Options">Registering and Managing Alexa Skills - About SSL Options</a>.',
ENDPOINT_TITLE:"Certificate for {region} Endpoint:",OPTION_HEADER:"Please select one of the three methods below for the web service:",TRUSTED:"My development endpoint has a certificate from a trusted certificate authority",WILDCARD:"My development endpoint is a sub-domain of a domain that has a wildcard certificate from a certificate authority ",SELFSIGNED:'I will upload a self-signed certificate in X.509 format. <a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/testing-an-alexa-skill#create-a-private-key-and-self-signed-certificate-for-testing" target="_blank" class="tocLinks">Learn how to create a self signed certificate.</a>'},
TESTING_TAB:{TEXT:"Test",ENABLEMENT:{HEADER_READY:"Test this skill",HEADER_NOT_READY:"Please complete the Interaction Model tab to start testing this skill.",TOGGLE_ON:"Enable",TOGGLE_ON_TRANSITION:"Enabling",TOGGLE_OFF:"Disable",TOGGLE_OFF_TRANSITION:"Disabling",TOGGLE_ON_LABEL:"This skill is enabled for testing on your account.",TOGGLE_OFF_LABEL:" This skill is disabled for testing on your account."},ENTITLEMENT:{HEADER_READY:"Start testing this skill",HEADER_NOT_READY:"Please complete the Configuration tab to start testing this skill.",
TOGGLE_ON:"Yes",TOGGLE_ON_TRANSITION:"Processing",TOGGLE_OFF:"No",TOGGLE_OFF_TRANSITION:"Processing",TOGGLE_ON_LABEL:"Show this skill in the Alexa App.",TOGGLE_OFF_LABEL:" Show this skill in the Alexa App."},SUB_TEXT:"Once you have completed testing on your device, please complete the Description and <br>Publishing Information tab, then submit the skill for certification.<br><br> If it passes Amazon's testing and certification process, it will become available to Alexa end users.",HELP_TEXT:"When testing is complete, you can submit the skill for certification. If the skill passes certification, it is made available to other Alexa customers.",
HELP:{START:"The skill is available in \u201cSkills > Your Skills\u201d page of the Alexa App when you select \u2018Yes\u2019 above. You can then enable the skill and test its functionality by asking Alexa, ",CUSTOM:"ask ",CONTENT:"\u201cWhat\u2019s my flash briefing\u201d or \u201cAlexa, what\u2019s in the news?\u201d",SMART_HOME:"discover my devices."},SMART_HOME:{SUB_TEXT:"You will be able to see your skill in the Skills tab in Alexa App and you can enable the skill and start testing.<br><br> After completing your testing please submit the skill for certification. If it passes Amazon's testing and certification process, it will become available to Alexa end users",
LINK:{TEXT:"Link with Alexa",HELP:"Share this link with others to let them test your skill"}},ENABLE_TEST_TOOLTIP:"Please note that if there are multiple versions of the skill, you can enable only one at a time.",SIMULATOR:{TEXT:"Text input",INTENT:"Json input",INVALID_NLU_RESPONSE_ERROR:"Unable to generate request for your skill.",VOICE_REQUEST:{DEFAULT_TEXT:'Here is a word spelled out: <say-as interpret-as="spell-out">hello</say-as>.',AJAX_URL:"/edw/ajax/getTTS",SUB_HEADER:'Hear how Alexa will speak a response entered in plain text or SSML. <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/speech-synthesis-markup-language-ssml-reference">Learn more about supported SSML tags.</a>',
SUB_HEADER_EXAMPLE:'For example: Here is a word spelled out: <say-as interpret-as="spell-out">hello</say-as>.'},REQUEST:{HTTP_REQUEST:"Service Request",LAMBDA_REQUEST:"Lambda Request"},RESPONSE:{HTTP_RESPONSE:"Service Response",LAMBDA_RESPONSE:"Lambda Response"},TEXT_INPUT:{TEXT:"Enter Utterance"},EXPERT_INPUT:{TEXT:"Json Request",HELP:'For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/alexa-skills-kit-interface-reference">Alexa skills kit interface reference.</a>'},
HTTP_TEXT:"http end point",LAMBDA_TEXT:"lambda function"}},MULTIMEDIA_TAB:{TEXT:"Images & Multimedia",APP_IMAGE_INPUT:{TYPE:"SMALL_ICON",TEXT:"Small Icon",HELP:"108 x 108 pixel PNG (can include transparency) or JPG file that represents this skill. Displays in the Alexa App."},APP_IMAGE_LARGE_INPUT:{TYPE:"LARGE_ICON",TEXT:"Large Icon",HELP:"512 x 512 pixel PNG (can include transparency) or JPG file that represents this skill. Displays in the Alexa App on larger screens."},APP_IMAGE_MASKED:{TYPE:"MASKED_SMALL_ICON",
TEXT:"Small Icon",HELP:"108 x 108px PNG(with transparency) or JPG. This is displayed in the Alexa App."},APP_IMAGE_MASKED_LARGE:{TYPE:"MASKED_LARGE_ICON",TEXT:"Large Icon",HELP:"512 x 512px PNG (with transparency) or JPG. This is used when displaying the skill in the Alexa App on larger screens."},APP_IMAGE_PROMOTION_INPUT:{TYPE:"PROMOTIONAL_IMAGE",TEXT:"Promotional Image",HELP:"1024 x 500px (landscape only) PNG or JPG."},APP_IMAGE_SCREENSHOT_INPUT:{TYPE:"SCREENSHOT",TEXT:"Screenshots",HELP:"Between 3 and 10 PNGs or JPGs 800 x 480px, 1024 x 600px, 1280 x 720px, 1280 x 800px, 1920 x 1080px, 1920 x 1200px, or 2560 x 1600px (portrait or landscape)."}},
VOICE_NAME:{EN_US_NINA:"en_us_nina",EN_GB_ABBEY:"en_gb_abbey",DE_DE_SILKE:"de_de_silke"},PRESENTATION_TAB:{TEXT:"Description",NOTE:"<b>Note:</b> You can preview your skill's detail page in the Alexa App during development. In the Alexa App, click Skills, then find your skill in the list.",SUB_SECTIONS:{IMAGES:"Images"},CATEGORY_INPUT:{TEXT:"Category",HELP:"The category that best describes your skill. This helps customers find skills like yours."},SUB_CATEGORY_INPUT:{TEXT:"Sub Category"},APP_DESCRIPTION_INPUT:{TEXT:"Full Skill Description",
HELP:"A description of the skill\u2019s purpose and features, and how it works. Should describe any prerequisites like hardware or account requirements and detailed steps for the customer to get started. For Flash Briefing skills, list the feeds offered within the skill.  Use a conversational tone and correct grammar and punctuation. This description displays to customers on the skill detail card in the Alexa app."},APP_SHORT_DESCRIPTION_INPUT:{TEXT:"Short Skill Description",HELP:"A short description (160 character maximum) that displays in the skill list in the Alexa App."},
EXAMPLE_PHRASES_INPUT:{TEXT:"Example Phrases",HELP:"These are common phrases customers say to interact with your skill. List three phrases from your sample utterances with valid slot values provided.The first phrase should include Alexa and your skill\u2019s invocation name. For example, \u201cAlexa, ask Tide Pooler when is high tide in Seattle\u201dThe second and third phrases can be follow-up questions or additional invocation phrases.These phrases will be tested for certification purposes, so make sure they work with your skill.",
HELPV2:'Review <a ng-click="$parent.$parent.showSampleUtterances()">your sample utterances</a> and enter three that will help users get started and access your skill\'s core functionality. Include the wake word and invocation name in the first phrase. You can also review the <a ng-click="$parent.$parent.scrollTo101()">Example Phrases 101 section</a> below for examples.',CONTENT_HELP:"These are the default sample phrases for the API you selected. The phrases are displayed on the detail card in the Alexa App to teach users how to interact with the skill",
SMART_HOME_HELP:'Important: Many developers fail certification due to this step so please read carefully. You can see <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/content/smart-home#faqs" target="_blank" class="tocLinks">here</a> some of the common utterances supported by Smart Home Skill API. Using these as reference please provide three phrases supported by your skill. These are displayed on the detail card in the Alexa App and should teach users how to interact with the skill.'},
EXAMPLE_PHRASES_101_TOOLTIP:{WAKE_WORD:"The default wake word for Alexa.",INVOKE_SKILL:"One of the words users can say to invoke a skill.",INVOKE_SKILL_OTHER_OPTIONS:"One of the words users can say to invoke a skill. Other options include <b>Launch, Start, Talk To,</b>  and others.",INVOCATION_NAME:"Your skill\u2019s invocation name, written in title case.",CONNECTING_WORD_ASK:"Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with an \u201cask\u201d phrase are:<b>to, about, for, if, whether.</b> Alternatively, you can leave out the connecting word, but use a sample utterance that begins with a question word such as \u201cwhat\u201d or \u201chow\u201d:\u201cAsk Daily Horoscopes what\u2019s the horoscope for Taurus.\u201d",
CONNECT_WORD_TELL:"Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with a \u201ctell\u201d phrase are:<b>to, that.</b>",SAMPLE_UTTERANCE:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."},EXAMPLE_PHRASES_101_INSTRUCTION:{TITLE:"Example Phrases 101",INSTRUCTIONS:[{LEAD_DESC:"First Example Phrase let users invoke the skill and must include the Alexa wake word and invocation name. Refer below to specify First Example Phrase.",
EXAMPLES:[{INVOKE_TYPE:"Invoking skill with no <strong>specific intent:</strong>",PHRASES:{en_US:[d,{TEXT:"Open",TOOLTIP:"One of the words users can say to invoke a skill. Other options include <strong>Launch, Start, Talk To,</strong> and others."},j],de_DE:[g,{TEXT:"\u00d6ffne",TOOLTIP:"One of the words users can say to invoke a skill."},f]}},{INVOKE_TYPE:"Invoking skill with a <strong>specific intent:</strong>",PHRASES:{en_US:[d,b,j,{TEXT:"For",TOOLTIP:'Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with an "ask" phrase are: <strong>to, about, for, if, whether.</strong> Alternatively, you can leave out the connecting word, but use a sample utterance that begins with a question word such as "what" or "how": "Ask Daily Horoscopes what\'s the horoscope for Taurus."'},
{TEXT:"The horoscope for taurus",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."}],de_DE:[g,{TEXT:"frage",TOOLTIP:"One of the words users can say to invoke a skill."},f,{TEXT:"nach dem L\u00f6wenhoroskop",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."}]}},{INVOKE_TYPE:"Using connector:",PHRASES:{en_US:[d,b,j,{TEXT:"To",TOOLTIP:'Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with a "tell" phrase are: <strong>to, that.</strong>'},
h]}},{INVOKE_TYPE:"Without connector:",PHRASES:{en_US:[d,b,j,{TEXT:"I want my Taurus horoscope for today",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."}]}}]},{LEAD_DESC:"Second and Third Example Phrases let users interact with your skill post invocation.For skills which don't keep stream open after launch (i.e. non-conversational skills), follow the same specifications as First Example Phrase above. For skills which leave stream open after launch (i.e. conversational skills), standalone sample utterances as shown below are also acceptable. You can copy and paste these from your utterances to match the verbatim.",
EXAMPLES:[{INVOKE_TYPE:"Open stream conversation example:",PHRASES:{en_US:[h],de_DE:[{TEXT:"Sag mir das L\u00f6wenhoroskop",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."}]}}]}],SAMPLE_UTTERANCES:"View Sample Utterances",GUIDELINES:"Detailed Guidelines"},SEARCH_KEYWORDS_INPUT:{TEXT:"Keywords",HELP:"Search terms that you would use to describe your skill. This helps customers find your skill. Use spaces or commas in between terms."},
MARKETING_BULLETS_INPUT:{TEXT:"Feature Bullets",HELP:"Three to five concise skill features. These features will appear on the Amazon.com website."},DISTRIBUTION_INPUT:{TEXT:"Distribution",HELP:"Your skill will be distributed in countries you will select on the list. Countries that are not on the list are hidden under Rest of the world"}},RELEASE_INFO_TAB:{TEXT:"Release Info",RELEASE_DATE_INPUT:{TEXT:"Target Release Date",HELP:""},TESTING_INSTRUCTIONS_INPUT:{TEXT:"Testing Instructions",HELP:"Please detail any special instructions to test your skill. Include any account or hardware requirements. This information is used by the certification team and is not displayed to customers."},
NEW_FEATURES_INPUT:{TEXT:"New Features",HELP:"Description of what's new in this version of the skill, such as new features, improvements, and bug fixes."}},PRIVACY_COMPLIANCE_TAB:{TEXT:"Privacy & Compliance"},CONFIGURATION_TAB:{TEXT:"Configuration",CONTENT:{SUB_SECTIONS:{CONTENT_FEED:"Flash Briefing Feed Configuration"},CUSTOM_ERROR_MESSAGE_INPUT:{TEXT:"Custom Error Message",HELP:'Alexa says this to the customer if the skill fails rendering the content. For example, \u201cSkill Name is not available at the moment".(100 character maximum)'},
FEED_INFO_INPUT:{TEXT:"Feed Information",HELP:"Provide a URL and descriptive information for each feed offered with the skill.",ADD_NEW_FEED:{TEXT:"Add new feed"}},FEED_LIST:{NAME:"Name",TYPE:"Content Type",GENRE:"Content Genre",EDIT:"Edit",DEFAULT:"Default",HELP:"This feed will be turned on by default when the skill is enabled",IMAGE_HELP:"Please add image to complete this feed"},FEED_BOX:{CANCEL:"Cancel",DELETE:"Delete",TITLE:"Delete Feed",MSG:"This will permanently delete this feed. Do you want to proceed ?",
DEFAULT_FEED_MSG:"Cannot delete feed: This is a default feed. Change the default feed and try again."},FEED_EDIT:{ADD_TITLE:"Adding Feed",EDIT_TITLE:"Editing Feed",PREAMBLE_INPUT:{TEXT:"Preamble",HELP:'A short introduction for the feed that Alexa reads to the customer before the feed contents. Should start with "In" or "From". For example, "In developer news\u2026" (70 char max.)'},NAME_INPUT:{TEXT:"Name",HELP:'Identifies this feed. For example, "Developer news"'},UPDATE_FREQUENCY_INPUT:{TEXT:"Content update frequency",
HELP:"How often the feed has new content."},CONTENT_TYPE_INPUT:{TEXT:"Content type",HELP:"Format of the feed content."},CONTENT_GENRE_INPUT:{TEXT:"Content genre",HELP:"The type or subject of the content in the feed."},URL_INPUT:{TEXT:"URL",HELP:'Link to the location of the feed. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/flash-briefing-skill-api-feed-reference" target="_blank" class="tocLinks">Learn more</a>.'},FEED_ICON:{TEXT:"Feed Icon",HELP:"512 x 512 pixel PNG (can include transparency) or JPG file that represents this feed."},
IMAGE_UPLOAD:{SUCCESS:"Feed icon uploaded successfully."}}}},ALEXA_APPSTORE_INFO_TAB:{TEXT:"Publishing Information",SUB_SECTIONS:{ACCOUNT_LINKING:"Account Linking",AUDIO_PLAYER:"Audio Player",PRIVACY:"Privacy",COMPLIANCE:"Compliance",PERMISSIONS:"Permissions"},ACCOUNT_LINKING_AUTH_GRANT_LABEL:{YES_LABEL:"Implicit Grant",NO_LABEL:"Auth Code Grant"},ACCOUNT_LINKING_FLAG_INPUT:{TEXT:"Account Linking",HELP:'Do you allow users to create an account or link to an existing account with you? <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/linking-an-alexa-user-with-a-user-in-your-system">Learn more</a>'},
ACCOUNT_LINKING_URL_INPUT:{TEXT:"Authorization URL",HELP:"The url where customers will be redirected in the companion app to enter login credentials."},ACCOUNT_LINKING_DOMAINS_LIST_INPUT:{TEXT:"Domain List",HELP:"The list of domains that the authorization URL will fetch content from. You can provide up to 15 domains."},ACCOUNT_LINKING_CLIENT_ID_INPUT:{TEXT:"Client Id",HELP:"Unique public string used to identify the client requesting for authentication."},ACCOUNT_LINKING_GRANT_TYPE_INPUT:{TEXT:"Authorization Grant Type",
HELP:'Specifies the OAuth authorization grant that Alexa uses to obtain an access token from your provider. <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/linking-an-alexa-user-with-a-user-in-your-system"> Learn more.</a>',ACCESS_TOKEN_URI:"Access Token URI",ACCESS_TOKEN_URI_HELP:"This URI will be used for both access token and token refresh requests.",CLIENT_SECRET:"Client Secret",AUTH_SCHEME:"Client Authentication Scheme"},ACCOUNT_LINKING_CLIENT_AUTH_SCHEMES:[{label:"HTTP Basic (Recommended)",
val:!0},{label:"Credentials in request body",val:!1}],ACCOUNT_LINKING_SCOPE_INPUT:{TEXT:"Scope",HELP:"List of permissions to request from the skill user. You can provide up to 15 scopes."},ACCOUNT_LINKING_REDIRECT_URL:{TEXT:"Redirect URL",HELP:"HTTPs redirection endpoint uri you want to direct to after completing the authorization interaction with user."},AUDIO_PLAYER_FLAG_INPUT:{TEXT:"Audio Player",HELP:'Does this skill use the audio player directives? <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/custom-audioplayer-interface-reference">Learn more</a>.',
ERROR:"Please indicate whether this skill uses the audio player directives."},EXPORT_COMPLIANCE_INPUT:{TEXT:"Export Compliance",HELP:"",CONTENT:"I certify that this Alexa skill may be imported to and exported from the United States and all other countries and regions in which we operate our program or in which you've authorized sales to end users (without the need for us to obtain any license or clearance or take any other action) and is in full compliance with all applicable laws and regulations governing imports and exports, including those applicable to software that makes use of encryption technology."},
UCI_INPUT:{TEXT:"Does this Alexa skill collect users\u2019 personal information?",HELP:"This includes anything that can identify the user such as name, email, password, phone number, birthdate, etc."},CHILDREN_APP_INPUT:{TEXT:"Is your skill directed to children under the age of 13?",HELP:'Not sure? <a ng-click="$parent.$parent.showChildrenAppDialog()">Learn More</a>.',DIALOG_TITLE:"More about COPPA ..",DIALOG_CONTENT:'<p>Please indicate if your skill is directed to children under the age of 13, as determined under the <a target="_blank" href="https://www.ftc.gov/tips-advice/business-center/privacy-and-security/children%27s-privacy">Children\'s Online Privacy Protection Act (COPPA)</a>.</p><p>Factors to consider in determining if your skill is directed to children include:</p><ul><li>subject matter of the skill</li><li>presence of child-oriented activities and incentives</li><li>type of language used in the skill</li><li>music and other audio content in the skill</li><li>how the skill is described and marketed</li><li>intended audience for the skill</li></ul><p>Please see the <a target="_blank" href="https://www.ftc.gov/tips-advice/business-center/guidance/complying-coppa-frequently-asked-questions">FTC\'s COPPA Guidance and FAQ</a> for more information.</p><p>Failure to provide accurate information about if your skill is child-directed may result in termination of your developer account.</p>'},
PRIVACY_URL_INPUT:{TEXT:"Privacy Policy URL",HELP:"Link to the privacy policy that applies to this skill.",HELP_UNDER_ACCOUNT_LINKING:"Link to the Privacy Policy for this skill. This is mandatory for account linking."},TOU_INPUT:{TEXT:"Terms of Use URL",HELP:"Link to the terms of use document for this skill."},APP_PURCHASE_INPUT:{TEXT:"Does this skill allow users to make purchases or spend real money?"},PERMISSIONS:{TABLE:{LEFT_COLUMN_SUB_HEADER:"Request users to access resources and capabilities",
LEFT_COLUMN_SUB_HEADER_DESCRIPTION:"Please request permissions to resources and capabilities that are absolutely core to the customer experience delivered by the skill.",RIGHT_COLUMN_TEXT_AREA_DESCRIPTION:"Please explain why you need to ask users for this permission."},TYPE:{NOTIFICATIONS:"Notifications",STANDARD_NOTIFICATIONS:"Standard notifications",URGENT_NOTIFICATIONS:"Urgent notifications",DEVICE:"Device",DEVICE_LOCATION:"Access location (address)",DEVICE_ZIP_CODE:"Access zip code"},LWA_SCOPE:{STANDARD_NOTIFICATIONS:"write::alexa:devices:all:notifications:standard",
URGENT_NOTIFICATIONS:"write::alexa:devices:all:notifications:urgent",DEVICE_ADDRESS_READ:"alexa:current_device_address_read",DEVICE_POSTAL_CODE_READ:"alexa:current_device_postal_code_read"},ALEXA_SKILL_MESSAGING:{TITLE:"Alexa Skill Messaging",TEXT:"Use clientId and clientSecret for skill messaging, enabling out-of-session (non-customer invoked) events to be sent to skill code.",SHOW_BUTTON_TEXT:"Show",HIDE_BUTTON_TEXT:"Hide",CLIENT_SECRET_HIDDEN_TEXT:"*******************************************************************"}}},
SAVE_MESSAGE_BOX:{TITLE:"Save changes",TEXT:"Do you want to save changes before leaving the current tab?"},CONFIRMATION_MESSAGE_BOX:{TITLE:"Save Global changes",TEXT:"You provided a change in the Global field. This change will apply to your skill globally, In every language.\nAre you sure you want to do that?"},DISCARD_MESSAGE_BOX:{TITLE:"Discard changes",TEXT:"Do you want to discard changes before leaving the current tab?"},DELETE_MESSAGE_BOX:{TITLE:"Delete Locale",TEXT:function(a){return"This will permanently delete the locale "+
a+". Do you want to proceed ?"}},SUBMIT_MESSAGE_BOX:{TITLE:"Submit for certification",TEXT:"Are you sure you want to submit this skill for certification? You cannot edit the skill while it is under review."},WITHDRAW_MESSAGE_BOX:{TITLE:"Withdraw skill",TEXT:"Your application will be withdrawn from certification. Please let us know the reason of withdrawal choosing the option below"},COPY_MESSAGE_BOX:{TITLE:"Create new version",TEXT:"Create a new skill version based on current live version?"},MESSAGE_BOX_BUTTONS:{SAVE:"Save",
DISCARD:"Discard",CANCEL:"Cancel",WITHDRAW:"Withdraw",DELETE:"Delete",YES:"Yes",NO:"No",APPLY:"Yes, Apply",BACK:"No, go back to the previous screen",CREATE:"Create"},WITHDRAW_MESSAGE_BOX_SELECT:{TEST_SKILL:"This is a test skill and not meant for certification.",MORE_FEATURES:"I want to add more features to the skill.",DISCOVERED_ISSUE:"I discovered an issue with the skill.",NOT_RECEIVED_CERTIFICTION_FEEDBACK:"I haven\u2019t received certification feedback yet.",NOT_INTEND_TO_PUBLISH:"I do not intend to publish the skill right away.",
OTHER:"Other"},GLOBAL_FIELD_TITLE:"Global Fields",GLOBAL_FIELD_HINT:"These fields apply to all languages supported by the skill.",ACTION_MESSAGES:{LOADING:"Please wait while this Alexa skill is updated...",APP_RETRIEVE:{LOADING:"Please wait while details for this skill are retrieved..."},APP_CREATE:{LOADING:"Please wait while the new skill is created..."},APP_INFO_SAVE:{SUCCESS:"Successfully updated the skill."},MODEL_SAVE:{SUCCESS:"Successfully updated the interaction model.",FAILURE:"Failed building the interaction model.",
BUILDING:"Please wait while model is being built..."},CERT_SAVE:{SUCCESS:"Successfully updated the SSL certificate",ERROR_SELF_SIGNED:"You must use a trusted SSL certificate before you can submit for certification!"},RELEASE_INFO_SAVE:{SUCCESS:"Successfully updated the release information."},PRESENTATION_SAVE:{SUCCESS:"Successfully updated the presentation information."},DELETE_LOCALE:{SUCCESS:"Successfully deleted the locale."},APPSTORE_INFO_SAVE:{SUCCESS:"Successfully updated the publishing information."},
APP_ENABLE:{LOADING:"Please wait while this skill is enabled for testing...",SUCCESS:"Alexa skill was successfully enabled."},APP_DISABLE:{LOADING:"Please wait while this skill is disabled for testing...",SUCCESS:"Alexa skill was successfully disabled."},APP_SUBMIT:{LOADING:"Please wait while the submission process for this skill is initiated...",SUCCESS:{TITLE:"Skill submission initiated.",MESSAGE:" The submission process for your skill has been initiated. You will receive a response from the team soon. You cannot edit this skill while waiting for certification."}},
APP_WITHDRAW:{LOADING:"Please wait while this skill is withdrawn from certification...",SUCCESS:{TITLE:"Skill withdrawn from certification.",MESSAGE:"This skill has been withdrawn from certification. You can now edit this skill and submit it for certification again when you are ready."}},APP_COPY:{LOADING:"Please wait while a new version is created...",SUCCESS:{TITLE:"New version of skill created",MESSAGE:"A new version of this skill has been created from the live version. You can now edit this skill and submit it for certification again when you are ready."}}},
PUBLISHING_INFO:{COUNTRIES_AND_REGION:{NAME:"Countries & Region:",DESCRIPTION:"Where would you like this skill to be available?",ALL_COUNTRIES:"In all countries and regions where Amazon has presence",SELECT_COUNTRIES:"Only in the following countries and regions..."}},COUNTRY_SELECTOR:{SELECT_ALL_COUNTRIES:"Select all countries",DESELECT_ALL_COUNTRIES:"Deselect all countries"}})})(window.angular);define("AlexaSkill/AlexaSkillConstants",function(){});
(function(e){e.module("AlexaSkillModule").service("AlexaInterfaceService",["ASK_AppEditingConfig","AlexaAppManagementStorage","CommonService",function(a,d,b){function j(a,c){if(typeof a!=="string"||a.length===0)return!1;var b;for(b=0;b<c.length;b++)if(a.indexOf(c[b].intent)>-1){var f=a.split(/(\r\n|\n|\r)/gm),e;for(e=0;e<f.length;e++)if(f[e].indexOf(c[b].intent)>-1)break;return{error:!0,message:d.alexaConstantReplace(g.SAMPLE_UTTERANCE_ERROR,{INPUT1:c[b].intent,INPUT2:f[e],INPUT3:e/2+1}),intentSchemaJson:{},
missingIntents:[]}}}function h(a){if(a&&a.length>0)try{return a=b.cleanJSON(a),CodeMirror.jsonValidator(a),a=e.fromJson(a)}catch(c){return{error:!0,message:g.INVALID_INTENT_SCHEMA_JSON,intentSchemaJson:{},missingIntents:[]}}return{error:!1,message:"",intentSchemaJson:{},missingIntents:[]}}var g=a.INTERACTION_MODEL_TAB.AUDIO_PLAYER_MESSAGE,f=a.INTERACTION_MODEL_TAB.AUDIO_PLAYER_INTENTS,c=Object.keys(a.INTERACTION_MODEL_TAB.AUDIO_INTERFACES),k=function(a){if(!a||!a.getCustomInteractionModelInfo()||
!a.getCustomInteractionModelInfo().implementedInterfaces)return!1;for(var b=a.getCustomInteractionModelInfo(),a=0;a<c.length;a++)if(!b.implementedInterfaces[c[a]])return!1;return!0},m=function(a,c){if(!k(a))return!0;if(a.modelDef[c]&&a.modelDef[c].models&&a.modelDef[c].testCases&&a.hasValidEndpoint()){var b=n(c,a.modelDef[c].models,a.modelDef[c].testCases);if(!b.error&&b.missingIntents.length===0)return!0}return!1},n=function(a,c,b){var d=[],k=[];f.REQUIRED.forEach(function(a){d.push({intent:a,string:'{"intent":"'+
a+'"}'})});f.OPTIONAL.forEach(function(a){k.push({intent:a,string:'{"intent":"'+a+'"}'})});var m=h(c);if(m.error)return m;var x=[{intent:"",string:""}],w;if(m&&m.intents){var n=[];m.intents.forEach(function(a){n.push(JSON.stringify(a).replace(/\s+/g,"").replace(/'/g,'"'))});x=[];w=[];d.forEach(function(a){n.indexOf(a.string)>-1?w.push(a):x.push(a)});k.forEach(function(a){n.indexOf(a.string)>-1&&w.push(a)});x.forEach(function(a){m.intents.unshift({intent:a.intent})})}else{var t="";f.REQUIRED.forEach(function(a,
c){t=t+'        {"intent": "'+a;t+=c<f.REQUIRED.length-1?'"},\n':'"}\n'});m=e.fromJson('{\n    "intents": [\n'+t+"    ]\n}");x=d;w=[]}if(a=j(b,w))return a;var q="";if(x.length>0)q=g.MISSING_INTENTS,x.forEach(function(a,c){q+=a.string;c<x.length-1&&(q+=", ")});return{error:!1,message:q,intentSchemaJson:m,missingIntents:x}};return{getAudioPlayerStatus:k,handleAudioInterfaceChange:function(a,b,d){var f=a.getCustomInteractionModelInfo();if(b){if(!f.implementedInterfaces)a.getCustomInteractionModelInfo().implementedInterfaces=
{};c.forEach(function(c){a.getCustomInteractionModelInfo().implementedInterfaces[c]={}});d&&(m(a,d)?a.enableAsync(d):a.disableAsync(d))}else f.implementedInterfaces&&c.forEach(function(c){f.implementedInterfaces[c]&&delete a.getCustomInteractionModelInfo().implementedInterfaces[c]});return a},validateAudioInterface:n}}])})(window.angular);define("AlexaSkill/AlexaInterfaceService",function(){});
(function(e){e.module("AlexaSkillModule").factory("AlexaAppManagementAjax",["CommonAjax","ASK_AppEditingConfig","$q",function(a,d,b){function j(a){if(a.skillDefinition!==null&&a.skillDefinition.permissionInfo!==null){for(var b=a.skillDefinition.permissionInfo.permissions,c={},d=0;d<b.length;d++)c[b[d].scope]=b[d].requestReasonAndTestingInstructions;a.skillDefinition.permissionInfo.permissions=c}return a}function h(a){if(a.skillDefinition&&a.skillDefinition.permissionInfo){var b=a.skillDefinition.permissionInfo,
c=a.skillDefinition.permissionInfo.permissions,d=[],e;for(e in c)c.hasOwnProperty(e)&&d.push({scope:e,requestReasonAndTestingInstructions:c[e]});b.permissions=d}return a}return{properties:a.properties,refreshAppInfosAsync:function(){return b(function(b,d){a.sendGetRequestAsync("/edw/ajax/ask/getApps").then(function(a){for(var d=0;d<a.length;d++)a[d]=j(a[d]);b(a)},d)})},invokeSkillWithTextAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/invokeSkillWithText",b)},invokeSkillAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/invokeSkillWithJson",
b)},createApplicationVersionAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/cloneApplication",b)},withdrawApplicationAsync:function(d){return b(function(b,c){a.sendPostRequestAsync("/edw/ajax/ask/withdrawApplication",d).then(function(a){a.skillInfo=j(a.skillInfo);b(a)},c)})},submitApplicationAsync:function(d){return b(function(b,c){a.sendPostRequestAsync("/edw/ajax/ask/submitApplication",d).then(function(a){a.skillInfo=j(a.skillInfo);b(a)},c)})},getEnabledAppsAsync:function(){return a.sendGetRequestAsync("/edw/ajax/ask/getEnabledApps")},
enableApplicationAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/enableApp",b)},disableApplicationAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/disableApp",b)},createPartnerAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/createPartner",b)},createApplicationAsync:function(d){var f=e.copy(d);f.edwSkillInfo.skillDefinition.permissionInfo={permissions:[]};return b(function(c,b){a.sendPostRequestAsync("/edw/ajax/ask/createApplication",f).then(function(a){a=
j(a);c(a)},b)})},deleteApplicationAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/deleteApp",b)},getLastSavedModelDefAsync:function(b,d,c){return a.sendGetRequestAsync("/edw/ajax/ask/getLastSavedModelDef?appId="+b+"&stage="+d+"&locale="+c)},getModelBuildStatusAsync:function(b,d){return a.sendGetRequestAsync("/edw/ajax/ask/getModelBuildStatus?appId="+b+"&locale="+d)},getLastSavedSSLCertificateAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/getLastSavedSSLCertificate?appId="+
b)},getPermissionsClientSecretAsync:function(b,d){return a.sendGetRequestAsync("/edw/ajax/ask/getPermissionsClientSecret?skillId="+b+"&profileId="+d)},fetchAvailableAppCategories:function(){return a.sendGetRequestAsync("/edw/ajax/ask/fetchAvailableAppCategories")},fetchAppConfigurationsAsync:function(){return a.sendGetRequestAsync("/edw/ajax/ask/fetchAppConfigurations")},updateAppAsync:function(d){var f=e.copy(d);f.skillInfo=h(f.skillInfo);return b(function(c,b){a.sendPostRequestAsync("/edw/ajax/ask/updateApp",
f).then(function(a){a.skillInfo=j(a.skillInfo);c(a)},b)})},updateIntentSchemaAsync:function(d){return b(function(b,c){a.sendPostRequestAsync("/edw/ajax/ask/updateApplicationModels",d).then(function(a){a.skillInfo=j(a.skillInfo);b(a)},c)})},updateSSLCertAsync:function(b){b=e.copy(b);b.appInfo=h(b.appInfo);return a.sendPostRequestAsync("/edw/ajax/ask/updateApplicationSSLCertificate",b)},getImageUploadUrlAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getImageUploadUrl",b)},getImageRetrievalUrlAsync:function(b,
d){return a.sendGetRequestAsync("/edw/ajax/ask/getImageRetrievalUrl?assetId="+b+"&type="+d)},getAllImageRetrivalUrlsAsync:function(b,d){return a.sendGetRequestAsync("/edw/ajax/ask/getAllImageRetrievalUrls?appId="+b+"&stage="+d)},getAllAppIconRetrievalUrlsAsync:function(){return a.sendGetRequestAsync("/edw/ajax/ask/getAllAppIconRetrievalUrls")},uploadFileAsync:function(b,d){return a.uploadFileAsync(b,d)},getAnalyticsDataAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getAnalyticsData",
b)},getImageResourceUploadUrlAsync:function(b,d,c,e){b||(b="");return a.sendGetRequestAsync("/edw/ajax/ask/getImgResUploadUrl?type="+b+"&name="+c+"&size="+e)},getImageResourceRetrievalUrlAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/getImgResRetrievalUrl?id="+b)},batchGetImageResourceRetrievalUrlAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/batchGetImgResRetrievalUrls?ids="+b)}}}])})(window.angular);define("AlexaSkill/AppManagement/AlexaAppManagementAjax",function(){});
(function(e){e.module("AlexaSkillModule").factory("AlexaAppIconCache",["AlexaAppManagementAjax","$q","ASK_AppEditingConfig",function(a,d,b){function e(){this._list=[]}function h(a,c,b){if(k[a+c]=b)for(var d=0;d<m.length;++d){var f=m[d];f.func.apply(f.target,[a,c,b])}}function g(){!c&&!f.isEmpty()&&(c=f.dequeue(),a.getImageRetrievalUrlAsync(c.appId,c.stage,c.locale,n).then(function(a){h(c.appId+c.stage,c.locale,a.retrievalUrl);c=null;g()},function(){c=null;g()}))}var f,c,k={},m=[],n=b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE;
e.prototype={enqueue:function(a,c){this._list.push({appId:a.skillInfo.skillId,stage:a.skillInfo.stage,locale:c})},dequeue:function(){var a=this._list[0];this._list.splice(0,1);return a},contains:function(a,c){for(var b=0;b<this._list.length;++b){var d=this._list[b];if(d.appId===a.skillInfo.skillId&&d.stage===a.skillInfo.stage&&d.locale===c)return!0}return!1},isEmpty:function(){return this._list.length===0}};f=new e;return{fetchApplicationIcon:function(a,b){var d=a.getAppKey()+b;if(k[d]===void 0&&
!(f.contains(a,b)||c&&c.appId===a.skillInfo.skillId&&c.stage===a.skillInfo.stage&&c.locale===b))f.enqueue(a,b),g()},uploadAppIconAsync:function(c,f,e){return d(function(d,g){var h={},j=c.getAppKey();h.applicationId=c.skillInfo.skillId;h.stage=c.skillInfo.stage;h.locale=e;h.fileName=f.name;h.contentSize=f.size;h.imageType=b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE;var m;a.getImageUploadUrlAsync(h).then(function(c){var b={};b.uploadURL=c.uploadUrl;b.file=f;m=c.imageAssetId;return a.uploadFileAsync(b,{sizeLimit:"100kb",
dimensionLimit:"108 x 108"})}).then(function(){return a.getImageRetrievalUrlAsync(m,b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE)}).then(function(a){k[j+e]=a.retrievalUrl;d({url:a.retrievalUrl,newImageAssetId:m})},function(a){g(a)})})},addCacheUpdateEventHandler:function(a,c){m.push({target:a,func:c})},getCachedAppIconUrl:function(a,c){return k[a+c]},updateCache:h}}])})(window.angular);define("AlexaSkill/AppManagement/AlexaAppIconCache",function(){});
(function(e){e.module("AlexaSkillModule").factory("AlexaAppManagementStorage",["AlexaAppManagementAjax","AlexaAppIconCache","ASK_AppEditingConfig","$q","$rootScope","$filter","$interval","NoImage","CommonService","EDW_CONFIG",function(a,d,b,j,h,g,f,c,k,m){function n(a,c,d){var f=this;f.skillInfo=a;f.isAccountLinkingEnabled=!(!f.getAccountLinkingInfo()||!f.getAccountLinkingInfo().partnerId);f.modelDef={};f._imageUrls={};e.forEach(u,function(a,c){f.modelDef[c]={};f.modelDef[c].catalogs=[];f._imageUrls[c]=
{};f._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE]=r;f._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE]=r;f._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE]=r;f._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE]=r});f._imageUrls["new"]={};f._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE]=r;f._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE]=r;f._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE]=r;f._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE]=
r;if(c)f._isFetched=!0,d?(f._imageUrls=d._imageUrls,f.modelDef=e.copy(d.modelDef),f.sslCert=e.copy(d.sslCert)):(f.modelDef={},e.forEach(u,function(a,c){f.modelDef[c]={};f.modelDef[c].catalogs=[]}))}function l(c,b){a.getModelBuildStatusAsync(c.skillInfo.skillId,b).then(function(a){v(c,b,a.modelBuildStatus);a.modelBuildStatus===y.pending&&f(function(){l(c,b)},a.pollingWaitTime,1,!0)},function(){f(function(){l(c,b)},15E3,1,!0)})}function v(a,c,b){a.skillInfo.stage===q.dev&&b!==H[a.skillInfo.skillId+
c]&&(H[a.skillInfo.skillId+c]=b,b===y.pending&&l(a,c),h.$broadcast("AlexaAppManagementStorage.ModelBuildStatusChanged",a))}function p(c){return j(function(d,f){if(c._isFetched)d(c);else{var g=c.skillInfo.skillId,h=c.skillInfo.stage;a.getAllImageRetrivalUrlsAsync(g,h).then(function(d){if(d&&d.iconUrlsByLocale){var d=d.iconUrlsByLocale,f;for(f in d)d.hasOwnProperty(f)&&(d[f].maskedSmallIconUrl!==null?c.setImageUrl(d[f].maskedSmallIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,f):c.setImageUrl(d[f].smallIconUrl,
b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,f),d[f].maskedLargeIconUrl!==null?c.setImageUrl(d[f].maskedLargeIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,f):c.setImageUrl(d[f].largeIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,f))}f=[];for(var d=c.getLocales(),e=0;e<d.length;e++)f.push(a.getLastSavedModelDefAsync(g,h,d[e]));return j.all(f)},function(){c.setImageUrl(r,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,D);for(var d=[],f=c.getLocales(),e=0;e<f.length;e++)d.push(a.getLastSavedModelDefAsync(g,
h,f[e]));return j.all(d)}).then(function(b){for(var d=0;d<b.length;d++){var f=b[d].locale;c.modelDef[f]=e.copy(b[d].modelDef);v(c,f,b[d].modelBuildStatus)}return a.getLastSavedSSLCertificateAsync(g)}).then(function(a){c.sslCert=a;c._isFetched=!0;d(c)},function(c){z.exception=a.properties.exception;f(c)})}})}function i(){this._map={};this._list=[];this._sortedList=[]}function s(c){var f=c&&c.forceRefreshing,g=c&&c.skipAppIconRefreshing;if(!z.isRefreshingAppInfos)c=(new Date).getTime(),!f&&I>0&&I+6E5>
c?(z.skills=B.sort(),h.$emit(E)):(I=(new Date).getTime(),z.isRefreshingAppInfos=!0,a.refreshAppInfosAsync().then(function(c){z.isRefreshingAppInfos=!1;A={};B.clear();var f={},h=[];e.forEach(c,function(a){var c,e=a.skillId+a.stage;f[e]=!0;if(!(a.stage===q.dev&&f[a.skillId+q.cert])){a=new n(a);e=a.getAppKey();A[e]=a;for(var k=a.getLocales(),i=0;i<k.length;i++)(c=d.getCachedAppIconUrl(e+k[i]))&&a.setImageUrl(c,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,k[i]);if(!g)for(e=0;e<k.length;e++)d.fetchApplicationIcon(a,
k[e]);h.push(a);B.add(a)}});z.skills=B.sort();return a.getAllAppIconRetrievalUrlsAsync()}).then(function(c){for(var c=c.allSkillsIconRetrievalUrlResponse,b=0;b<c.length;b++)d.updateCache(c[b].skillKey,c[b].locale,c[b].retrievalUrl);return a.getEnabledAppsAsync()}).then(function(a){C={};e.forEach(a,function(a){C[a.applicationId+a.stage]=a.amsVersion});z.isRefreshingAppInfos=!1;h.$emit(E)},function(){z.exception=a.properties.exception;z.isRefreshingAppInfos=!1;h.$emit(E)}),h.$evalAsync())}var r=c,x=
g("orderBy"),w={NA:"NA",EU:"EU"},u={en_US:"en_US",en_GB:"en_GB",de_DE:"de_DE"},t={Default:"Custom",Custom:"Custom",SmartHome:"SmartHome",Content:"Content"},q={dev:"Development",cert:"Certification",live:"Live"},y={failed:"Failed",pending:"Pending",succeeded:"Succeeded"},F={submitSucceeded:"submitSucceeded",withdrawSucceeded:"withdrawSucceeded",createAppVersionSucceeded:"createAppVersionSucceeded"},z={skills:[],isRefreshingAppInfos:!1},A={},D=u.en_US,C={},G,E="AlexaAppManagementStorage.refreshAppInfosDone",
I=-1,B,g=[{value:t.Custom,label:"Custom Interaction Model"},{value:t.SmartHome,label:"Smart Home Skill API"},{value:t.Content,label:"Flash Briefing Skill API",disableLabel:'Flash Briefing Skill API <br> <span class="temporaryDisableContentText"> Currently Flash Briefing unavailable for German (D.E) and English (U.K) languages.</span>'}],c=[{value:t.Custom,label:"Custom Interaction Model"},{value:t.SmartHome,label:"Smart Home Skill API"}],H={};n.prototype={appStages:q,skillTypes:t,modelBuildStatusValues:y,
containsSkillType:function(a){if(!this.skillInfo.skillTypes)return a===t.Default;for(var c=0;c<this.skillInfo.skillTypes.length;c++)if(this.skillInfo.skillTypes[c]===a)return!0;return!1},getStageText:function(){return this.skillInfo.stage===q.live?"Live":this.skillInfo.stage===q.cert?"Certification":this.isInitializing?"":"Development"},getLocales:function(){var a=[];if(this.skillInfo.skillDefinition.multinationalPublishingInfo===null)a.push(u.en_US);else for(var c in this.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale)a.push(c);
return a},getLocalizedPublishingInfo:function(a){return this.skillInfo.skillDefinition.multinationalPublishingInfo?this.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[a]:null},getGlobalPublishingInfo:function(){return this.skillInfo.skillDefinition.multinationalPublishingInfo||{}},getAccountLinkingInfo:function(){return this.skillInfo.skillDefinition.accountLinkingInfo},getPartnerEntity:function(){return this.skillInfo.partnerEntity},getCustomInteractionModelInfo:function(){return this.skillInfo.skillDefinition.customInteractionModelInfo},
getSSLCertificateTypes:function(){var a=this,c={},b={};Object.keys(w).forEach(function(d){if(m.isInternationalizationEnabled||d===w.NA)c[d]=a.getEndpointByRegion(d),c[d]?b[d]=c[d]&&c[d].sslCertificateType:delete c[d]});return b},initializeEndpointByRegion:function(a){var c;this.containsSkillType(t.SmartHome)?c="smartHomeInfo":this.containsSkillType(t.Custom)&&(c="customInteractionModelInfo");if(!this.skillInfo.skillDefinition[c].endpointsByRegion)this.skillInfo.skillDefinition[c].endpointsByRegion=
{};this.skillInfo.skillDefinition[c].endpointsByRegion[a]={};return this.skillInfo.skillDefinition[c].endpointsByRegion[a]},resetEndpointByRegion:function(a){var c;if(this.containsSkillType(t.SmartHome))c=this.skillInfo.skillDefinition.smartHomeInfo.endpointsByRegion;else if(this.containsSkillType(t.Custom))c=this.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion;c&&c[a]&&delete c[a]},getEndpointByRegion:function(a){var c;if(this.containsSkillType(t.SmartHome))c=this.skillInfo.skillDefinition.smartHomeInfo.endpointsByRegion;
else if(this.containsSkillType(t.Custom))c=this.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion;return c&&c[a]?c[a]:null},hasValidEndpoint:function(){return this.getEndpointByRegion(w.NA)&&this.getEndpointByRegion(w.NA).type&&this.getEndpointByRegion(w.NA).url&&this.getEndpointByRegion(w.NA).isDefaultRegion||this.getEndpointByRegion(w.EU)&&this.getEndpointByRegion(w.EU).type&&this.getEndpointByRegion(w.EU).url&&this.getEndpointByRegion(w.EU).isDefaultRegion},getSmartHomeInfo:function(){return this.skillInfo.skillDefinition.smartHomeInfo},
getContentSkillInfoByLocale:function(a){return this.skillInfo.skillDefinition.contentSkillInfo&&this.skillInfo.skillDefinition.contentSkillInfo.contentSkillInfoByLocale?this.skillInfo.skillDefinition.contentSkillInfo.contentSkillInfoByLocale[a]:null},getContentSkillInfo:function(){return this.skillInfo.skillDefinition.contentSkillInfo?this.skillInfo.skillDefinition.contentSkillInfo:null},isAccountLinkingMandatory:function(){return this.containsSkillType(t.SmartHome)},isAccountLinkingSupported:function(){return this.containsSkillType(t.SmartHome)||
this.containsSkillType(t.Custom)},isPermissionsSupported:function(){return this.containsSkillType(t.Custom)},getAppKey:function(){return this.skillInfo.skillId+this.skillInfo.stage},isEnabled:function(){var a=this.getAppKey();return this.containsSkillType(t.Content)?C[a]?!0:!1:C[a]&&this.hasValidEndpoint()?!0:!1},enableAsync:function(c){var b=this;return j(function(d,f){var e={};e.applicationId=b.skillInfo.skillId;e.stage=b.skillInfo.stage;e.amsVersion=b.skillInfo.amsVersion;e.locale=c;a.enableApplicationAsync(e).then(function(){C[b.getAppKey()]=
b.skillInfo.amsVersion;d(this)},function(a){f(a)})})},disableAsync:function(c){var b=this;return j(function(d,f){var e={};e.applicationId=b.skillInfo.skillId;e.locale=c;a.disableApplicationAsync(e).then(function(){C[b.getAppKey()]=void 0;d(this)},function(a){f(a)})})},uploadAppIconAsync:function(a,c){return this.uploadImageAsync(a,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,c)},getAppIconUrl:function(a){a=this.getImageUrl(b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,a);return a===null?r:a},setImageUrl:function(a,
c,b){b||(b=D);a!==void 0&&(this._imageUrls[b][c]=a)},getImageUrl:function(a,c){c||(c=D);return this._imageUrls[c][a]},isImageValid:function(a,c){var b=this.getImageUrl(a,c);return b&&b!==r},uploadImageAsync:function(c,f,e){var g=this;return j(function(h,k){if(f===b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE)d.uploadAppIconAsync(g,c,e).then(function(a){g.setImageUrl(a.url,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,e);h({skill:g,newImageAssetId:a.newImageAssetId})},function(a){k(a)});else{var i={};i.applicationId=
g.skillInfo.skillId;i.stage=g.skillInfo.stage;i.locale=e;i.fileName=c.name;i.contentSize=c.size;i.imageType=f;var l={sizeLimit:"100kb",dimensionLimit:"108 x 108"};if(f===b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE||f===b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE)l.sizeLimit="1MB",l.dimensionLimit="512 x 512";var j;a.getImageUploadUrlAsync(i).then(function(b){var d={};d.uploadURL=b.uploadUrl;d.file=c;j=b.imageAssetId;return a.uploadFileAsync(d,l)}).then(function(){return a.getImageRetrievalUrlAsync(j,
f)}).then(function(a){f===b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE?g.setImageUrl(a.retrievalUrl,b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,i.locale):g.setImageUrl(a.retrievalUrl,f,i.locale);h({skill:g,newImageAssetId:j})},function(a){k(a)})}})},saveAppInfoAsync:function(c){var b={},d=this;b.skillInfo=d.skillInfo;b.locale=c;return j(function(f,e){a.updateAppAsync(b).then(function(a){d.skillInfo=a.skillInfo;if(d.containsSkillType(t.Content)){var b=d.getContentSkillInfoByLocale(c).feeds;if(b)for(var e=
0;e<b.length;e++)b[e].feedId=a.feedIds[e]}a.modelBuildStatus===y.pending&&v(d,c,a.modelBuildStatus);if(a.skillEnabled)C[d.getAppKey()]=a.skillInfo.amsVersion;f(d)},function(a){e(a)})})},saveIntentSchemaAsync:function(c){var d=this;return j(function(f,g){if(d.modelDef[c].models)try{d.modelDef[c].models=k.cleanJSON(d.modelDef[c].models),CodeMirror.jsonValidator(d.modelDef[c].models),e.fromJson(d.modelDef[c].models)}catch(h){g("Your Intent Schema JSON input is not formed correctly. Please review the Alexa Skills Kit Interaction Model Reference document and the Defining the Voice Interface document for help on structuring your input.");
return}if(!m.isRawTextSlotEnabled){var i=d.modelDef[c].models,i=i.replace(/\s/g,"");if(i.includes(b.INTERACTION_MODEL_TAB.RAW_TEXT_SLOT)){g("There was a problem with your request: Unknown slot type 'AMAZON.1315766020'");return}}i={};i.applicationId=d.skillInfo.skillId;i.stage=d.skillInfo.stage;i.locale=c;i.modelDef=d.modelDef[c];i.amsVersion=d.skillInfo.amsVersion;a.updateIntentSchemaAsync(i).then(function(a){C[d.getAppKey()]=a.skillInfo.amsVersion;d.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;
d.skillInfo.amsVersion=a.skillInfo.amsVersion;d.skillInfo.skillDefinition=a.skillInfo.skillDefinition;v(d,c,a.modelBuildStatus);f(d)},function(a){g(a)})})},getModelBuildStatus:function(a){return this.skillInfo.stage!==q.dev?y.succeeded:H[this.skillInfo.skillId+a]},saveSslCertAsync:function(c){var b=this,d={};return j(function(f,e){var g=!1;d.appInfo=b.skillInfo;Object.keys(w).forEach(function(a){c.types[a]==="SelfSigned"&&(!c.text[a]||c.text[a].length===0?e("Please provide a self-signed certificate."):
g=typeof c.text[a]==="string")});if(g)d.sslCertificateText=c.text;a.updateSSLCertAsync(d).then(function(a){b.skillInfo.amsVersion=a.skillInfo.amsVersion;b.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;f(b)},function(a){e(a)})})}};i.prototype={clear:function(){this._map={};this._list=[];this._sortedList=[]},add:function(a){var c,b;c=a.skillInfo.skillId;b=this._map[c];b||(b={_skillId:c,_lastUpdatedTime:a.skillInfo.lastUpdatedTime},this._map[c]=b,this._list.push(b));b[a.skillInfo.stage]=a},remove:function(a){var c,
a=a.skillInfo.skillId;if(c=this._map[a])this._map[a]=void 0,this._list.splice(this._list.indexOf(c),1)},change:function(a,c){var b;b=this._map[a.skillInfo.skillId];b[c]=void 0;b[a.skillInfo.stage]=a},sort:function(){var a;a=this._sortedList=[];this._list=x(this._list,function(a){var c;if(a[q.cert])c=a[q.cert].skillInfo.lastUpdatedTime;if(!c&&a[q.dev])c=a[q.dev].skillInfo.lastUpdatedTime;if(a[q.live]&&(!c||c<a[q.live].skillInfo.lastUpdatedTime))c=a[q.live].skillInfo.lastUpdatedTime;return c},!0);e.forEach(this._list,
function(c){c[q.dev]&&!c[q.cert]&&a.push(c[q.dev]);c[q.cert]&&a.push(c[q.cert]);c[q.live]&&a.push(c[q.live])});return this._sortedList},get:function(){return this._sortedList}};B=new i;d.addCacheUpdateEventHandler(this,function(a,c,d){A[a]&&A[a].setImageUrl(d,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,c)});return{event_refreshAppInfosDone:E,noImage:r,modelBuildStatusValues:y,appStages:q,regions:w,locales:u,activeTab:{"new":!1,en_US:!0,en_GB:!1,de_DE:!1},skillTypes:t,skillDisplayTypes:{Default:"Custom",
Custom:"Custom",SmartHome:"SmartHome",Content:"Flash Briefing"},skillTypeItems:window.EDW_CONFIG&&window.EDW_CONFIG.contentSkillEnabled?g:c,localeMap:[{val:"en_US",label:"English (U.S)"},{val:"en_GB",label:"English (U.K)"},{val:"de_DE",label:"German"}],confirmationStates:F,properties:z,defaultLocale:D,skillUnderMigration:function(a){return(a=A[a+q.dev])&&a.skillInfo.readOnly},clearConfirmationState:function(){z.confirmationState=void 0},alexaConstantReplace:function(a,c){Object.keys(c).forEach(function(b){a=
a.replace("{{"+b+"}}",c[b])});return a},createDummySkill:function(){var a={};a[D]={};var c={};c[D]="";a=new n({skillDefinition:{multinationalPublishingInfo:{publishingInfoByLocale:a},customInteractionModelInfo:{invocationNameByLocale:c},permissionInfo:{permissions:{}}},skillTypes:[t.Default]},!0);a.isInitializing=!0;return a},createApplicationVersionAsync:function(c){return j(function(b,d){var f={};f.applicationId=c.skillInfo.skillId;f.amsVersion=c.skillInfo.amsVersion;a.createApplicationVersionAsync(f).then(function(a){a=
new n(a,!0,app);A[a.getAppKey()]=a;B.add(a);z.skills=B.sort();z.confirmationState=F.createAppVersionSucceeded;b()},function(a){d(a)})})},withdrawApplicationAsync:function(c,b,d,f){return j(function(e,g){var h={};h.applicationId=c.skillInfo.skillId;h.amsVersion=c.skillInfo.amsVersion;h.feedback=d;h.feedbackType=f;h.locale=b;a.withdrawApplicationAsync(h).then(function(a){var b=c.getAppKey();A[b]=void 0;c.skillInfo.amsVersion=a.skillInfo.amsVersion;c.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;
c.skillInfo.stage=q.dev;c.skillInfo.skillDefinition=a.skillInfo.skillDefinition;A[c.getAppKey()]=c;B.change(c,q.cert);z.skills=B.sort();z.confirmationState=F.withdrawSucceeded;e()},function(a){g(a)})})},submitApplicationAsync:function(c,b){return j(function(d,f){var e={};e.applicationId=c.skillInfo.skillId;e.amsVersion=c.skillInfo.amsVersion;e.locale=b;a.submitApplicationAsync(e).then(function(a){var b=c.getAppKey();A[b]=void 0;c.skillInfo.stage=q.cert;c.skillInfo.amsVersion=a.skillInfo.amsVersion;
c.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;c.skillInfo.skillDefinition=a.skillInfo.skillDefinition;A[c.getAppKey()]=c;B.change(c,q.dev);z.skills=B.sort();z.confirmationState=F.submitSucceeded;d()},function(a){f(a)})})},fetchAppConfigurationsAsync:function(){return j(function(c,b){G?c(G):a.fetchAppConfigurationsAsync().then(function(a){G=a;c(G)},function(a){b(a)})})},isApplicationStageExist:function(a,c,b){return(a=A[a+c])&&a.getLocalizedPublishingInfo(b)},hasAccountLinkingInLive:function(a){return(a=
A[a+q.live])&&a.isAccountLinkingEnabled},fetchApplicationByIdAsync:function(c,b){if(b===void 0)b=q.dev;var d=c+b;return j(function(c,b){if(A[d])p(A[d]).then(c,b);else{var f=h.$on(E,function(){f();A[d]?p(A[d]).then(c,b):a.properties.exception?b(a.properties.exception):b("Invalid application!")});s({forceRefreshing:!0,skipAppIconRefreshing:!0})}})},createApplicationAsync:function(c){return j(function(b,d){a.createApplicationAsync(c).then(function(a){a=new n(a,!0);A[a.getAppKey()]=a;B.add(a);z.skills=
B.sort();a.skillInfo.skillDefinition.multinationalPublishingInfo.availableWorldwide=!0;b(a)},function(a){d(a)})})},refreshAppInfos:s,deleteApplicationAsync:function(c,b){return j(function(d,f){var e={};e.applicationId=c.skillInfo.skillId;e.amsVersion=c.skillInfo.amsVersion;e.locale=b;a.deleteApplicationAsync(e).then(function(){A[c.getAppKey()]=void 0;B.remove(c);z.skills=B.sort();d()},function(a){f(a)})})}}}])})(window.angular);define("AlexaSkill/AppManagement/AlexaAppManagementStorage",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillHomeController",["$scope","$state","ASK_AppListingConfig","ASK_ROUTE_STATE","$interval",function(a,d,b,e,h){a.AppListingConfig=b;a.goToSkillsList=function(){d.go(e.Home+"."+e.HomeTabs.list)};a.goToAnalytics=function(){d.go(e.Home+"."+e.HomeTabs.analytics)};a.createNewApplication=function(){d.go(e.CreateSkill+".new")};h(a.goToSkillsList,0,1)}])})(window.angular);define("AlexaSkill/AlexaSkillHomeController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillAnalyticsController",["$rootScope","$scope","CommonService","ASK_AnalyticsConfig","AlexaAppManagementAjax","AlexaAppManagementStorage","MomentService","Utils",function(a,d,b,j,h,g,f,c){function k(a){var c=[];e.forEach(d.allAppDetails,function(b){e.equals(b.stage.toUpperCase(),a.toUpperCase())&&c.push(b.id)});return c}function m(a){if(!a)return[];for(var c=[],b=0;b<g.properties.skills.length;b++){var d=g.properties.skills[b];if(d.containsSkillType(g.skillTypes.Custom)&&
e.equals(d.skillInfo.stage.toUpperCase(),a.toUpperCase())){var f=d.skillInfo.skillId,h=n(d),k=d.skillInfo.stage,d='<img src="'+d.getAppIconUrl(g.defaultLocale)+'"/>';c.push({id:f,stage:k,name:h,icon:d,ticked:!0})}}return c}function n(a){var c=a.getLocalizedPublishingInfo(g.defaultLocale);c||(c=a.getLocalizedPublishingInfo(Object.keys(a.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale)));return c?c.name:"Error Retrieving Name"}function l(a,c){var b="";e.forEach(d.allAppDetails,
function(c){if(e.equals(c.id,a))b=c.name});return c?b+' - <font color="red">No data found.</font>':b}function v(){var a="Development";e.forEach(d.allAppDetails,function(c){e.equals(c.stage.toUpperCase(),"LIVE")&&(a="Live")});return a}function p(){var a=[];e.forEach(j.ANALYTICS_AVAILABLE_REPORT_NAMES,function(c,b){var f={};f.reportName=b;f.appStageName=d.selectedStageName.toLowerCase();f.appIdList=k(d.selectedStageName);a.push(f)});return a}function i(){d.skillSelectorInputModel=[];var a=m(d.selectedStageName);
e.forEach(j.ANALYTICS_AVAILABLE_REPORT_NAMES,function(){d.skillSelectorInputModel.push(e.copy(a))})}function s(){d.skillSelectorOutputModel=[];var a=k(d.selectedStageName),c=[];e.forEach(a,function(a){c.push({id:a})});e.forEach(j.ANALYTICS_AVAILABLE_REPORT_NAMES,function(){d.skillSelectorOutputModel.push(e.copy(c))})}function r(a,c){var b=!1;e.forEach(d.skillSelectorOutputModel[c],function(c){c.id===a&&(b=!0)});return b}function x(a,c,b){var d={chart:{zoomType:"x"},title:{useHTML:!0,text:j.ANALYTICS_AVAILABLE_REPORT_NAMES[c]+
" "+'<div class="ToolTipBottom"><IMG class="tooltipImg" src="/edw/res/images/tooltip.png" /><span class="ToolTip_Text"> %s </span></div>'.replace("%s",j.ANALYTICS_AVAILABLE_REPORT_TOOLTIP_TEXTS[c])},subtitle:{text:j.ANALYTICS_CHART_SUBTITLE_TEXT},xAxis:{type:"datetime"},yAxis:{min:0},credits:{enabled:!1},width:"100%",legend:{align:"center",verticalAlign:"bottom",borderWidth:0,useHTML:!0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%Y-%b-%e %H:%M}, {point.y:.0f}"},series:[]};
e.forEach(a.skillsAnalyticsData,function(a,c){var f=!1,g=[];Object.keys(a.sortedAnalyticsData).length===0&&(f=!0);e.forEach(a.sortedAnalyticsData,function(a,c){g.push({x:c,y:a})});f={id:c,name:l(c,f),showInLegend:!0,type:"line",data:g,visible:r(c,b),turboThreshold:0,events:{legendItemClick:function(){return!1}}};d.series.push(f)});return d}d.AnalyticsConfig=j;d.$on("$destroy",function(){$(".daterangepicker").remove()});d.$on("$viewContentLoaded",function(){$(".daterangepicker").hide();var c=a.$on(g.event_refreshAppInfosDone,
function(){if(d.$parent){c();for(var a=d.$parent,b=[],f=0;f<g.properties.skills.length;f++){var e=g.properties.skills[f];if(e.containsSkillType(g.skillTypes.Custom)){var h=e.skillInfo.skillId,k=n(e),l=e.skillInfo.stage,e='<img src="'+e.getAppIconUrl(g.defaultLocale)+'"/>';b.push({id:h,stage:l,name:k,icon:e,ticked:!0})}}a.allAppDetails=b;d.$parent.selectedStageName=v();d.$parent.previousSelectedStageName=v();d.reportsRequestResponse.request.reportMetaDataList=p();d.updateEngagementMetrics();i();s()}});
g.refreshAppInfos()});d.ChocolateLocaleArray=c.chocolateSelectDataFromObjectProperties(j.ANALYTICS_LOCALES);d.selectedStartTimeInterval=f().utc().subtract(77,"hours").startOf("hour").format("YYYY-MM-DD HH:00");d.selectedEndTimeInterval=f().utc().subtract(29,"hours").startOf("hour").format("YYYY-MM-DD HH:00");d.reportsRequestResponse={request:{aggregationPeriodInMinutes:60,startTimestamp:f.utc(d.selectedStartTimeInterval).unix()*1E3,endTimestamp:f.utc(d.selectedEndTimeInterval).unix()*1E3,locale:"",
reportMetaDataList:[]},response:[]};d.dateTimeRangePickerProperties={startDate:f.unix(d.reportsRequestResponse.request.startTimestamp/1E3).utc(),endDate:f.unix(d.reportsRequestResponse.request.endTimestamp/1E3).utc(),ranges:{Today:[f().utc().startOf("day"),f().utc().startOf("hour")],Yesterday:[f().utc().subtract(1,"days").startOf("day"),f().utc().startOf("day")],"Last 7 Days":[f().utc().subtract(6,"days").startOf("day"),f().utc().startOf("hour")],"Last 30 Days":[f().utc().subtract(29,"days").startOf("day"),
f().utc().startOf("hour")],"This Month":[f().utc().startOf("month"),f().utc().startOf("hour")],"Last Month":[f().utc().subtract(1,"month").startOf("month"),f().utc().subtract(1,"month").endOf("month")]},timePicker:!0,timePickerIncrement:60,locale:{format:"YYYY-MM-DD HH:00"}};d.onDateTimeRangeChange=function(a,c){d.selectedStartTimeInterval=a;d.selectedEndTimeInterval=c;d.reportsRequestResponse.request.startTimestamp=f(a).unix()*1E3;d.reportsRequestResponse.request.endTimestamp=f(c).unix()*1E3};d.updateSkillStage=
function(){e.forEach(d.reportsRequestResponse.request.reportMetaDataList,function(a,c){d.reportsRequestResponse.request.reportMetaDataList[c].appStageName=d.selectedStageName;d.reportsRequestResponse.request.reportMetaDataList[c].appIdList=k(d.selectedStageName)})};d.updateEngagementMetrics=function(){b.clearStatus();d.reportsRequestResponse.request.reportMetaDataList[0].appIdList.length===0?(d.reportsRequestResponse.response=[],b.setStatus(b.statusType.error,"Error: You do not have any skill in "+
d.selectedStageName+" stage.")):(b.setLoadingMessage(j.ANALYTICS_LOADING_TEXT),h.getAnalyticsDataAsync(d.reportsRequestResponse.request).then(function(a){e.equals(d.previousSelectedStageName,d.selectedStageName)||(i(),s());d.previousSelectedStageName=d.selectedStageName;b.clearLoadingMessage();a=a.skillAnalyticsData;d.reportsRequestResponse.response=[];var c=0;e.forEach(a,function(a,b){d.reportsRequestResponse.response.push({chartConfig:x(a,b,c)});c++;d.MaxDataAvailableTimestamp=f(a.maxUtteranceDateTimeUTC).utc().format("YYYY-MM-DD HH:mm z")})},
function(a){b.clearLoadingMessage();a.exception?b.setStatus(a.sessionExpired?b.statusType.sessionExpired:b.statusType.error,"Error: "+a.message,a.stackTrace):b.setStatus(b.statusType.error,"Error: "+a);d.reportsRequestResponse.response=[]}))};d.updateChartSeries=function(a){var c=d.skillSelectorOutputModel[a];e.forEach(d.reportsRequestResponse.response[a].chartConfig.series,function(a){var b=!1;e.forEach(c,function(c){e.equals(c.id,a.id)&&(b=!0)});a.visible=b})}}])})(window.angular);
define("AlexaSkill/Analytics/AlexaSkillAnalyticsController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillListController",["$rootScope","$scope","$state","$window","AlexaAppManagementStorage","AlexaAppIconCache","CommonService","Utils","ASK_AppListingConfig","ASK_ROUTE_STATE",function(a,d,b,e,h,g,f,c,k,m){function n(a){a?f.setLoadingMessage(k.LOADING_TEXT):(f.clearLoadingMessage(),h.properties.exception?f.setStatus(f.statusType.error,"Error: "+h.properties.exception.message,h.properties.exception.stackTrace):f.clearStatus())}d.EDW_CONFIG=
window.EDW_CONFIG;d.AppListingConfig=k;d.getStageTooltip=function(a){if(a.skillInfo.stage===h.appStages.live)return k.LIVE_STAGE_TOOLTIP;if(a.skillInfo.stage===h.appStages.cert)return k.CERT_STAGE_TOOLTIP;if(a.skillInfo.stage===h.appStages.dev)return k.DEV_STAGE_TOOLTIP};d.visibleListItems=[];var l=a.$on(h.event_refreshAppInfosDone,function(){var a;l();n(h.properties.isRefreshingAppInfos);a=c.combineSkillData(h.properties.skills);Object.keys(a).forEach(function(c){function b(a,c){var e=a.getLocales(),
g=e[0];return{expandable:!c&&f.length>1,primary:!c||!1,skill:a,locale:e.length>1?e:g,skillId:a.skillInfo.skillId,stage:a.skillInfo.stage,id:a.skillInfo.skillId+a.skillInfo.stage,iconSrc:a.getAppIconUrl(g),name:a.getLocalizedPublishingInfo(g).name,type:h.skillDisplayTypes[a.skillInfo.skillTypes[0]],lastUpdatedTime:a.skillInfo.lastUpdatedTime,showSubItems:!1,stageText:a.getStageText(),stageToolTip:d.getStageTooltip(a),readOnly:a.skillInfo.readOnly}}var c=a[c],f=Object.keys(c).sort(function(a){if(a===
h.appStages.live)return 1;else if(a===h.appStages.cert)return 0;return-1}),e=c[f[0]],g=b(e);if(f[1])e=c[f[1]],g.subListItem=b(e,!0);d.visibleListItems.push(g)})});h.clearConfirmationState();h.refreshAppInfos({skipAppIconRefreshing:!0});n(h.properties.isRefreshingAppInfos);d.toggleAppStages=function(a,c){c.stopPropagation();if(a.expandable)a.showSubItems=!a.showSubItems};d.parseLocales=function(a){return typeof a==="string"?d.AppListingConfig.LOCALE_MAP[a]:a.map(function(a){return d.AppListingConfig.LOCALE_MAP[a]}).join(", ")};
d.editApp=function(a,c){var f=typeof a.locale!=="string"?a.locale[0]:a.locale,e=m.EditSkill;c.stopPropagation();d.setActiveTab(f);if(a.stage===h.appStages.live)e=m.LiveSkill;if(a.stage===h.appStages.cert)e=m.CertSkill;return b.go(e+".info",{appId:a.skillId,locale:f})};d.hasLiveVersion=function(a){return h.isApplicationStageExist(a.skillId,h.appStages.live,typeof a.locale!=="string"?a.locale[0]:a.locale)};d.showDeleteButton=function(a){return a.stage===a.skill.appStages.dev&&a.primary&&!d.hasLiveVersion(a)&&
!a.readOnly};d.setActiveTab=function(a){var c;if(a){a=typeof a!=="string"?a[0]:a;for(c in h.activeTab)h.activeTab.hasOwnProperty(c)&&(h.activeTab[c]=!1);h.activeTab.hasOwnProperty(a)&&(h.activeTab[a]=!0)}};d.$on("$routeChangeError",function(){e.location.reload()});d.getAppIconUrl=function(a){g.fetchApplicationIcon(a,h.defaultLocale);return a.getAppIconUrl(h.defaultLocale)};d.showDeleteConfirmation=function(a,c){function b(){f.clearLoadingMessage();f.clearStatus()}var e=typeof a.locale!=="string"?
a.locale[0]:a.locale;c.stopPropagation();f.showConfirmationBox(k.CONFIRMATION_MESSAGE_BOX.TITLE,k.CONFIRMATION_MESSAGE_BOX.MESSAGE(a.name),[{optionName:k.MESSAGE_BOX_BUTTONS.DELETE,eventHandler:function(){b();f.setLoadingMessage(k.DELETING_TEXT);d.$parent.disableActionButtons=!0;h.deleteApplicationAsync(a.skill,e).then(function(){d.visibleListItems.forEach(function(c,b){a.id===c.id&&d.visibleListItems.splice(b,1)});b();f.setStatus(f.statusType.success,"Successfully deleted");d.$parent.disableActionButtons=
!1},function(a){b();f.showError(a);d.$parent.disableActionButtons=!1})}},{optionName:k.MESSAGE_BOX_BUTTONS.CANCEL}])}}])})(window.angular);define("AlexaSkill/List/AlexaSkillListController",function(){});
(function(e){function a(a,b){a.skillInfo.lastUpdatedTime=b.skillInfo.lastUpdatedTime;a.skillInfo.amsVersion=b.skillInfo.amsVersion;var d=a._imageUrls,f=b._imageUrls;a._imageUrls=null;b._imageUrls=null;var g=e.equals(a,b);a._imageUrls=d;b._imageUrls=f;return g}function d(a,b,d,f,e){function g(a,c){if(!c||c=="new")return!1;if(a.containsSkillType(a.skillTypes.Content)){var b=a.getContentSkillInfoByLocale(c);if(b&&b.customErrorMessage&&b.feeds&&b.feeds.length>0){for(var b=b.feeds,d=!0,f=0;f<b.length;f++)b[f].publishingInfo.largeIconId||
(d=!1);return d}else return!1}if(!a.hasValidEndpoint())return!1;b=a.getAccountLinkingInfo();if(a.containsSkillType(a.skillTypes.SmartHome)&&(!b||!b.partnerId))return!1;d=a.getLocalizedPublishingInfo(c);return b&&b.partnerId&&!d.privacyPolicyUrl?!1:!0}function h(b){var d=b.getSSLCertificateTypes(),f=!1;Object.keys(d).forEach(function(b){f=d[b]&&d[b]!==a.httpCertificateTypes.selfSigned});return f}return function(i){var j=a.originalApp.modelDef[i],r=a.tabStatus;if(a.originalApp.skillInfo.stage!==f.appStages.dev)return r[i][b.Tabs.applicationInfo]=
a.stateEnum.VALID,r[i][b.Tabs.intentSchema]=a.stateEnum.VALID,r[i][b.Tabs.updateSSLCert]=a.stateEnum.VALID,r[i][b.Tabs.testing]=a.stateEnum.VALID,r[i][b.Tabs.configuration]=a.stateEnum.VALID,r[i][b.Tabs.publishingInfo]=a.stateEnum.VALID,r[i][b.Tabs.privacyCompliance]=a.stateEnum.VALID,r;r[i][b.Tabs.applicationInfo]=a.stateEnum.VALID;a.originalApp.setImageUrl(a.skill.getImageUrl(d.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,i),d.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,i);a.originalApp.setImageUrl(a.skill.getImageUrl(d.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,
i),d.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,i);var x=r[i],w=b.Tabs.publishingInfo,u;u=a.originalApp;var t=u.getLocalizedPublishingInfo(i),q=u.getGlobalPublishingInfo(),y;if(y=t)if(y=t.description)if(y=t.summary)y=((y=u.skillInfo.rootCategoryItemTypeKeyword)?a.configurations.subCategoryOptionsByRootITK[y].length>0?u.getGlobalPublishingInfo().categoryItemTypeKeyword:!0:!1)&&q.testingInstructions&&(q.availableWorldwide||q.distributionCountries&&q.distributionCountries.length>0)&&(u.containsSkillType(u.skillTypes.SmartHome)||
t.examplePhrases&&t.examplePhrases.length>0);u=y?u.isImageValid(d.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,i)&&u.isImageValid(d.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,i):!1;x[w]=u?a.stateEnum.VALID:a.stateEnum.NOT_VALID;r[i][b.Tabs.configuration]=g(a.originalApp,i)?a.stateEnum.VALID:a.stateEnum.NOT_VALID;x=r[i];w=b.Tabs.privacyCompliance;t=a.originalApp;u=t.getGlobalPublishingInfo();t=t.getLocalizedPublishingInfo(i);u=!t||!u.exportCompliance||typeof u.isChildDirected!=="boolean"?!1:u.allowPurchases!==
null&&u.usePersonalInfo!==null?u.usePersonalInfo&&!t.privacyPolicyUrl?!1:!0:!1;x[w]=u?a.stateEnum.VALID:a.stateEnum.NOT_VALID;x=r[i];w=b.Tabs.intentSchema;if(a.skill.containsSkillType(a.skill.skillTypes.Custom)){if(u=j)if(u=j.models){if(j=j.testCases)a:if(j=a.skill,e.getAudioPlayerStatus(j)){u=a.getSelectedLocale();if(j.modelDef[u]&&j.modelDef[u].models&&j.modelDef[u].testCases&&(j=e.validateAudioInterface(u,j.modelDef[u].models,j.modelDef[u].testCases),!j.error&&j.missingIntents.length===0)){j=!0;
break a}j=!1}else j=!0;u=j}j=u?a.skill.getModelBuildStatus(i)===a.skill.modelBuildStatusValues.pending?a.stateEnum.PENDING:a.skill.getModelBuildStatus(i)===a.skill.modelBuildStatusValues.failed?a.stateEnum.FAILED:a.stateEnum.VALID:a.stateEnum.NOT_VALID}else j=a.stateEnum.VALID;x[w]=j;r[i][b.Tabs.testing]=a.stateEnum.VALID;if(a.skill.containsSkillType(a.skill.skillTypes.Custom)&&(r[i][b.Tabs.intentSchema]===a.stateEnum.NOT_VALID||!a.skill.hasValidEndpoint()))r[i][b.Tabs.testing]=a.stateEnum.NOT_VALID;
if(a.skill.containsSkillType(a.skill.skillTypes.SmartHome)&&!a.skill.isEnabled())r[i][b.Tabs.testing]=a.stateEnum.NOT_VALID;if(a.skill.containsSkillType(a.skill.skillTypes.Content)&&(i==="new"||!a.skill.getContentSkillInfoByLocale(i).customErrorMessage||!a.skill.getContentSkillInfoByLocale(i).feeds||a.skill.getContentSkillInfoByLocale(i).feeds.length===0))r[i][b.Tabs.testing]=a.stateEnum.NOT_VALID;r[i][b.Tabs.updateSSLCert]=h(a.skill)?a.stateEnum.VALID:a.stateEnum.NOT_VALID;return r}}function b(a,
b,d,f,e){return function(g){if(g&&a.selectedMenuStep!==g)if(d.clearConfirmationState(),a.skillTab.clearMessage(),g==="home")b.go(f.Home);else{if(g===a.menuSteps.updateSSLCert&&!a.showSSLCert)g=a.menuSteps.applicationInfo;var h=e;if(h===f.CreateSkill)h=f.EditSkill;b.go(h+"."+g,{appId:a.skill.skillInfo.skillId,locale:a.selectedLocale})}}}function j(a,b,d,e){function g(a){b.clearLoadingMessage();a&&(a.exception?b.setStatus(a.sessionExpired?b.statusType.sessionExpired:b.statusType.error,"Error: "+a.message,
a.stackTrace):b.setStatus(b.statusType.error,"Error: "+a))}a.skillTab={rootStorage:{},config:function(b){a.enableSubmit=b.enableSubmit;a.selectedMenuStep=b.selectedMenuStep;f=b},updateShowSSLCert:function(){var b=Object.keys(e.regions);a.showSSLCert=!1;a.skill.containsSkillType(a.skill.skillTypes.Custom)&&b.forEach(function(b){if((b=a.skill.getEndpointByRegion(b))&&b.type===a.AppEditingConfig.ENDPOINT_TYPE.HTTPS)a.showSSLCert=!0})},updateImagePath:function(b,d){a.appImagePath[d]=b},disableEditing:function(){a.enableInput=
!1;a.enableSubmit=!1;a.enableNavigation=!1},enableEditing:function(){a.enableInput=!0;a.enableNavigation=!0},enableEditingAfterFailure:function(b){a.enableInput=!0;a.enableSubmit=!0;a.enableNavigation=!b},clearMessage:function(){b.clearStatus();b.clearLoadingMessage()},setLoadingMessage:function(a){b.clearStatus();b.setLoadingMessage(a)},setSuccessMessage:function(a){b.clearLoadingMessage();b.setStatus(b.statusType.success,a)},setCurrentApp:function(b){a.skill=b},handleError:g,handleErrorAndFocus:function(a){g(a)},
updateTabStatus:d}}function h(a,b){a.menuSteps=b.Tabs;a.httpCertificateTypes={trusted:"Trusted",wildcard:"Wildcard",selfSigned:"SelfSigned"};a.stateEnum={FAILED:"failedTab",PENDING:"pendingTab",VALID:"validTab",NOT_VALID:"invalidTab"}}function g(a,b,d,g,h){function j(b){b?a.skillTab.setSuccessMessage(f.saveAction.successMessage):a.skillTab.clearMessage()}function p(){if(!a.EDW_CONFIG.isInternationalizationEnabled||!a.originalApp||a.skill.containsSkillType(a.skill.skillTypes.Content))return!1;for(var b=
a.skill.skillInfo.skillDefinition.multinationalPublishingInfo,d=a.originalApp.skillInfo.skillDefinition.multinationalPublishingInfo,f=a.skill.skillInfo.partnerEntity,g=a.originalApp.skillInfo.partnerEntity,h=a.skill.skillInfo.skillDefinition.accountLinkingInfo,j=a.originalApp.skillInfo.skillDefinition.accountLinkingInfo,d=[[b.allowPurchases,d.allowPurchases],[b.usePersonalInfo,d.usePersonalInfo],[b.isChildDirected,d.isChildDirected],[b.testingInstructions,d.testingInstructions],[b.distributionCountries,
d.distributionCountries],[b.exportCompliance,d.exportCompliance],[b.category,d.category],[b.categoryItemTypeKeyword,d.categoryItemTypeKeyword],[f.authorizationUri,g.authorizationUri],[f.scopes,g.scopes],[f.implicitGrant,g.implicitGrant],[a.skill.isAccountLinkingEnabled,a.originalApp.isAccountLinkingEnabled],[f.authGrantInfo.accessTokenURI,g.authGrantInfo.accessTokenURI],[f.authGrantInfo.clientSecret,g.authGrantInfo.clientSecret],[a.skill.skillInfo.skillDefinition.permissionInfo,a.originalApp.skillInfo.skillDefinition.permissionInfo]],
b=0;b<d.length;b++){var i=d[b];if(!e.equals(i[0],i[1]))return!0}return a.skill.containsSkillType(a.skill.skillTypes.Custom)&&!e.equals(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion,a.originalApp.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion)?!0:h&&j&&!e.equals(h.domains,j.domains)?!0:!e.equals(f.authGrantInfo.clientHttpBasicAuthorizationRequired,g.authGrantInfo.clientHttpBasicAuthorizationRequired)?!0:a.skill.containsSkillType(a.skill.skillTypes.SmartHome)&&
!e.equals(a.skill.skillInfo.skillDefinition.smartHomeInfo.endpointsByRegion,a.originalApp.skillInfo.skillDefinition.smartHomeInfo.endpointsByRegion)?!0:!1}function i(){if(f.saveAction)return a.skillTab.setLoadingMessage(f.saveAction.loadingMessage),a.skillTab.disableEditing(),b(function(b,g){f.saveAction.actionAsync().then(function(){if(a.selectedMenuStep!==a.menuSteps.createApplication&&a.selectedLocale!="new")a.updatePageTitle=a.skill.getLocalizedPublishingInfo(a.selectedLocale).name;a.originalApp&&
(e.copy(a.skill,a.originalApp),d(a.selectedLocale));a.skillTab.enableEditing();if(typeof f.saveAction.successMessage==="function"){var g=f.saveAction.successMessage();g!==void 0&&j(g)}else j(f.saveAction.successMessage);b()},function(b){a.skillTab.enableEditingAfterFailure(a.selectedMenuStep===a.menuSteps.createApplication);a.skillTab.handleError(b);g()})})}return function(){return b(function(a,b){p()?g.showConfirmationBox(h.CONFIRMATION_MESSAGE_BOX.TITLE,h.CONFIRMATION_MESSAGE_BOX.TEXT,[{optionName:h.MESSAGE_BOX_BUTTONS.APPLY,
highlight:!0,eventHandler:function(){i().then(a,b)}},{optionName:h.MESSAGE_BOX_BUTTONS.BACK,eventHandler:function(){b()}}]):i().then(a,b)})}}var f={};e.module("AlexaSkillModule").controller("AlexaSkillController",["$scope","$state","$stateParams","$q","AlexaAppManagementStorage","AlexaInterfaceService","CommonService","ASK_AppEditingConfig","ASK_ROUTE_STATE","stage","readOnly","rootState",function(c,k,m,n,l,v,p,i,s,r,x,w){function u(){f.saveAction&&c.skillTab.setLoadingMessage(f.saveAction.loadingMessage);
c.skillTab.disableEditing();return n(function(a,b){c.skill.saveAppInfoAsync(c.selectedLocale).then(function(){c.originalApp&&(e.copy(c.skill,c.originalApp),t(c.selectedLocale));c.skillTab.enableEditing();c.skillTab.setSuccessMessage(c.AppEditingConfig.ACTION_MESSAGES.DELETE_LOCALE.SUCCESS);a()},function(a){b(a)})})}c.selectedLocale=m.locale!==void 0?m.locale:l.defaultLocale;c.setSelectedLocale=function(a){c.selectedLocale=a};c.getSelectedLocale=function(){return c.selectedLocale?c.selectedLocale:
c.localesList.en_US};c.setActiveTab=function(a){if(a){for(var b in l.activeTab)l.activeTab.hasOwnProperty(b)&&(l.activeTab[b]=!1);l.activeTab.hasOwnProperty(a)&&(l.activeTab[a]=!0)}};c.setActiveTab(c.selectedLocale);c.activeTab=l.activeTab;var t=d(c,s,i,l,v),q=b(c,k,l,s,w),y=g(c,n,t,p,i);h(c,s);j(c,p,t,l);c.EDW_CONFIG=window.EDW_CONFIG;c.getLocaleStatusIcon=function(a){return c.isLocaleReadyForCertification(a)?"complete":"incomplete"};c.isSubmitButtonEnabled=function(){return c.enableSubmit||!c.enableInput?
!c.saveValidationPassed?!1:c.enableSubmit:!c.saveValidationPassed?!1:c.tabStatus[c.selectedMenuStep]===c.stateEnum.FAILED};c.isNextButtonEnabled=function(){return!c.saveValidationPassed?!1:c.selectedMenuStep===c.menuSteps.createApplication?c.enableSubmit:c.enableNavigation};c.skillTab.clearMessage();c.AppEditingConfig=i;c.getVoiceName=function(){if(l.locales.en_GB===c.selectedLocale)return i.VOICE_NAME.EN_GB_ABBEY;else if(l.locales.de_DE===c.selectedLocale)return i.VOICE_NAME.DE_DE_SILKE;return i.VOICE_NAME.EN_US_NINA};
c.removeLocale=function(b){a(c.originalApp,c.skill)?p.showConfirmationBox(i.DELETE_MESSAGE_BOX.TITLE,i.DELETE_MESSAGE_BOX.TEXT(b.locale),[{optionName:i.MESSAGE_BOX_BUTTONS.DELETE,highlight:!0,eventHandler:function(){var a=c.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale;a[b.locale]=void 0;c.skill.containsSkillType(c.skill.skillTypes.Custom)&&delete c.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[b.locale];c.skill.containsSkillType(c.skill.skillTypes.Content)&&
delete c.skill.skillInfo.skillDefinition.contentSkillInfo.contentSkillInfoByLocale[b.locale];c.tabList=[];for(var d in a)a.hasOwnProperty(d)&&a[d]&&(a[d].name!==null?c.tabList.push(a[d]):delete a[d]);c.setActiveTab(c.selectedLocale);u()}},{optionName:i.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){c.setActiveTab(c.selectedLocale);e.copy(c.originalApp,c.skill);c.enableSubmit=!1}}]):c.enableSubmit&&p.showConfirmationBox(i.SAVE_MESSAGE_BOX.TITLE,i.SAVE_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.SAVE,
highlight:!0,eventHandler:function(){c.setActiveTab(c.selectedLocale);y()}},{optionName:i.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){c.setActiveTab(c.selectedLocale);e.copy(c.originalApp,c.skill);c.enableSubmit=!1}},{optionName:i.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:function(){c.setActiveTab(c.selectedLocale)}}])};c.publishingInfoLocaleLength=function(){return Object.keys(c.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale).length};c.goToLocale=function(b,
d,f){function g(a){c.selectedLocale=a;c.skill.skillInfo.stage===l.appStages.live?k.go(s.LiveSkill+".info",{appId:c.skill.skillInfo.skillId,locale:a}):c.skill.skillInfo.stage===l.appStages.cert?k.go(s.CertSkill+".info",{appId:c.skill.skillInfo.skillId,locale:a}):k.go(s.EditSkill+"."+f,{appId:c.skill.skillInfo.skillId,locale:a});c.setActiveTab(a)}if(!(b.target&&b.target.className.indexOf("edw-delete-button")!==-1)&&d){var h=c.selectedLocale;c.readOnlyMode?g(d.locale):a(c.originalApp,c.skill)?g(d.locale):
p.showConfirmationBox(i.SAVE_MESSAGE_BOX.TITLE,i.SAVE_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){y().then(function(){g(d.locale);c.enableSubmit=!1},function(){c.setActiveTab(h)})}},{optionName:i.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){g(d.locale);e.copy(c.originalApp,c.skill);c.skillTab.updateShowSSLCert();c.enableSubmit=!1}},{optionName:i.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:function(){h==="new"?(c.setActiveTab("new"),c.goToAddNewLanguageTab()):
g(h)}}])}};c.goToAddNewLanguageTab=function(){k.go(s.EditSkill+".create",{appId:c.skill.skillInfo.skillId,locale:"new"})};c.tabStatus={};e.forEach(l.locales,function(a){c.tabStatus[a]={};c.tabStatus[a][s.Tabs.applicationInfo]=c.stateEnum.NOT_VALID;c.tabStatus[a][s.Tabs.intentSchema]=c.stateEnum.NOT_VALID;c.tabStatus[a][s.Tabs.updateSSLCert]=c.stateEnum.NOT_VALID;c.tabStatus[a][s.Tabs.configuration]=c.stateEnum.NOT_VALID;c.tabStatus[a][s.Tabs.testing]=c.stateEnum.NOT_VALID;c.tabStatus[a][s.Tabs.publishingInfo]=
c.stateEnum.NOT_VALID;c.tabStatus[a][s.Tabs.privacyCompliance]=c.stateEnum.NOT_VALID});c.enableNavigation=!1;c.skillId=m.appId;c.skill=l.createDummySkill();c.SkillTypes=l.skillTypes;c.saveValidationPassed=!0;c.setValidationResult=function(a){c.saveValidationPassed=a};c.createBubbleModel=function(a){for(var b=[],c=0;c<a;c++)b[c]={showRedBorder:!1,empty:!0,validationPassed:!0,message:[],result:[],recommendation:[],recResult:[],containerClass:""};return b};c.edwInlineValidation=function(a,b,d,f){for(var b=
a.bubbleInfo[b],e=0,g=0,h=0;h<f.length;h++){var j=f[h].getStatus(),i=f[h].getTestMetaInfo().getSeverity();j==="UNDEFINED"?(b.empty=!0,b.validationPassed=!0):(b.empty=!1,j==="PASS"?i==="ERROR"?(b.result[e]=!0,e+=1):i==="WARNING"&&(b.recResult[g]=!0,g+=1):i==="ERROR"?(b.result[e]=!1,e+=1):i==="WARNING"&&(b.recResult[g]=!1,g+=1))}for(h=0;h<f.length;h++)if(e=f[h].getStatus(),g=f[h].getTestMetaInfo().getSeverity(),e!=="UNDEFINED"&&g==="ERROR")if(e==="PASS")b.validationPassed=!0;else{b.validationPassed=
!1;break}c.setValidationResult(!0);a=a.bubbleInfo;for(h=0;h<a.length;h++)a[h].validationPassed||c.setValidationResult(!1);for(h=g=e=0;h<d.length;h++)a=f[h].getTestMetaInfo().getSeverity(),j=d[h].getTestMetaInfo().getMessage(),a=="ERROR"?(b.message[e]=j,e+=1):a=="WARNING"&&(b.recommendation[g]=j,g+=1)};c.handleRedBorder=function(a,b,c){a=a.bubbleInfo[b];for(b=0;b<c.length;b++){var d=c[b].getStatus();if(d==="UNDEFINED")a.empty=!0,a.showRedBorder=!1;else if(a.empty=!1,c[b].getTestMetaInfo().getSeverity()===
"ERROR")if(d==="PASS")a.showRedBorder=!1;else{a.showRedBorder=!0;break}}};c.hasLiveVersion=function(a){return l.isApplicationStageExist(c.skill.skillInfo.skillId,l.appStages.live,a)};c.hasAccountLinkingInLive=function(){return l.hasAccountLinkingInLive(c.skill.skillInfo.skillId)};c.initAudioPlayer=function(){c.audioPlayerSelection=v.getAudioPlayerStatus(c.skill)};c.audioInterfaceChange=function(a,b){c.skill=v.handleAudioInterfaceChange(c.skill,a,b);c.handleInputChange()};c.handleInputChange=function(){if(c.originalApp)c.enableSubmit=
a(c.originalApp,c.skill)?!1:c.enableInput};c.showActionSucceededConfirmation=function(){return l.properties.confirmationState!==void 0};c.getActionSucceededConfirmationContent=function(){if(l.properties.confirmationState===l.confirmationStates.submitSucceeded)return{title:i.ACTION_MESSAGES.APP_SUBMIT.SUCCESS.TITLE,details:i.ACTION_MESSAGES.APP_SUBMIT.SUCCESS.MESSAGE};else if(l.properties.confirmationState===l.confirmationStates.withdrawSucceeded)return{title:i.ACTION_MESSAGES.APP_WITHDRAW.SUCCESS.TITLE,
details:i.ACTION_MESSAGES.APP_WITHDRAW.SUCCESS.MESSAGE};else if(l.properties.confirmationState===l.confirmationStates.createAppVersionSucceeded)return{title:i.ACTION_MESSAGES.APP_COPY.SUCCESS.TITLE,details:i.ACTION_MESSAGES.APP_COPY.SUCCESS.MESSAGE};return{title:"Undefined",details:"Undefined"}};c.isLocaleReadyForCertification=function(){return function(a){return c.tabStatus[a][s.Tabs.applicationInfo]===c.stateEnum.VALID&&c.tabStatus[a][s.Tabs.configuration]===c.stateEnum.VALID&&c.tabStatus[a][s.Tabs.intentSchema]===
c.stateEnum.VALID&&c.tabStatus[a][s.Tabs.publishingInfo]===c.stateEnum.VALID&&c.tabStatus[a][s.Tabs.privacyCompliance]===c.stateEnum.VALID&&(!c.showSSLCert||c.showSSLCert&&c.tabStatus[a][s.Tabs.updateSSLCert]===c.stateEnum.VALID)&&c.saveValidationPassed}}();c.isSkillReadyForCertification=function(){var a=!0;e.forEach(c.skill.getLocales(),function(b){a&&!c.isLocaleReadyForCertification(b)&&(a=!1)});return a};c.skillTabClicked=function(){function b(){return n(function(b,f){c.enableNavigation?c.readOnlyMode?
b():a(c.originalApp,c.skill)?b():c.saveValidationPassed?p.showConfirmationBox(i.SAVE_MESSAGE_BOX.TITLE,i.SAVE_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){y().then(b,f)}},{optionName:i.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){d();b()}},{optionName:i.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:f}]):p.showConfirmationBox(i.DISCARD_MESSAGE_BOX.TITLE,i.DISCARD_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){d();
b()}},{optionName:i.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:f}]):f()})}function d(){e.copy(c.originalApp,c.skill);c.skillTab.updateShowSSLCert();c.enableSubmit=!1}c.$on("$stateChangeStart",function(d,f,e){if(f.name.indexOf(w+"."+c.selectedMenuStep)!==0&&c.originalApp&&(!c.enableNavigation||!x&&!a(c.originalApp,c.skill)))d.preventDefault(),b().then(function(){k.go(f.name,e)})});return function(a){c.selectedMenuStep===c.menuSteps.createApplication&&a==="home"&&c.enableSubmit?(l.clearConfirmationState(),
c.enableSubmit=!1,q(a)):b().then(function(){l.clearConfirmationState();c.skillTab.clearMessage();c.enableSubmit=!1;q(a)})}}();c.$on("AlexaAppManagementStorage.ModelBuildStatusChanged",function(a,b){c.skill===b&&t(c.selectedLocale)});c.gotoHome=function(){c.enableNavigation=!0;c.skillTabClicked("home")};c.gotoNextTab=function(){function a(){e.isFunction(f.nextTab)?q(f.nextTab()):q(f.nextTab)}return function(){c.enableSubmit?y().then(a):a();p.recordMetrics(null,null,{SaveButtonClicked:0,NextButtonClicked:1})}}();
c.saveApplicationChanges=function(){return n(function(a,b){var d={};y().then(function(){a();c.selectedMenuStep===c.menuSteps.createApplication&&q(c.menuSteps.applicationInfo)},b);d.SaveButtonClicked=1;d.NextButtonClicked=0;p.recordMetrics(null,null,d)})};c.handleLiveActionButtonClicked=function(a){l.isApplicationStageExist(c.skill.skillInfo.skillId,l.appStages.dev,a)?k.go(s.EditSkill+".info",{appId:c.skill.skillInfo.skillId,locale:a}):l.isApplicationStageExist(c.skill.skillInfo.skillId,l.appStages.cert,
a)?k.go(s.CertSkill+".info",{appId:c.skill.skillInfo.skillId,locale:a}):p.showConfirmationBox(i.COPY_MESSAGE_BOX.TITLE,i.COPY_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.CREATE,highlight:!0,eventHandler:function(){c.enableNavigation=!1;c.skillTab.setLoadingMessage(i.ACTION_MESSAGES.APP_COPY.LOADING);l.createApplicationVersionAsync(c.skill).then(function(){p.clearLoadingMessage();c.enableNavigation=!0;k.go(s.EditSkill+".info",{appId:c.skill.skillInfo.skillId,locale:a})},function(a){c.enableNavigation=
!0;c.skillTab.handleError(a)})}},{optionName:i.MESSAGE_BOX_BUTTONS.CANCEL}])};c.getLiveActionText=function(a){return l.isApplicationStageExist(c.skill.skillInfo.skillId,l.appStages.dev,a)?i.GOTO_DEVELOPMENT_STAGE_BUTTON:l.isApplicationStageExist(c.skill.skillInfo.skillId,l.appStages.cert,a)?i.GOTO_CERTIFICATION_STAGE_BUTTON:i.CREATE_NEW_VERSION_BUTTON};c.submitApplication=function(){function a(){c.enableInput=!1;c.enableNavigation=!1;c.skillTab.setLoadingMessage(i.ACTION_MESSAGES.APP_SUBMIT.LOADING);
l.submitApplicationAsync(c.skill,c.selectedLocale).then(function(){var a=c.selectedMenuStep;if(a===c.menuSteps.testing)a=c.menuSteps.publishingInfo;c.skillTab.clearMessage();c.enableNavigation=!0;c.originalApp=null;k.go(s.CertSkill+"."+a,{appId:c.skill.skillInfo.skillId,locale:c.selectedLocale})},function(a){c.enableInput=!0;c.enableNavigation=!0;c.skillTab.handleError(a)})}return function(){p.showConfirmationBox(i.SUBMIT_MESSAGE_BOX.TITLE,i.SUBMIT_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.YES,
highlight:!0,eventHandler:function(){c.enableSubmit?y().then(a):a()}},{optionName:i.MESSAGE_BOX_BUTTONS.NO}])}}();c.withdrawApplication=function(){p.showConfirmationBox(i.WITHDRAW_MESSAGE_BOX.TITLE,i.WITHDRAW_MESSAGE_BOX.TEXT,[{optionName:i.MESSAGE_BOX_BUTTONS.WITHDRAW,highlight:!0,checkSelect:!0,eventHandler:function(){c.enableNavigation=!1;c.skillTab.setLoadingMessage(i.ACTION_MESSAGES.APP_WITHDRAW.LOADING);l.withdrawApplicationAsync(c.skill,c.selectedLocale,p.getMessageBoxSelectOption(),p.getMessageBoxSelectOptionType()).then(function(){p.clearLoadingMessage();
c.enableNavigation=!0;c.originalApp=null;k.go(s.EditSkill+".info",{appId:c.skill.skillInfo.skillId,locale:c.selectedLocale})},function(a){c.enableNavigation=!0;c.skillTab.handleError(a)})}},{optionName:i.MESSAGE_BOX_BUTTONS.CANCEL}],[i.WITHDRAW_MESSAGE_BOX_SELECT.TEST_SKILL,i.WITHDRAW_MESSAGE_BOX_SELECT.MORE_FEATURES,i.WITHDRAW_MESSAGE_BOX_SELECT.DISCOVERED_ISSUE,i.WITHDRAW_MESSAGE_BOX_SELECT.NOT_RECEIVED_CERTIFICTION_FEEDBACK,i.WITHDRAW_MESSAGE_BOX_SELECT.NOT_INTEND_TO_PUBLISH,i.WITHDRAW_MESSAGE_BOX_SELECT.OTHER])};
c.skillId?(c.isMigration=l.skillUnderMigration(c.skillId),i.ACTION_MESSAGES&&c.skillTab.setLoadingMessage(i.ACTION_MESSAGES.APP_RETRIEVE.LOADING),l.fetchApplicationByIdAsync(c.skillId,r).then(function(a){c.skill=a;c.selectedLocale!=="new"?(c.updatePageTitle=a.getLocalizedPublishingInfo(c.selectedLocale).name,c.enableNavigation=!0):(c.updatePageTitle="Add a New Language",c.enableNavigation=!1);r==l.appStages.dev&&c.skill.skillInfo.readOnly&&(x=!0);c.readOnlyMode=x;c.skillTab.updateShowSSLCert();c.enableInput=
!x;c.originalApp=e.copy(a);c.tabList=[];if(c.skill){var b=c.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale,d;for(d in b)b.hasOwnProperty(d)&&b[d]&&(b[d].name!==null?c.tabList.push(b[d]):delete b[d])}c.appImagePath={};b=a.getLocales();for(d=0;d<b.length;d++)c.appImagePath[b[d]]=a.getAppIconUrl(b[d]);c.skillType=l.skillDisplayTypes[c.skill.skillInfo.skillTypes[0]];e.forEach(a.getLocales(),function(a){t(a)});p.clearLoadingMessage();if(f.onAppLoaded)f.onAppLoaded()},
function(a){c.appImagePath=l.noImage;c.skill.isInitializing=!1;c.skillTab.handleError(a);if(f.onAppLoadFailed)f.onAppLoadFailed()}),c.configurations={},l.fetchAppConfigurationsAsync().then(function(a){c.configurations=a})):c.readOnlyMode=!1}])})(window.angular);define("AlexaSkill/AlexaSkillController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillCreateController",["$scope","$q","AlexaAppManagementStorage","ASK_AppEditingConfig","InlineService",function(a,d,b,e,h){function g(){var b={};b[a.templocale]={locale:a.templocale};var c={};c[a.templocale]="";a.skill.skillInfo.skillDefinition={multinationalPublishingInfo:{publishingInfoByLocale:b},customInteractionModelInfo:{invocationNameByLocale:c}}}a.skillTypeItems=b.skillTypeItems;a.localeMap=b.localeMap;a.localesList=b.locales;a.templocale=
a.templocale?a.templocale:a.localesList.en_US;a.skillTab.config({selectedMenuStep:a.menuSteps.createApplication,nextTab:a.menuSteps.intentSchema,enableSubmit:!0,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.APP_CREATE.LOADING,actionAsync:function(){return d(function(d,c){if(a.skill.skillInfo.skillTypes[0]!==a.SkillTypes.Custom)a.skill.skillInfo.skillDefinition.customInteractionModelInfo=null;else if(a.audioPlayerSelection===void 0){c(e.ALEXA_APPSTORE_INFO_TAB.AUDIO_PLAYER_FLAG_INPUT.ERROR);
return}b.createApplicationAsync({edwSkillInfo:a.skill.skillInfo}).then(function(b){a.skillTab.setCurrentApp(b);d()},function(a){c(a)})})}}});a.edwInvocationNameBubble={bubbleInfo:a.createBubbleModel(1)};a.handleCreateEdwFocus=function(){if(a.selectedLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.templocale],c=h.validateInvocationName(c).getTestResult(),d=h.getTestInfo(h.validateInvocationName).getTestResult();a.edwInlineValidation(b,
0,d,c);b.bubbleInfo[0].showRedBorder=!1;b.bubbleInfo[0].containerClass="edw_example_invocation"}};a.handleCreateBubbleChange=function(){if(a.selectedLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.templocale],c=h.validateInvocationName(c).getTestResult(),d=h.getTestInfo(h.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,d,c)}};a.handleCreateEdwBlur=function(){if(a.selectedLocale===a.localesList.en_US){var b=
a.edwInvocationNameBubble,c=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.templocale],c=h.validateInvocationName(c).getTestResult();a.handleRedBorder(b,0,c)}};if(!window.EDW_CONFIG.isInternationalizationEnabled)a.templocale=a.localesList.en_US,a.setSelectedLocale(a.localesList.en_US),g();a.localeChange=function(b){a.templocale=b;a.setSelectedLocale(b);g()};a.handleDisableConetent=function(b){if(b!==a.localesList.en_US&&a.skill.skillInfo.skillTypes[0]===a.SkillTypes.Content)a.skill.skillInfo.skillTypes[0]=
a.SkillTypes.Custom}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillCreateController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillCreateLanguageController",["$scope","$state","$q","AlexaAppManagementStorage","InlineService",function(a,d,b,e,h){a.templocale="";a.tempName="";a.tempInvocationName="";a.localesList=e.locales;a.getUnavailableLocales=function(){for(var b=e.localeMap,d=[],c=0;c<b.length;c++){var h=a.skill.getGlobalPublishingInfo().publishingInfoByLocale[b[c].val];(!h||!h.name)&&d.push(b[c])}return d};a.skillTab.config({selectedMenuStep:a.menuSteps.applicationInfo,
nextTab:a.menuSteps.intentSchema,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return b(function(b,f){if(a.tempLocale){var c=a.skill.getGlobalPublishingInfo();c.publishingInfoByLocale[a.tempLocale]={locale:a.tempLocale,name:a.tempName};if(a.skill.containsSkillType(a.skill.skillTypes.Content)){var e=[];e.push("Alexa, what's my Flash Briefing?");e.push("Alexa, what's in the news?");c.publishingInfoByLocale[a.tempLocale].examplePhrases=e}c=a.skill.getCustomInteractionModelInfo();
if(a.skill.containsSkillType(a.skill.skillTypes.Custom))c.invocationNameByLocale[a.tempLocale]=a.tempInvocationName;c=a.skill.getContentSkillInfo();a.skill.containsSkillType(a.skill.skillTypes.Content)&&!c.contentSkillInfoByLocale[a.tempLocale]&&(c.contentSkillInfoByLocale[a.tempLocale]={locale:a.tempLocale});a.skill.saveAppInfoAsync(a.tempLocale).then(function(){d.go("editSkill.info",{appId:a.skill.skillInfo.skillId,locale:a.tempLocale});b()},function(b){a.skillTab.enableEditingAfterFailure(!0);
f(b)})}})}},onAppLoaded:function(){a.locales=a.getUnavailableLocales()}});a.localeChange=function(){a.skill.getGlobalPublishingInfo().publishingInfoByLocale[a.tempLocale]||(a.skill.getGlobalPublishingInfo().publishingInfoByLocale[a.tempLocale]={locale:a.tempLocale});a.handleInputChange()};a.skillTypeItems=e.skillTypeItems;a.edwInvocationNameBubble={bubbleInfo:a.createBubbleModel(1)};a.handleEdwFocus=function(){if(a.tempLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,d=h.validateInvocationName(a.tempInvocationName).getTestResult(),
c=h.getTestInfo(h.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,c,d);b.bubbleInfo[0].showRedBorder=!1;b.bubbleInfo[0].containerClass="edw_example_invocation"}};a.handleBubbleChange=function(){if(a.tempLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,d=h.validateInvocationName(a.tempInvocationName).getTestResult(),c=h.getTestInfo(h.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,c,d)}};a.handleEdwBlur=function(){if(a.tempLocale===a.localesList.en_US){var b=
a.edwInvocationNameBubble,d=h.validateInvocationName(a.tempInvocationName).getTestResult();a.handleRedBorder(b,0,d)}}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillCreateLanguageController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillInfoController",["$scope","$state","rootState","$q","AlexaAppManagementStorage","AlexaInterfaceService","CommonService","ASK_AppEditingConfig","InlineService",function(a,d,b,j,h,g,f,c,k){function m(b){if(a.skill.getModelBuildStatus)if(a.skill.getModelBuildStatus(a.selectedLocale)===a.skill.modelBuildStatusValues.pending)a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.BUILDING),a.enableInput=!1;else if(a.skill.getModelBuildStatus(a.selectedLocale)===
a.skill.modelBuildStatusValues.failed)a.skillTab.clearMessage(),a.skillTab.handleErrorAndFocus({exception:!0,message:a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.FAILURE}),a.enableInput=!0;else if(b)a.skillTab.clearMessage(),a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_INFO_SAVE.SUCCESS),a.enableInput=!0}m();a.localesList=h.locales;a.alexaInterfaceService=g;a.skillTab.config({selectedMenuStep:a.menuSteps.applicationInfo,nextTab:a.menuSteps.intentSchema,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,
actionAsync:function(){return j(function(b,d){(!a.EDW_CONFIG.isInternationalizationEnabled||!a.originalApp||a.skill.containsSkillType(a.skill.skillTypes.Content)?0:e.equals(a.alexaInterfaceService.getAudioPlayerStatus(a.skill),a.alexaInterfaceService.getAudioPlayerStatus(a.originalApp)))?f.showConfirmationBox(c.CONFIRMATION_MESSAGE_BOX.TITLE,c.CONFIRMATION_MESSAGE_BOX.TEXT,[{optionName:c.MESSAGE_BOX_BUTTONS.APPLY,highlight:!0,eventHandler:function(){a.skill.saveAppInfoAsync(a.selectedLocale).then(b,
d)}},{optionName:c.MESSAGE_BOX_BUTTONS.BACK,eventHandler:d}]):a.skill.saveAppInfoAsync(a.selectedLocale).then(b,d)})},successMessage:function(){m(!0)}},onAppLoaded:function(){m()}});a.containsSkillType=function(b){return a.skill.containsSkillType(b)};a.$on("AlexaAppManagementStorage.ModelBuildStatusChanged",function(b,c){a.skill===c&&m(!0)});a.skillTypeItems=h.skillTypeItems;a.edwInvocationNameBubble={bubbleInfo:a.createBubbleModel(1)};a.handleEdwFocus=function(){if(a.selectedLocale===a.localesList.en_US){var b=
a.edwInvocationNameBubble,c=k.validateInvocationName(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult(),d=k.getTestInfo(k.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,d,c);b.bubbleInfo[0].showRedBorder=!1;b.bubbleInfo[0].containerClass="edw_example_invocation"}};a.handleBubbleChange=function(){if(a.selectedLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=k.validateInvocationName(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult(),
d=k.getTestInfo(k.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,d,c)}};a.handleEdwBlur=function(){if(a.selectedLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=k.validateInvocationName(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult();a.handleRedBorder(b,0,c)}}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillInfoController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillPublishingInfoController",["$scope","ASK_AppEditingConfig","InlineService","$timeout","$q","$location","CommonService","ImageMaskingService","AlexaAppManagementStorage",function(a,d,b,e,h,g,f,c,k){function m(){a.appImages[a.selectedLocale]={};a.appImages[a.selectedLocale][a.smallIcon]=a.skill.getImageUrl(a.smallIcon,a.selectedLocale);a.appImages[a.selectedLocale][a.largeIcon]=a.skill.getImageUrl(a.largeIcon,a.selectedLocale)}function n(b,
f){var e,g,h,j,k,l,m;if(f===a.smallIcon)e=d.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE,g=h=108,j=k=78,l=15,m=8,a.emptyMaskIconSrc="/edw/res/images/smallIconMask.png";else if(f===a.largeIcon)e=d.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE,g=h=512,j=k=368,l=73,m=39,a.emptyMaskIconSrc="/edw/res/images/largeIconMask.png";v.onload=function(){var n;a.skill.uploadImageAsync(b,f,a.selectedLocale).then(function(d){n=d.newImageAssetId;d=c.getMaskedImageFile({originalImage:v,emptyMaskImage:document.getElementById("emptyMaskIcon"),
imageType:b.type,imageWidth:g,imageHeight:h,compressedImageHeight:j,compressedImageWidth:k,xOffset:l,yOffset:m});d.name="masked_"+b.name;return a.skill.uploadImageAsync(d,e,a.selectedLocale)}).then(function(b){var c=a.skill.getImageUrl(f,a.selectedLocale);a.appImages[a.selectedLocale][f]=c;e===d.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE&&a.skillTab.updateImagePath(a.appImages[a.selectedLocale][f],a.selectedLocale);c=a.skill.getLocalizedPublishingInfo(a.selectedLocale);if(f===a.smallIcon)c.smallIconId=
b.newImageAssetId,c.smallMaskedIconId=b.newImageAssetId;else if(f===a.largeIcon)c.largeIconId=n,c.largeMaskedIconId=b.newImageAssetId;a.skillTab.setSuccessMessage("Image matches the criteria, please click save to update the skill.");a.handleInputChange()},function(b){a.appImages[a.selectedLocale][f]=a.skill.getImageUrl(f,a.selectedLocale);a.skillTab.handleErrorAndFocus(b)})};v.src=URL.createObjectURL(b)}a.smallIcon=d.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE;a.largeIcon=d.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE;
a.emptyMaskIconSrc="/edw/res/images/smallIconMask.png";a.appImages={};a.globalPublishingInfo=a.skill.getGlobalPublishingInfo();var l=e(function(){},0);a.scrollTo101=function(){var a=0,b=document.getElementById("examplePhraseAnchor");do a+=b.offsetTop,b=b.offsetParent;while(b);window.scroll(0,a)};a.showSampleUtterances=function(){var b=a.$parent.skill.modelDef[a.selectedLocale].testCases;if(b===void 0||b==="")b="No sample utterances found. Please complete the sample utterances field on the Interaction Model tab.";
f.setMessageBoxClass("edw-messagebox-sampleutterances");f.showConfirmationBox("Sample Utterances",b,[{optionName:"OK",highlight:!0}])};a.handleKeywordsChange=function(b){var c=a.skill.getLocalizedPublishingInfo(a.selectedLocale);if(c&&b)c.keywords=b.split(RegExp(" |,","g"));a.handleInputChange()};a.skill.isInitializing||m();a.copyLocalPubInfoFields=function(b){if((b=a.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[b])&&b.keywords)a.localKeywords=b.keywords;b&&b.examplePhrases&&
(a.localExamplePhrases[0]=b.examplePhrases[0]?b.examplePhrases[0]:"",a.localExamplePhrases[1]=b.examplePhrases[1]?b.examplePhrases[1]:"",a.localExamplePhrases[2]=b.examplePhrases[2]?b.examplePhrases[2]:"",a.skill.containsSkillType(a.SkillTypes.Content)&&a.localExamplePhrases.length>2&&a.localExamplePhrases.splice(2,1))};a.localKeywords=[];a.localExamplePhrases=["","",""];a.copyLocalPubInfoFields(a.selectedLocale);a.localesList=k.locales;a.skillTab.config({selectedMenuStep:a.menuSteps.publishingInfo,
nextTab:a.menuSteps.privacyCompliance,onAppLoaded:function(){a.copyLocalPubInfoFields(a.selectedLocale);m()},onAppLoadFailed:function(){m()},saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){var b=a.skill.getLocalizedPublishingInfo(a.selectedLocale);if(b&&a.skill.containsSkillType(a.skill.skillTypes.SmartHome))b.examplePhrases=[null,null,null];return h(function(b,c){a.skill.saveAppInfoAsync(a.selectedLocale).then(function(){a.skillTab.updateImagePath(a.appImages[a.smallIcon]);
b()},c)})},successMessage:a.AppEditingConfig.ACTION_MESSAGES.PRESENTATION_SAVE.SUCCESS}});a.handeImageSelected=function(b,c){a.skillTab.clearMessage();a.appImages[a.selectedLocale][c]="/edw/res/images/loader.gif";n(b.file,c)};var v=new Image;a.examplePhraseClasses=["edw_example_phrase1","edw_example_phrase2","edw_example_phrase3"];a.edwExamplePhraseBubble={bubbleInfo:a.createBubbleModel(3)};a.handleEdwExampleFocus=function(c){if(a.skill.containsSkillType(a.SkillTypes.Custom)&&a.selectedLocale===a.localesList.en_US){var d=
a.edwExamplePhraseBubble,f=a.localExamplePhrases[c],e=a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale],g=b.getTestInfo(b.validateExamplePhrase,c).getTestResult(),f=b.validateExamplePhrase(c,f,e).getTestResult();a.edwInlineValidation(d,c,g,f);d.bubbleInfo[c].showRedBorder=!1;d.bubbleInfo[c].containerClass=a.examplePhraseClasses[c]}};a.handleEdwExamplePhraseInputChangeForBubble=function(c){if(a.skill.containsSkillType(a.SkillTypes.Custom)&&a.selectedLocale===
a.localesList.en_US){a.setValidationResult(!1);e.cancel(l);var d=a.edwExamplePhraseBubble,f=a.localExamplePhrases[c],g=a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale],h=b.getTestInfo(b.validateExamplePhrase,c).getTestResult(),k=b.validateExamplePhrase(c,f,g).getTestResult();l=e(function(){a.edwInlineValidation(d,c,h,k)},200)}};a.handleEdwExamplePhraseInputChange=function(b){var c=a.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[a.selectedLocale];
if(c){if(!c.examplePhrases)c.examplePhrases=["","",""];c.examplePhrases[b]=a.localExamplePhrases[b]}if(!a.localExamplePhrases[0]&&!a.localExamplePhrases[1]&&!a.localExamplePhrases[2])c.examplePhrases=null};a.handleEdwExampleBlur=function(c){if(a.skill.containsSkillType(a.SkillTypes.Custom)&&a.selectedLocale===a.localesList.en_US){var d=a.edwExamplePhraseBubble,f=b.validateExamplePhrase(c,a.localExamplePhrases[c],a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult();
a.handleRedBorder(d,c,f)}};a.getExamplePhrasesHelpText=function(){if(a.skill.containsSkillType(a.SkillTypes.Custom))return d.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.HELPV2;if(a.skill.containsSkillType(a.SkillTypes.SmartHome))return d.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.SMART_HOME_HELP;if(a.skill.containsSkillType(a.SkillTypes.Content))return d.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.CONTENT_HELP};a.handleRootCategoryInputChange=function(){var b=a.skill.skillInfo.rootCategoryItemTypeKeyword;a.skill.getGlobalPublishingInfo().categoryItemTypeKeyword=
null;if(!a.configurations.subCategoryOptionsByRootITK[b]||a.configurations.subCategoryOptionsByRootITK[b].length===0)a.skill.getGlobalPublishingInfo().categoryItemTypeKeyword=b,a.handleInputChange()}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillPublishingInfoController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillSSLCertController",["$scope","AlexaAppManagementStorage","EDW_CONFIG",function(a,d,b){function e(){a.supportedRegions.forEach(function(e){if(b.isInternationalizationEnabled||e===d.regions.NA)a.endpoints[e]=a.skill.getEndpointByRegion(d.regions[e]),a.endpoints[e]||delete a.endpoints[e]});a.sslCertificateTypes=a.skill.getSSLCertificateTypes()}a.endpoints={};a.sslCertificateTypes={};a.sslCertificateText={};a.supportedRegions=Object.keys(d.regions);
a.skillTab.config({selectedMenuStep:a.menuSteps.updateSSLCert,nextTab:a.menuSteps.testing,onAppLoaded:function(){e();a.sslRadioButtonChange()},saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return a.skill.saveSslCertAsync({text:a.sslCertificateText,types:a.sslCertificateTypes})},successMessage:a.AppEditingConfig.ACTION_MESSAGES.CERT_SAVE.SUCCESS}});e();a.sslRadioButtonChange=function(){var e={};a.supportedRegions.forEach(function(g){if(b.isInternationalizationEnabled||
g===d.regions.NA)if(e[g]=a.endpoints[g],e[g]){if(e[g].sslCertificateType=a.sslCertificateTypes[g],a.sslCertificateTypes[g]===a.httpCertificateTypes.selfSigned)e[g].sslCertificateText=a.sslCertificateText[g]}else delete e[g]});a.handleInputChange()}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillSSLCertController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillPrivacyComplianceController",["$scope","CommonService",function(a,d){a.skillTab.config({selectedMenuStep:a.menuSteps.privacyCompliance,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return a.skill.saveAppInfoAsync(a.selectedLocale)},successMessage:a.AppEditingConfig.ACTION_MESSAGES.APPSTORE_INFO_SAVE.SUCCESS}});a.showChildrenAppDialog=function(){d.setMessageBoxClass("edw-messagebox-coppa");
d.showConfirmationBox(a.AppEditingConfig.ALEXA_APPSTORE_INFO_TAB.CHILDREN_APP_INPUT.DIALOG_TITLE,a.AppEditingConfig.ALEXA_APPSTORE_INFO_TAB.CHILDREN_APP_INPUT.DIALOG_CONTENT,[{optionName:"Close",highlight:!0}])}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillPrivacyComplianceController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillConfigurationController",["$scope","$q","ContentSkillConfiguration","AlexaAppManagementAjax","AlexaAppManagementStorage","ASK_AppEditingConfig","EDW_CONFIG",function(a,d,b,j,h,g,f){function c(){if(a.skill.containsSkillType(a.SkillTypes.SmartHome))a.endpoints.type="LAMBDA";a.defaultEndpointOptions.forEach(function(b){if(f.isInternationalizationEnabled||b===h.regions.NA)if(a.endpoints[b]=a.skill.getEndpointByRegion(b),a.endpoints[b]){if(a.endpoints.type=
e.copy(a.endpoints[b].type),a.endpoints[b].isDefaultRegion)a.endpoints.defaultRegion=b}else delete a.endpoints[b]});a.$evalAsync()}function k(){a.skill.containsSkillType(a.SkillTypes.Content)&&b(a)}function m(){if(!e.equals(a.skill.getPartnerEntity(),a.originalApp.getPartnerEntity())||a.skill.isAccountLinkingEnabled&&!a.originalApp.isAccountLinkingEnabled){if(a.skill.containsSkillType(a.SkillTypes.SmartHome))a.skill.isAccountLinkingEnabled=!0;var b={isAccountLinkingEnabled:a.skill.isAccountLinkingEnabled,
skillId:a.skill.skillInfo.skillId,isImplicitGrant:a.skill.getPartnerEntity().implicitGrant,authorizationUri:a.skill.getPartnerEntity().authorizationUri,clientId:a.skill.getPartnerEntity().clientId,scopes:a.skill.getPartnerEntity().scopes};if(!b.isImplicitGrant)b.authGrantInfo={accessTokenURI:a.skill.getPartnerEntity().authGrantInfo.accessTokenURI,clientSecret:a.skill.getPartnerEntity().authGrantInfo.clientSecret,clientHttpBasicAuthorizationRequired:a.skill.getPartnerEntity().authGrantInfo.clientHttpBasicAuthorizationRequired};
return j.createPartnerAsync(b)}else return d.when()}a.edwConfig=f;a.endpoints={};a.clientSecret=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT;a.clientSecretClickText=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.SHOW_BUTTON_TEXT;a.defaultEndpointOptions=Object.keys(h.regions);a.isClientSecretHidden=!0;a.handleAccountLinkingInputChange=function(){a.skill.isAccountLinkingEnabled===!1&&e.copy(a.originalApp.skillInfo,a.skill.skillInfo)};a.handleEndpointChange=
function(){a.defaultEndpointOptions.forEach(function(b){if(f.isInternationalizationEnabled||b===h.regions.NA){var c=a.skill.getEndpointByRegion(b)||a.skill.initializeEndpointByRegion(b);if(a.endpoints[b]){if(c.type=a.endpoints.type,c.region=a.endpoints[b].region||h.regions.NA,c.isDefaultRegion=a.endpoints.defaultRegion===h.regions[b]||!f.isInternationalizationEnabled,a.endpoints[b].url)c.url=a.endpoints[b].url}else a.skill.resetEndpointByRegion(b)}});a.skillTab.updateShowSSLCert();a.handleInputChange()};
c();a.updatePermission=function(b){if(a.skill.skillInfo.skillDefinition.permissionInfo){if(!a.skill.skillInfo.skillDefinition.permissionInfo.permissions)a.skill.skillInfo.skillDefinition.permissionInfo.permissions={}}else a.skill.skillInfo.skillDefinition.permissionInfo={permissions:{}};a.checkPermissionIsUndefined(b)?a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b]="":(delete a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b],a.clientSecret=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT,
a.clientSecretClickText=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.SHOW_BUTTON_TEXT,a.isClientSecretHidden=!0)};a.checkPermissionIsUndefined=function(b){return!a.skill.skillInfo.skillDefinition.permissionInfo?!0:a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b]===void 0};var n=!1;a.LoadImage=function(){return n};a.SetLoadImageStatus=function(){n=!0};a.clearLoadImageStatus=function(){n=!1};a.handleClientSecretView=function(){a.isClientSecretHidden=!a.isClientSecretHidden;
if(a.isClientSecretHidden)a.clientSecret=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT,a.clientSecretClickText=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.SHOW_BUTTON_TEXT;else{var b=a.skill.skillInfo.skillId,c=a.skill.skillInfo.skillDefinition.securityProfile.profileId;a.SetLoadImageStatus();j.getPermissionsClientSecretAsync(b,c).then(function(b){a.clientSecret=b;a.clientSecretClickText=g.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.HIDE_BUTTON_TEXT;
a.clearLoadImageStatus()},function(){a.isClientSecretHidden=!0;a.clearLoadImageStatus()})}};a.skillTab.config({selectedMenuStep:a.menuSteps.configuration,nextTab:function(){return a.showSSLCert?a.menuSteps.updateSSLCert:a.menuSteps.testing},saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return d(function(b,c){m().then(function(d){if(d!==void 0)if(d==="")a.skill.accountLinkingInfo=null,a.skill.isAccountLinkingEnabled=!1;else{var f=a.skill.getAccountLinkingInfo();
if(f===null)f=a.skill.skillInfo.skillDefinition.accountLinkingInfo={};f.supportsLinking=!0;f.partnerId=d.partnerId;f.type=a.skill.skillInfo.partnerEntity.implicitGrant?"IMPLICIT":"AUTH_CODE"}if(!a.skill.isAccountLinkingEnabled)a.skill.skillInfo.skillDefinition.accountLinkingInfo=null;a.skill.saveAppInfoAsync(a.selectedLocale).then(function(){b();a.$emit("skill_saved")},function(a){c(a)})},function(a){c(a)})})},successMessage:a.AppEditingConfig.ACTION_MESSAGES.APPSTORE_INFO_SAVE.SUCCESS},onAppLoaded:function(){c();
k()}});a.skill.isInitializing||k();a.getClientSecretPlaceholder=function(){return!a.skill.getPartnerEntity()||!a.skill.getPartnerEntity().authGrantInfo||a.skill.getPartnerEntity().authGrantInfo.clientSecret===void 0||!e.equals(a.skill.getPartnerEntity(),a.originalApp.getPartnerEntity())?"":"******"}}])})(window.angular);define("AlexaSkill/Tabs/Configuration/AlexaSkillConfigurationController",function(){});
(function(e){e.module("AlexaSkillModule").factory("ContentSkillConfiguration",["$q","AlexaAppManagementStorage","AlexaAppManagementAjax","ASK_AppEditingConfig","CommonService","NoImage",function(a,d,b,j,h,g){return function(a){function c(b){m=e.copy(a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds);b&&(n=e.copy(b))}function d(){var b=e.copy(a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds),c=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.indexOf(a.currentFeed);c!=
-1&&a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.splice(c,1);a.saveApplicationChanges().then(function(){a.currentFeed=null},function(){a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds=b})}a.contentConfigurationEnabled=!0;a.isEditingFeed=function(){return a.currentFeed};a.contentUpdateFrequencyKeys=Object.keys(a.configurations.contentUpdateFrequencyValues);a.selectedContentUpdateFrequency={};a.selectedContentUpdateFrequency.text=a.contentUpdateFrequencyKeys[0];a.handleSelectedContentUpdateFrequencyChange=
function(b){a.selectedContentUpdateFrequency.text=b;a.currentFeed.updateFrequencyInMillis=a.configurations.contentUpdateFrequencyValues[b];a.handleInputChange()};a.isAddingFeed=!1;var m,n;a.showImageTooltip=function(a){return!a.publishingInfo.largeIconId};a.handleAddNewFeed=function(){a.isAddingFeed=!0;c();a.currentFeed={};a.currentFeed.publishingInfo={};a.currentFeed.updateFrequencyInMillis=a.configurations.contentUpdateFrequencyValues[a.contentUpdateFrequencyKeys[0]];a.currentFeedIconUrl=g;if(!a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds)a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds=
[];a.currentFeed.isDefaultFeed=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.length<1?!0:!1;a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.push(a.currentFeed);a.handleInputChange()};a.isFeedDirty=function(){return a.isAddingFeed?!0:!e.equals(a.currentFeed,n)};a.handleEditFeed=function(b){a.isAddingFeed=!1;c(b);a.currentFeed=b;a.currentFeedIconUrl=a.getFeedIconUrl(b);if(b.updateFrequencyInMillis)for(var d in a.configurations.contentUpdateFrequencyValues)if(a.configurations.contentUpdateFrequencyValues[d]===
b.updateFrequencyInMillis){a.selectedContentUpdateFrequency.text=d;break}};a.cancelEditingFeed=function(){a.currentFeed=null;a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds=m;a.handleInputChange()};a.saveEditedFeed=function(){a.isFeedDirty()?a.saveApplicationChanges().then(function(){a.currentFeed=null}):a.currentFeed=null};a.$on("skill_saved",function(){a.isAddingFeed=!1;a.currentFeed&&c(a.currentFeed)});a.deleteEditingFeed=function(){a.currentFeed.isDefaultFeed===!0&&h.showConfirmationBox(j.CONFIGURATION_TAB.CONTENT.FEED_BOX.CANCEL,
j.CONFIGURATION_TAB.CONTENT.FEED_BOX.DEFAULT_FEED_MSG,[{optionName:j.CONFIGURATION_TAB.CONTENT.FEED_BOX.CANCEL}]);h.showConfirmationBox(j.CONFIGURATION_TAB.CONTENT.FEED_BOX.TITLE,j.CONFIGURATION_TAB.CONTENT.FEED_BOX.MSG,[{optionName:j.CONFIGURATION_TAB.CONTENT.FEED_BOX.DELETE,eventHandler:d},{optionName:j.MESSAGE_BOX_BUTTONS.CANCEL}])};a.getEditTitle=function(){return a.isAddingFeed?j.CONFIGURATION_TAB.CONTENT.FEED_EDIT.ADD_TITLE:j.CONFIGURATION_TAB.CONTENT.FEED_EDIT.EDIT_TITLE};a.skillTab.rootStorage.feedIconUrls=
{};a.currentFeedIconUrl=g;a.getFeedIconUrl=function(b){return(b=a.skillTab.rootStorage.feedIconUrls[b.publishingInfo.largeIconId])?b:g};a.handleDefaultFeedChange=function(b){for(var c=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds,d=0;d<c.length;d++){var e=c[d];e.isDefaultFeed=b.name===e.name&&b.feedId===e.feedId?!0:!1}a.handleInputChange()};(function(){var c=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds;if(c){for(var d="",e=0;e<c.length;e++){var h=c[e];h.publishingInfo.largeIconId&&
a.skillTab.rootStorage.feedIconUrls[h.publishingInfo.largeIconId]!==g&&(d&&(d+="|"),d+=h.publishingInfo.largeIconId)}d&&b.batchGetImageResourceRetrievalUrlAsync(d).then(function(b){for(var c=0;c<b.images.length;c++){var d=b.images[c].retrievalUrl;d||(d=g);a.skillTab.rootStorage.feedIconUrls[b.images[c].imageId]=d}})}})();a.handleImageSelected=function(c){var d=a.currentFeed.publishingInfo.largeIconId;a.currentFeedIconUrl="/edw/res/images/loader.gif";a.skillTab.clearMessage();a.skillTab.disableEditing();
b.getImageResourceUploadUrlAsync("FEED_ICON",a.currentFeed.publishingInfo.largeIconId,c.file.name,c.file.size).then(function(d){a.currentFeed.publishingInfo.largeIconId=d.imageId;var e={};e.uploadURL=d.uploadUrl;e.file=c.file;return b.uploadFileAsync(e,{sizeLimit:"1MB",dimensionLimit:"512 x 512"})}).then(function(){return b.getImageResourceRetrievalUrlAsync(a.currentFeed.publishingInfo.largeIconId)}).then(function(b){a.currentFeedIconUrl=a.skillTab.rootStorage.feedIconUrls[a.currentFeed.publishingInfo.largeIconId]=
b.retrievalUrl;a.skillTab.setSuccessMessage(j.CONFIGURATION_TAB.CONTENT.FEED_EDIT.IMAGE_UPLOAD.SUCCESS);a.skillTab.enableEditing();a.handleInputChange()},function(b){a.currentFeed.publishingInfo.largeIconId=d;a.currentFeedIconUrl=a.getFeedIconUrl(a.currentFeed);a.skillTab.handleErrorAndFocus(b);a.skillTab.enableEditing();a.handleInputChange()})}}}])})(window.angular);define("AlexaSkill/Tabs/Configuration/Content/ContentSkillConfiguration",function(){});
(function(e){e.module("AlexaSkillModule").directive("askEndpointInput",["ASK_AppEditingConfig","$interval",function(a){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/Controls/AlexaSkillEndpointInput.view",scope:{edwDisabled:"=",edwDefaultEndpointOptions:"=",edwEndpoint:"=",edwEndpointModel:"=",edwEndpointChange:"=",edwGlobal:"=",edwFixedType:"="},link:function(d){d.AppEditingConfig=a}}}])})(window.angular);define("AlexaSkill/Tabs/Controls/AlexaSkillEndpointInput",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillListCatalogController",["$scope","$state","rootState","ASK_AppEditingConfig",function(a,d,b,e){a.handleEditCatalogAction=function(a){d.go(b+".intentSchema.catEdit",{catalogName:a})};a.getCatalogButtonText=function(){return a.skill.skillInfo.stage===a.skill.appStages.dev?e.CATALOG_TAB.EDIT_BUTTON:e.CATALOG_TAB.VIEW_BUTTON}}])})(window.angular);define("AlexaSkill/Tabs/InteractionModel/AlexaSkillListCatalogController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillEditCatalogController",["$scope","$state","$stateParams","$q","rootState","ASK_AppEditingConfig","CommonService",function(a,d,b,j,h,g,f){function c(){var c={};if(a.catalogList){e.copy(a.catalogList,n);a:{var f=a.catalogList;if(a.isAddNewCatalogFlow)k=f.length;else{for(var g=0;g<f.length;g++)if(f[g].name===b.catalogName){k=g;break a}d.go(h+".intentSchema.catList");k=void 0}}if(!a.isAddNewCatalogFlow)c.name=b.catalogName,c.values=a.convertCatalogEntitiesToString(a.catalogList[k].entities,
"\n")}e.copy(c,m);a.catalog=c}var k,m={},n=[],j={},l=!1;a.changeInCatalog=!1;a.isAddNewCatalogFlow=b.catalogName==="";j.onCatalogUpdated=c;j.onSaveChangeToCatalogsAction=function(){if(l)a.skill.modelDef[a.selectedLocale].catalogs.splice(k,1);else if(a.skill.modelDef[a.selectedLocale].isCatalogDirty){var b={};if(!a.catalog.name||!a.catalog.values)throw"Please provide both name and values for the custom slot type.";if(a.catalog.name.length>100)throw"The name of the custom slot type has exceeded the maximum length of 100 characters.";
if(a.catalog.values.length>6E5)throw"The custom slot type values have exceeded the maximum length of 600000 characters.";b.name=a.catalog.name;b.entities=a.convertStringToCatalogEntities(a.catalog.values);k>=a.catalogList.length?a.catalogList.push(b):(a.catalogList[k].name=b.name,a.catalogList[k].entities=b.entities)}delete a.skill.modelDef[a.selectedLocale].isCatalogDirty};a.setCatalogConfig(j);c();a.onCancelCatalogEdit=function(){e.copy(n,a.skill.modelDef[a.selectedLocale].catalogs);delete a.skill.modelDef[a.selectedLocale].isCatalogDirty;
delete a.catalog;a.skillTab.clearMessage();d.go(h+".intentSchema.catList")};a.onDeleteCatalog=function(){f.showConfirmationBox(g.CATALOG_TAB.CONFIRMATION_MESSAGE_BOX.TITLE,g.CATALOG_TAB.CONFIRMATION_MESSAGE_BOX.MESSAGE,[{optionName:g.CATALOG_TAB.MESSAGE_BOX_BUTTONS.DELETE,eventHandler:function(){l=!0;a.saveApplicationChanges()}},{optionName:g.MESSAGE_BOX_BUTTONS.CANCEL}])};a.onSaveCatalog=function(){l=!1;a.saveApplicationChanges()};a.onCatalogChanged=function(){a.skill.modelDef[a.selectedLocale]||
(a.skill.modelDef[a.selectedLocale]={});e.equals(a.catalog,m)?delete a.skill.modelDef[a.selectedLocale].isCatalogDirty:a.skill.modelDef[a.selectedLocale].isCatalogDirty=!0}}])})(window.angular);define("AlexaSkill/Tabs/InteractionModel/AlexaSkillEditCatalogController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillInteractionModelController",["$scope","$state","rootState","$q","ASK_AppEditingConfig","AlexaInterfaceService","CommonService",function(a,d,b,e,h,g,f){function c(b){a.audioIntentsButtonEnabled=b;a.audioIntentsMessage={}}function k(){var b=a.getSelectedLocale();if(g.getAudioPlayerStatus(a.skill)&&a.skill.modelDef[b]&&a.skill.modelDef[b].models)if(b=g.validateAudioInterface(b,a.skill.modelDef[b].models,a.skill.modelDef[b].testCases),b.error)return b.message;
else if(b.missingIntents.length>0)return a.audioIntentsButtonEnabled=!0,a.audioIntentsMessage={error:!0,message:b.message},b.message;return!1}function m(){a.catalogList=[];if(a.skill.modelDef[a.selectedLocale]&&a.skill.modelDef[a.selectedLocale].catalogs)a.catalogList=a.skill.modelDef[a.selectedLocale].catalogs}function n(a){s&&s.setOption("readOnly",!a);i&&i.setOption("readOnly",!a)}function l(){n(a.isModelInputEnabled())}function v(b){a.skill.getModelBuildStatus&&(l(),a.skill.getModelBuildStatus(a.selectedLocale)===
a.skill.modelBuildStatusValues.pending?a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.BUILDING):a.skill.getModelBuildStatus(a.selectedLocale)===a.skill.modelBuildStatusValues.failed?(a.skillTab.clearMessage(),a.skillTab.handleErrorAndFocus({exception:!0,message:a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.FAILURE})):b&&(a.skillTab.clearMessage(),a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.SUCCESS)))}a.showNotification=function(){return!a.skill.containsSkillType(a.skill.skillTypes.Custom)};
a.getNotificationTitle=function(){var b="";a.skill.containsSkillType(a.skill.skillTypes.SmartHome)?b="Your skill uses Smart Home Skill API":a.skill.containsSkillType(a.skill.skillTypes.Content)&&(b="Your skill uses Flash Briefing Skill API");return b};a.getNotificationText=function(){return a.skill.containsSkillType(a.skill.skillTypes.SmartHome)?a.AppEditingConfig.INTERACTION_MODEL_TAB.DESCRIPTION.SMART_HOME:a.skill.containsSkillType(a.skill.skillTypes.Content)?a.AppEditingConfig.INTERACTION_MODEL_TAB.DESCRIPTION.CONTENT_SKILL:
"<place holder>"};a.initAudioPlayer();a.audioIntentsButtonEnabled=!0;a.audioIntentsMessage={};a.hasAudioPlayerIntent=function(){if(g.getAudioPlayerStatus(a.skill)){var b=a.getSelectedLocale();if(a.skill.modelDef[b].models&&a.skill.modelDef[b].models.length>0&&(b=g.validateAudioInterface(b,a.skill.modelDef[b].models,a.skill.modelDef[b].testCases),b.missingIntents.length<1))return c(!1),b.error&&f.setStatus(f.statusType.error,"Error: "+b.message),!0;c(!0)}return!1};a.addAudioPlayerIntents=function(){c(!1);
var b=h.INTERACTION_MODEL_TAB.AUDIO_PLAYER_MESSAGE,d=a.getSelectedLocale(),e={},e=g.validateAudioInterface(d,a.skill.modelDef[d].models);e.error?(a.audioIntentsButtonEnabled=!0,a.audioIntentsMessage={error:!0,message:e.message}):(e=e.intentSchemaJson,a.skill.modelDef[d].models=JSON.stringify(e,null,4),a.audioIntentsButtonEnabled=!1,a.audioIntentsMessage={success:!0,message:b.SUCCESS_ALERT},a.handleInputChange())};var p=CodeMirror.jsonValidator,i,s;CodeMirror.jsonValidator=function(a){return a&&a.trim()?
p(a):[]};a.jsonEditorOptions={mode:"application/json",lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0,gutters:["CodeMirror-lint-markers"],lintWith:CodeMirror.jsonValidator,highlightSelectionMatches:!0,styleActiveLine:!0};a.utteranceEditorOptions={lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0,maxHighlightLength:0};a.slotTypeEditorOptions={lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0,
maxHighlightLength:0};a.onJsonEditorLoad=function(b){var c=b.getDoc();i=b;b.setSize("100%",200);b.setOption("maxLength",1E5);b.on("beforeChange",a.enforceMaxLength);a.readOnlyMode&&b.setOption("readOnly",!0);c.markClean();l()};a.onUtteranceEditorLoad=function(b){var c=b.getDoc();s=b;b.setSize("100%",200);b.setOption("maxLength",2E5);b.on("beforeChange",a.enforceMaxLength);a.readOnlyMode&&b.setOption("readOnly",!0);c.markClean();l()};a.onSlotTypeEditorLoad=function(b){var c=b.getDoc();b.setSize("55em",
200);a.readOnlyMode&&b.setOption("readOnly",!0);c.markClean()};a.enforceMaxLength=function(a,b){var c=a.getOption("maxLength");if(c&&b.update){var d=b.text.join("\n"),e=d.length-(a.indexFromPos(b.to)-a.indexFromPos(b.from));if(e<=0)return!0;e=a.getValue().length+e-c;e>0&&(d=d.substr(0,d.length-e),b.update(b.from,b.to,d.split("\n")))}return!0};var r={};a.setCatalogConfig=function(a){r=a};a.skillTab.config({selectedMenuStep:a.menuSteps.intentSchema,nextTab:a.menuSteps.configuration,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,
actionAsync:function(){c(!1);l();return e(function(c,e){if(r.onSaveChangeToCatalogsAction)try{r.onSaveChangeToCatalogsAction()}catch(f){e({exception:!0,message:f});return}var g=k();g?(e(g),n(!0)):a.skill.saveIntentSchemaAsync(a.selectedLocale).then(function(){c();d.go(b+".intentSchema.catList");a.hasAudioPlayerIntent()},function(b){e(b);n(!0);a.hasAudioPlayerIntent()})})},successMessage:function(){v(!0)}},onAppLoaded:function(){m();if(r.onCatalogUpdated)r.onCatalogUpdated();a.initAudioPlayer();v()}});
a.$on("AlexaAppManagementStorage.ModelBuildStatusChanged",function(b,c){a.skill===c&&v(!0)});a.isModelInputEnabled=function(){return!a.skill.getModelBuildStatus?!1:a.skill.modelDef[a.selectedLocale]?a.enableInput&&a.skill.getModelBuildStatus(a.selectedLocale)!==a.skill.modelBuildStatusValues.pending:a.enableInput};a.skill.isInitializing||m();a.addCatalog=function(){d.go(b+".intentSchema.catEdit",{catalogName:""})};a.isCatalogEdit=function(){return d.is(b+".intentSchema.catEdit")};a.convertCatalogEntitiesToString=
function(a,b){if(!a||a.length===0)return"";for(var c=[],d=0;d<a.length;d++)c.push(a[d].value);return c.join(b)};a.convertStringToCatalogEntities=function(a){var b=[];if(!a||!a.trim())return b;for(var a=a.split("\n"),c=0;c<a.length;c++){var d={};if(a[c].trim())d.value=a[c],b.push(d)}return b};v()}])})(window.angular);define("AlexaSkill/Tabs/InteractionModel/AlexaSkillInteractionModelController",function(){});
(function(e){e.module("AlexaSkillModule").controller("AlexaSkillTestController",["$scope","AlexaAppManagementAjax","CommonService","audioService",function(a,d,b,j){a.showTextSimulator=function(){return a.skill.containsSkillType(a.SkillTypes.Custom)};a.getNotificationTitle=function(){var b=!a.skill.containsSkillType(a.SkillTypes.Custom),d=b?a.AppEditingConfig.TESTING_TAB.ENTITLEMENT.HEADER_READY:a.AppEditingConfig.TESTING_TAB.ENABLEMENT.HEADER_READY,b=b?a.AppEditingConfig.TESTING_TAB.ENTITLEMENT.HEADER_NOT_READY:
a.AppEditingConfig.TESTING_TAB.ENABLEMENT.HEADER_NOT_READY;return a.skill.containsSkillType(a.SkillTypes.Custom)&&a.tabStatus.testing!==a.stateEnum.VALID?b:d};a.getExampleText=function(){if(a.skill.containsSkillType(a.SkillTypes.Custom))return a.AppEditingConfig.TESTING_TAB.HELP.CUSTOM+a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.selectedLocale];else if(a.skill.containsSkillType(a.SkillTypes.SmartHome))return a.AppEditingConfig.TESTING_TAB.HELP.SMART_HOME;else if(a.skill.containsSkillType(a.SkillTypes.Content))return a.AppEditingConfig.TESTING_TAB.HELP.CONTENT;
return""};a.jsonEditorOptions={mode:"application/json",lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0};a.onRequestJsonEditorLoad=function(a){var b=a.getDoc();a.setSize("32em",300);b.markClean()};a.onRequestJsonEditorLoadReadOnly=function(a){var b=a.getDoc();a.setSize("32em",300);a.setOption("readOnly",!0);b.markClean()};a.onResponseJsonEditorLoadReadOnly=function(a){var b=a.getDoc();a.setSize("32em",254);a.setOption("readOnly",!0);b.markClean()};
a.audioPlayerForVoiceTester=j.createAudioPlayer();a.audioPlayerForTextRequest=j.createAudioPlayer();a.audioPlayerForJsonRequest=j.createAudioPlayer();a.voiceTesterUserInput="";a.clearVoiceTesterUserInput=function(){a.voiceTesterUserInput=""};a.hasVoiceInput=function(){return a.voiceTesterUserInput&&a.voiceTesterUserInput.length>0};a.getVoiceInputType=function(a){return a.indexOf("<speak>")==-1?"PlainText":"SSML"};var h=null;a.isVoiceSimulatorAudioLoading=function(){return h};a.setVoiceSimulatorLoadingStatus=
function(){h="start"};a.clearVoiceSimulatorStatus=function(){h=null};var g=null;a.isTextSimulatorAudioLoading=function(){return g};a.setTextSimulatorLoadingStatus=function(){g="start"};a.clearTextSimulatorStatus=function(){g=null};a.audioPlayOrPause=function(a,b,d,e,f,g){b&&!a.isPlaying()?a.playTts(b,d,e,f,g):a.pause()};a.isAudioPlaying=function(a){return a.isPlaying()};a.isAudioPaused=function(a){return!a.isPlaying()};a.isTextSimulatorAudioEnabled=function(){return a.simulatorEnabled()&&a.textSimulatorSpeechResponseText};
a.isJsonSimulatorAudioEnabled=function(){return a.simulatorEnabled()&&a.jsonSimulatorSpeechResponseText};a.appEnabledStatus=a.skill.isEnabled(a.selectedLocale);a.skillTab.config({selectedMenuStep:a.menuSteps.testing,nextTab:a.menuSteps.publishingInfo,onAppLoaded:function(){a.appEnabledStatus=a.skill.isEnabled(a.selectedLocale)}});a.textSimulatorSpeechResponseText="";a.textSimulatorSpeechResponseType="";a.jsonSimulatorSpeechResponseText="";a.jsonSimulatorSpeechResponseType="";a.textInput="";a.clearTextInput=
function(){a.textInput=""};a.textRequest="";a.textResponse="";a.jsonRequest="";a.jsonResponse="";a.previousSession=null;a.isLoading=!1;a.texttab=!0;a.jsontab=!1;a.LoadTextTab=function(){return a.texttab};a.LoadJsonTab=function(){return a.jsontab};a.SetTextStatus=function(){a.texttab=!0;a.jsontab=!1};a.SetJsonStatus=function(){a.texttab=!1;a.jsontab=!0};a.simulatorEnabled=function(){return a.skill.isEnabled(a.selectedLocale)&&a.skill.skillInfo.stage==="Development"&&!a.isLoading};a.NullReplacer=function(a,
b){return b===null?void 0:b};a.handleTextInput=function(){a.SetLoadImageStatus();a.isLoading=!0;d.invokeSkillWithTextAsync({text:a.textInput,intentRequest:null,applicationId:a.skill.skillInfo.skillId,locale:a.selectedLocale,session:a.previousSession}).then(function(c){b.clearLoadingMessage();b.clearStatus();a.textSimulatorSpeechResponseText="";a.textSimulatorSpeechResponseType="";a.textRequest=c.invalidNLUResponse?a.AppEditingConfig.TESTING_TAB.SIMULATOR.INVALID_NLU_RESPONSE_ERROR:JSON.stringify(c.edwSkillRequestData,
a.NullReplacer,"  ");if(c.remoteClientException||c.isExitRequested||c.invalidNLUResponse)a.textResponse=c.statusText;else if(a.textResponse=JSON.stringify(c.edwSkillResponse,a.NullReplacer,"  "),c.edwSkillResponse&&c.edwSkillResponse.response&&c.edwSkillResponse.response.outputSpeech){var d=c.edwSkillResponse.response.outputSpeech;if(d)a.textSimulatorSpeechResponseType=d.type,a.textSimulatorSpeechResponseText="SSML"===a.textSimulatorSpeechResponseType?d.ssml:d.text}a.clearLoadImageStatus();a.isLoading=
!1;c.edwSkillResponse.response.shouldEndSession?a.previousSession=null:(a.previousSession=c.edwSkillRequestData.session,a.previousSession.attributes=c.edwSkillResponse.sessionAttributes)},function(b){a.textRequest="";a.textResponse="";a.clearLoadImageStatus();a.isLoading=!1;a.skillTab.handleErrorAndFocus(b)})};a.handleJsonInput=function(){try{a.jsonRequest=b.cleanJSON(a.jsonRequest),e.fromJson(a.jsonRequest)}catch(c){a.jsonResponse="Please enter a valid JSON input.";return}var f=a.jsonRequest;a.SetLoadImageStatus();
a.isLoading=!0;d.invokeSkillAsync({text:null,intentRequest:JSON.stringify(JSON.parse(f)),applicationId:a.skill.skillInfo.skillId,locale:a.selectedLocale,session:a.session}).then(function(c){b.clearLoadingMessage();b.clearStatus();a.jsonSimulatorSpeechResponseText="";a.jsonSimulatorSpeechResponseType="";if(c.remoteClientException||c.isExitRequested)a.jsonResponse=c.statusText;else if(a.jsonResponse=JSON.stringify(c.edwSkillResponse,null,"  "),c.edwSkillResponse&&c.edwSkillResponse.response&&c.edwSkillResponse.response.outputSpeech&&
(c=c.edwSkillResponse.response.outputSpeech))a.jsonSimulatorSpeechResponseType=c.type,a.jsonSimulatorSpeechResponseText="SSML"===a.jsonSimulatorSpeechResponseType?c.ssml:c.text;a.clearLoadImageStatus();a.isLoading=!1},function(b){a.jsonResponse="";a.clearLoadImageStatus();a.isLoading=!1;a.skillTab.handleErrorAndFocus(b)})};a.handleEnter=function(b){b.keyCode==13&&(a.texttab?a.handleTextInput():a.handleJsonInput())};a.handleReset=function(){a.texttab?(a.textInput="",a.textRequest="",a.textResponse=
"",a.previousSession=null,a.textSimulatorSpeechResponseText="",a.textSimulatorSpeechResponseType=""):(a.jsonRequest="",a.jsonResponse="",a.jsonSimulatorSpeechResponseText="",a.jsonSimulatorSpeechResponseType="")};var f=null;a.LoadImage=function(){return f};a.SetLoadImageStatus=function(){f="start"};a.clearLoadImageStatus=function(){f=null};a.getEndPointText=function(){if(!a.skill.containsSkillType(a.SkillTypes.Content))return a.skill.getEndpointByRegion("NA")&&a.skill.getEndpointByRegion("NA").type===
"LAMBDA"?a.AppEditingConfig.TESTING_TAB.SIMULATOR.LAMBDA_TEXT:a.AppEditingConfig.TESTING_TAB.SIMULATOR.HTTP_TEXT};a.getRequestText=function(){if(!a.skill.containsSkillType(a.SkillTypes.Content))return a.skill.getEndpointByRegion("NA")&&a.skill.getEndpointByRegion("NA").type==="LAMBDA"?a.AppEditingConfig.TESTING_TAB.SIMULATOR.REQUEST.LAMBDA_REQUEST:a.AppEditingConfig.TESTING_TAB.SIMULATOR.REQUEST.HTTP_REQUEST};a.getResponseText=function(){if(!a.skill.containsSkillType(a.SkillTypes.Content))return a.skill.getEndpointByRegion("NA")&&
a.skill.getEndpointByRegion("NA").type==="LAMBDA"?a.AppEditingConfig.TESTING_TAB.SIMULATOR.RESPONSE.LAMBDA_RESPONSE:a.AppEditingConfig.TESTING_TAB.SIMULATOR.RESPONSE.HTTP_RESPONSE};a.getCurrentAppEnabledStatusText=function(){var b=a.skill.isEnabled(a.selectedLocale),d=!a.skill.containsSkillType(a.SkillTypes.Custom),e=d?a.AppEditingConfig.TESTING_TAB.ENTITLEMENT.TOGGLE_ON:a.AppEditingConfig.TESTING_TAB.ENABLEMENT.TOGGLE_ON,f=d?a.AppEditingConfig.TESTING_TAB.ENTITLEMENT.TOGGLE_OFF:a.AppEditingConfig.TESTING_TAB.ENABLEMENT.TOGGLE_OFF,
g=d?a.AppEditingConfig.TESTING_TAB.ENTITLEMENT.TOGGLE_ON_TRANSITION:a.AppEditingConfig.TESTING_TAB.ENABLEMENT.TOGGLE_ON_TRANSITION,d=d?a.AppEditingConfig.TESTING_TAB.ENTITLEMENT.TOGGLE_OFF_TRANSITION:a.AppEditingConfig.TESTING_TAB.ENABLEMENT.TOGGLE_OFF_TRANSITION;return b&&a.appEnabledStatus?e:b&&!a.appEnabledStatus?d:!b&&a.appEnabledStatus?g:f};a.syncApplicationEnabledStatus=function(){var b=a.skill.isEnabled(a.selectedLocale);a.appEnabledStatus&&!b?(a.skillTab.disableEditing(),a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_ENABLE.LOADING),
a.skill.enableAsync(a.selectedLocale).then(function(){a.skillTab.enableEditing();a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_ENABLE.SUCCESS)},function(d){a.appEnabledStatus=b;a.skillTab.enableEditing();a.skillTab.handleError(d)})):!a.appEnabledStatus&&b&&(a.skillTab.disableEditing(),a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_DISABLE.LOADING),a.skill.disableAsync(a.selectedLocale).then(function(){a.skillTab.enableEditing();a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_DISABLE.SUCCESS)},
function(d){a.appEnabledStatus=b;a.skillTab.enableEditing();a.skillTab.handleError(d)}))}}])})(window.angular);define("AlexaSkill/Tabs/Test/AlexaSkillTestController",function(){});
(function(e){var a={Home:"AVS",CreateDevice:"avsCreateDevice",EditDevice:"avsEditDevice",CreateApp:"avsCreateApp",EditApp:"avsEditApp",Tabs:{Info:"info",Details:"details",SecurityProfile:"sp",AlexaSkills:"alexaSkills"},SecurityProfileSettings:{General:"general",Web:"web",IOS:"ios",Android:"android"}},d={Device:"Device",Application:"Application"};e.module("AVSModule",["ngCookies","ui.router","CommonModule","ngSanitize"]).config(["$stateProvider",function(b){function e(a){return{isCreateMode:function(){return a.isCreateMode},
productType:function(){return a.productType},rootState:function(){return a.rootState}}}function h(d,e,c){b.state(d,{url:e,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/AVSEdit.view",controller:"AVSEditController",redirectTo:d+"."+a.Tabs.Info,resolve:c}).state(d+"."+a.Tabs.Info,{url:"/"+a.Tabs.Info,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/AVSProductInfo.view",controller:"AVSProductInfoController"}).state(d+"."+a.Tabs.Details,{url:"/"+a.Tabs.Details,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/AVSProductDetails.view",
controller:"AVSProductDetailsController"}).state(d+"."+a.Tabs.AlexaSkills,{url:"/"+a.Tabs.AlexaSkills,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/AVSAlexaSkills.view",controller:"AVSAlexaSkillsController"}).state(d+"."+a.Tabs.SecurityProfile,{url:"/"+a.Tabs.SecurityProfile,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/AVSSecurityProfile.view",redirectTo:d+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.General,controller:"AVSSecurityProfileController",
resolve:{securityProfileRootState:function(){return d+"."+a.Tabs.SecurityProfile}}}).state(d+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.General,{url:"/"+a.SecurityProfileSettings.General,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsGeneral.view",controller:"AVSSPSettingsGeneralController"}).state(d+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.Web,{url:"/"+a.SecurityProfileSettings.Web,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsWeb.view",
controller:"AVSSPSettingsWebController"}).state(d+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.Android,{url:"/"+a.SecurityProfileSettings.Android,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsAndroid.view",controller:"AVSSPSettingsAndroidController"}).state(d+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.IOS,{url:"/"+a.SecurityProfileSettings.IOS,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsIOS.view",
controller:"AVSSPSettingsIOSController"})}b.state(a.Home,{url:"/avs/list",templateUrl:"/edw/res/js/Views/AlexaVoiceService/List/AVSList.view",controller:"AVSListController"});h(a.CreateDevice,"/avs/device/create",e({isCreateMode:!0,productType:d.Device,rootState:a.CreateDevice}));h(a.EditDevice,"/avs/device/:productId/edit",e({isCreateMode:!1,productType:d.Device,rootState:a.EditDevice}));h(a.CreateApp,"/avs/app/create",e({isCreateMode:!0,productType:d.Application,rootState:a.CreateApp}));h(a.EditApp,
"/avs/app/:productId/edit",e({isCreateMode:!1,productType:d.Application,rootState:a.EditApp}))}]).constant("AVS_ROUTE_STATE",a).constant("AVS_PRODUCT_TYPE",d)})(window.angular);define("AlexaVoiceService/AVSModule",function(){});
(function(){angular.module("AVSModule").constant("AVS_ProductListingConfig",{LIST_PAGE_HEADER:"Register your product with Alexa Voice Service",ADD_NEW_PRODUCT_BUTTON_TEXT:"Register a Product Type",GETTING_STARTED_HEADER:"Getting Started",GETTING_STARTED_FIRST_LINE_TEXT:'1) Learn how to Alexa-enable your devices or application by reading our <b><a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-voice-service/getting-started-with-the-alexa-voice-service" target="_blank" class="tocLinks">Getting Started Guide.</a><b>',GETTING_STARTED_SECOND_LINE_TEXT:"2) If you are a <b>device manufacturer</b>, choose <b><i>Register a Product Type > Device</i></b>  to start enabling Alexa on your device.",
GETTING_STARTED_THIRD_LINE_TEXT:"3) If you are an <b>application developer</b>, choose <b><i>Register a Product Type > Application</i></b> to start enabling Alexa in your app.",TABLE_PRODUCT_NAME_ROW_TITLE:"Display Name",TABLE_PRODUCT_ID_ROW_TITLE:"ID",TABLE_PRODUCT_TYPE_ROW_TITLE:"Type",TABLE_PRODUCT_CATEGORY_ROW_TITLE:"Category",TABLE_ACTIONS_ROW_TITLE:"Actions",EDIT_BUTTON_TEXT:"Edit",LOADING_TEXT:"Refreshing...",PRODUCT_TYPE_DEVICE:"Device",PRODUCT_TYPE_APPLICATION:"Application",PRODUCT_LIST_HEADER:"Registered Products",
AVS_GSP:'<a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-voice-service/getting-started-with-the-alexa-voice-service" target="_blank" class="tocLinks">Getting started</a>',AVS_TOC:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Agreement" target="_blank" class="tocLinks">AVS Agreement</a>',AVS_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Program Requirements" target="_blank" class="tocLinks">AVS Program Requirements</a>',
AVS_CONTENT_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Additional Alexa Voice Service Content Requirements" target="_blank" class="tocLinks">AVS Content Requirements</a>'}).constant("AVS_ProductEditingConfig",{DEFAULT_IMAGE:"/edw/res/images/no-icon.png",PRODUCT_REGISTRATION_HEADER:function(e){return"Create a new "+e+" Type"},REQUIRED_FIELDS_TEXT:" Fields required",AVS_GSP:'<a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-voice-service/getting-started-with-the-alexa-voice-service" target="_blank" class="tocLinks">Getting started</a>',
AVS_TOC:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Agreement" target="_blank" class="tocLinks">AVS Agreement</a>',AVS_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Program Requirements" target="_blank" class="tocLinks">AVS Program Requirements</a>',AVS_CONTENT_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Additional Alexa Voice Service Content Requirements" target="_blank" class="tocLinks">AVS Content Requirements</a>',
BACK_TO_PRODUCTS_LINK_TEXT:"< Back to the list",SAVE_BUTTON_TEXT:"Save",NEXT_BUTTON_TEXT:"Next",SUBMIT_BUTTON_TEXT:"Submit",UPDATE_PRODUCT:{LOADING_MESSAGE:function(e){return"Please wait while updating the"+e.toLowerCase()+"..."},SUCCESS_MESSAGE:function(e){return"Successfully updated the "+e.toLowerCase()+"..."}},PRODUCT_VALIDATION_ERROR:{MUST_HAVE_DESCRIPTION:"Please provide a Description.",DESCRIPTION_TOO_LONG:"Description is too long.",MUST_HAVE_CATEGORY:"Please select a Category.",MUSIC_PROVIDER_ANSWER_MISSING:"Please answer all the questions above.",
MUST_HAVE_COMMERCIALIZATION_TIMELINE:"Please select the timeline for commercialization.",MUST_HAVE_COMMERCIALIZATION_SIZE:"Please specify number of users you are targetting."},CREATE_PRODUCT_LOADING_MESSAGE:function(e){return"Please wait while creating the new "+e.toLowerCase()+"..."},LOADING_MESSAGE:"Please wait while fetching information",SAVE_MESSAGE_BOX:{TITLE:"Save changes",TEXT:"Do you want to save changes before leaving the current tab?"},MESSAGE_BOX_BUTTONS:{SAVE:"Save",DISCARD:"Discard",
CANCEL:"Cancel"},PRODUCT_INFO_TAB:{NAME:function(e){return e+" Type Info"},COMPANY_NAME:{LABEL:"Company Name",BRIEF_DESCRIPTION:function(){return"The name of the company you listed in your developer account profile."}},PRODUCT_ID:{LABEL:function(e){return e+" Type ID"},BRIEF_DESCRIPTION:function(e){return"Choose a unique name that identifies your "+e.toLowerCase()+". This name will not be shown to end users.  It may only contain letters, numbers and underscores."}},DISPLAY_NAME:{LABEL:"Display Name",
BRIEF_DESCRIPTION:function(e){return"Choose "+(e==="Device"?"a ":"an ")+e.toLowerCase()+" name that you want shown to your end users when they register their "+e.toLowerCase()+"s with Amazon."}},VALIDATE_ID:{LOADING:function(e){return"Validating "+e+" Type ID..."},ALREADY_EXISTS:function(e){return e+" Type ID already exists, please use a different one."},SUCCESS:""}},SECURITY_PROFILE_TAB:{SAVE:{UPDATE_MESSAGE:"Please wait while updating security profile...",UPDATE_SUCCESS_MESSAGE:"Successfully updated security profile.",
CREATE_MESSAGE:"Please wait while creating security profile...",CREATE_SUCCESS_MESSAGE:"Successfully created security profile."},LOADING_MESSAGE:"Please wait while fetching security profiles...",VALIDATION_ERROR:"You must select an existing security profile or create a new one.",NAME:"Security Profile",TEXT:"To use an existing Amazon Developer security profile or create a new one, select it below.",NOTICE:function(e){return"<b>You need a security profile to identify your "+e.toLowerCase()+". Your security profile credentials - client ID and client secret - allow your "+
e.toLowerCase()+' to securely identify itself to the Alexa Voice Service.  If you are building a website, click here to <a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/docs/authorizing-your-alexa-enabled-product-from-a-website" target="_blank" class="tocLinks">Learn More</a>. If you are building an Android or iOS app, click here to <a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/docs/authorizing-your-alexa-enabled-product-from-an-android-or-ios-mobile-app" target="_blank" class="tocLinks">Learn More</a></b>.<br>'},
PROFILE:{LABEL:"Security Profile",BRIEF_DESCRIPTION:function(e){return"A security profile is how Amazon identifies your "+e.toLowerCase()+"."},TOOLTIP:function(e){return"A security profile is how Amazon identifies your "+e.toLowerCase()+". If you use the same security profile for multiple "+e.toLowerCase()+"s, they will share the same set of security permissions."}},ALLOWED_ORIGINS:{LABEL:"Allowed Origins",BRIEF_DESCRIPTION:"Your website origin, when using Login with Amazon.",TOOLTIP:"If your website will use the Login with Amazon SDK for Javascript, add your website origin here \u2013 a combination of protocol, domain name and port (for example: https://www.example.com:8443).  Origins must use the HTTPS protocol. If you are using standard port 443, you only need to include the domain name (for example: https://www.example.com)."},
ALLOWED_RETURN_URLS:{LABEL:"Allowed Return URLs",BRIEF_DESCRIPTION:"If you make HTTPs calls to Login with Amazon with redirect_uris, specify them here.",TOOLTIP:"If your website will be making HTTPS calls to Login with Amazon and specifying redirect_uri values for replies, add those URIs to this list. The Return URL must include the protocol, domain, path and query string, and the Return URL protocol must be HTTPS. An example is https://www.example.com/login.php."},GENERAL:{LABEL:"General",FIELDS:{PROFILE_NAME:{LABEL:"Security Profile Name",
BRIEF_DESCRIPTION:function(){return"Choose a name for your security profile."}},DESCRIPTION:{LABEL:"Security Profile Description",BRIEF_DESCRIPTION:"Choose a description for your security profile for Amazon services to use in communicating with you."},PROFILE_ID:{LABEL:"Security Profile ID",BRIEF_DESCRIPTION:"This ID will identify your security profile in Amazon services."},CLIENT_ID:{LABEL:"Client ID",BRIEF_DESCRIPTION:"This is a value specific to you that is assigned to you when you register with Login with Amazon.",
TOOLTIP:"Your Client ID is assigned to you when you register with Login with Amazon. It is used in combination with your Client Secret to verify your identity then you request an authorization grant from the authorization service. Your Client ID is not secret."},CLIENT_SECRET:{LABEL:"Client Secret",BRIEF_DESCRIPTION:"This is a secret specific to you that is assigned to you when you register with Login with Amazon. Confidential.",TOOLTIP:"Your Client Secret is assigned at the same time as your Client ID and is used in combination with your client ID to verify your identity. You must keep your client secret confidential."},
CONSENT_URL:{LABEL:"Consent Privacy Notice URL",BRIEF_DESCRIPTION:"Enter a link where customers can find your Privacy Notice or Privacy Policy. Use a full URL starting with http:// or https://.",TOOLTIP:"This is a link where customers can find your Privacy Notice or Privacy Policy.  It will be displayed on the user consent screen. Use a full URL starting with http:// or https://."},CONSENT_LOGO:{LABEL:"Consent Logo Image",BRIEF_DESCRIPTION:function(e){return"Choose a logo to represent your "+e.toLowerCase()+
". Size 108 x 108 pixels, in PNG format"},TOOLTIP:function(e){return"Choose a logo in PNG format to represent your "+e.toLowerCase()+". It will be displayed on the permissions screen when the user has not yet consented."}}}},WEB:{LABEL:"Web Settings"},IOS:{LABEL:"iOS Settings",BRIEF_DESCRIPTION:"Settings for iOS development.",TEXT:'An API Key allows Amazon to verify your app\'s identity. An API key is generated based on the values you provide below. If different version of your app have different bundle IDs, such as for one or more testing versions and a production version, each version requires its own API key. <a href ="https://developer.amazon.com/public/apis/engage/login-with-amazon/docs/adding_ios_app.html" target="_blank" class="tocLinks">Learn More</a>',
FIELDS:{API_KEY_NAME:{LABEL:"API Key Name",BRIEF_DESCRIPTION:"Identifies the app you will use with this API key."},BUNDLE_ID:{LABEL:"Bundle Id",BRIEF_DESCRIPTION:"The bundle identifier of your iOS project. For example, com.mycompany.bestapp."},KEY:{LABEL:"Key"}}},ANDROID:{LABEL:"Android/Kindle Settings",BRIEF_DESCRIPTION:"Settings for Android/Kindle development.",TEXT:'An API Key allows Amazon to verify your app\'s identity. An API Key is generated based on the values you provide below. If different versions of your app have different signatures or package names, such as for one or more testing versions and a production version, each version requires its own API Key. <a href ="https://developer.amazon.com/public/apis/engage/login-with-amazon/docs/adding_android_app.html" target="_blank" class="tocLinks">Learn More</a>',
FIELDS:{API_KEY_NAME:{LABEL:"API Key Name",BRIEF_DESCRIPTION:"Identifies the app you will use with this API key."},PACKAGE:{LABEL:"Package",BRIEF_DESCRIPTION:"The package name of your Android project. For example, com.mycompany.bestapp."},SIGNATURE:{LABEL:"Signature",BRIEF_DESCRIPTION:'The signature of the certificate used to sign your app. <a href ="https://developer.amazon.com/public/apis/engage/login-with-amazon/docs/android_app_signatures.html" target="_blank" class="tocLinks">Get instructions on obtaining this value</a>.'},
KEY:{LABEL:"Key"}}}},PRODUCT_DETAILS_TAB:{NAME:function(e){return e+" Details"},IMAGE:{LABEL:"Image",BRIEF_DESCRIPTION:function(){return'Upload an image sized 142(width)x130(height) pixels in either PNG or JPG format. This image is displayed on your customer\u2019s <a href="https://www.amazon.com/mn/dcw/myx.html" target="_blank" class="tocLinks">Manage Your Content and Devices</a> page.'},TITLE:"Click to upload an image",UPLOAD_SUCCESS_MESSAGE:"Image upload successfully.",BUTTON_TEXT:"Choose an image..."},
CATEGORY:{LABEL:"Category",BRIEF_DESCRIPTION:function(e){return"Choose the category that best describes where and how your "+e.toLowerCase()+" is used."}},DESCRIPTION:{LABEL:"Description",BRIEF_DESCRIPTION:function(e){return"Please provide a brief description of your "+e.toLowerCase()+" and its functionality."}},COMMERCIAL_PLANS:{LABEL:function(e){return"Are you planning to commercialize your "+e.toLowerCase()+"?"},BRIEF_DESCRIPTION:function(e){return"Commercialization includes sharing or distributing your "+
e.toLowerCase()+" with either paying or non-paying end users."},NOTICE:function(e){return"You will need to certify your "+e.toLowerCase()+" with Amazon before commercializing it. Get started evaluating Alexa in your "+e.toLowerCase()+' now, and we will contact you with guidance on the certification process. <a href="/edw/access/certification.html" target="_blank">Learn more.</a>'}},APPSTORE_DISTRIBUTION:{LABEL:"Are you planning to distribute your application through an app marketplace?",BRIEF_DESCRIPTION:"Some Alexa content and domains may not be available on some app marketplaces.",
LINK_TEXT:"Learn more."},COMMERCIALIZATION_VOLUME:{LABEL:function(e){return"How many "+e.toLowerCase()+"s are you planning to commercialize?"},BRIEF_DESCRIPTION:function(e){return e==="Device"?'If you select "Enable Amazon Music" on the "Amazon Music" tab and get approved, you will need to certify your device with Amazon before commercializing it. Get started evaluating Alexa (including Amazon Music) in your device now, and we will contact you with guidance on the certification process. <a href="/edw/additional_avs_content_requirements.html" target="_blank"  class="tocLinks">Learn more.</a>':
'If you would like to continue to have Audible enabled in your commercialized application, you will need to certify your application with Amazon before commercializing it. Get started evaluating Alexa (including Audible) in your application now, and we will contact you with guidance on the certification process. <a href="/edw/additional_avs_content_requirements.html" target="_blank"  class="tocLinks">Learn more.</a>'}},COMMERCIALIZATION_TIMELINE:{LABEL:function(){return"What is your expected timeline for commercialization?"}},
TOC:'By submitting this form, you agree to <a href="/edw/avs_agreement.html" target="_blank" class="tocLinks">Alexa Voice Service Agreement</a>.'},ALEXA_SKILLS_TAB:{NAME:"Amazon Music",AMAZON_MUSIC:{LABEL:"Apply for access to Amazon Music?",STATUS_LABEL:"Approval Status:",BRIEF_DESCRIPTION:"Amazon Music is currently limited to Alexa-enabled products approved for commercial distribution and use. If you wish to apply, please answer the questions below and submit your request.</a>.<br>",SURVEY_NOTICE:"Note: Amazon Music isn\u2019t required to access other Alexa skills."},
APPLICATION_NOTICE:'<b>Alexa music skills are not supported on applications. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/docs/alexa-voice-service-developer-preview" target="_blank" class="tocLinks">Learn more</a> about what skills are available to applications.</b>'}})})(window.angular);define("AlexaVoiceService/AVSConstants",function(){});
(function(e){e.module("AVSModule").factory("AVSAjax",["CommonAjax","CommonService","$q","$cookies","AVS_PRODUCT_TYPE",function(a,d,b,e,h){function g(c){return b(function(b,d){a.sendGetRequestAsync(k+"/getProductLogoRetrievalUrlForAssetId?assetId="+c).then(function(a){b(a.retrievalURL)},d)})}var f,c,k="/edw/ajax/avs";return{properties:a.properties,handleError:function(a){d.clearLoadingMessage();a.exception?d.setStatus(a.sessionExpired?d.statusType.sessionExpired:d.statusType.error,"Error: "+a.message,
a.stackTrace):d.setStatus(d.statusType.error,"Error: "+a)},getAVSConstants:function(){return b(function(b,c){f?b(f):a.sendGetRequestAsync(k+"/getAVSConstants").then(function(a){f=a;b(f)},function(a){c(a)})})},getAVSMusicQuestions:function(){return b(function(b,d){c?b(c):a.sendGetRequestAsync(k+"/getAVSMusicQuestions").then(function(a){c=a;b(c)},function(a){d(a)})})},fetchProductInfosAsync:function(){return a.sendGetRequestAsync(k+"/getProducts")},getCompanyNameAsync:function(){return a.sendGetRequestAsync(k+
"/getCompanyName")},checkIfProductExists:function(b,c){return a.sendGetRequestAsync(k+"/doesProductExist?productId="+b+"&type="+c)},getLwaSecurityProfilesAsync:function(){return a.sendGetRequestAsync(k+"/getSecurityProfiles")},getAndroidApiKeysBySecurityProfileIdAsync:function(b){return a.sendGetRequestAsync(k+"/getAndroidApiKeys?securityProfileId="+b)},createAndroidApiKeyAsync:function(b){return a.sendPostRequestAsync(k+"/createAndroidApiKey",b)},updateAndroidApiKeyAsync:function(b){return a.sendPostRequestAsync(k+
"/updateAndroidApiKey",b)},getIosApiKeysBySecurityProfileIdAsync:function(b){return a.sendGetRequestAsync(k+"/getiOSApiKeys?securityProfileId="+b)},createIosApiKeyAsync:function(b){return a.sendPostRequestAsync(k+"/createiOSApiKey",b)},updateIosApiKeyAsync:function(b){return a.sendPostRequestAsync(k+"/updateiOSApiKey",b)},createProductAsync:function(b){return a.sendPostRequestAsync(k+(b.productType===h.Device?"/createDeviceProduct":"/createAppProduct"),{avsProductDetails:b})},fetchProductByIdAsync:function(b){return a.sendGetRequestAsync(k+
"/getProductById?productId="+b)},createSecurityProfileAsync:function(b){return a.sendPostRequestAsync(k+"/createSecurityProfile",b)},updateSecurityProfileAsync:function(b){return a.sendPostRequestAsync(k+"/updateSecurityProfileById",{securityProfile:b})},updateProductAsync:function(b){return a.sendPostRequestAsync(k+"/updateProductById",{avsProductDetails:b})},fetchImageUrlAsync:g,uploadImageAsync:function(c,d){var e=c;return b(function(b,f){a.sendPostRequestAsync(k+"/getProductLogoUploadUrlAndAssetId",
{fileName:d.name,contentSize:d.size,assetId:c}).then(function(b){e=b.assetId;return a.uploadFileAsync({uploadURL:b.uploadURL,file:d},{sizeLimit:"1MB",dimensionLimit:"142 x 130"})}).then(function(){return g(e)}).then(function(a){b({imageUrl:a,assetId:e})},f)})},loadProductFromCookie:function(){},deleteProductFromCookie:function(){},saveProductToCookie:function(){}}}])})(window.angular);define("AlexaVoiceService/AVSAjax",function(){});
(function(e){e.module("AVSModule").controller("AVSListController",["$scope","$state","$window","AVSAjax","AVS_ProductListingConfig","AVS_ROUTE_STATE","AVS_PRODUCT_TYPE","CommonService",function(a,d,b,e,h,g,f,c){a.registerMenuVisible=!1;a.ProductListingConfig=h;var k=[];c.clearStatus();c.setLoadingMessage(h.LOADING_TEXT);e.fetchProductInfosAsync().then(function(a){k=a.productInfos;c.clearLoadingMessage()},function(a){e.handleError(a)});a.getProductList=function(){return k};a.createNewDevice=function(){d.go(g.CreateDevice)};
a.createNewApplication=function(){d.go(g.CreateApp)};a.editProduct=function(a){a.productType===f.Device?d.go(g.EditDevice,{productId:a.productId}):d.go(g.EditApp,{productId:a.productId})}}])})(window.angular);define("AlexaVoiceService/List/AVSListController",function(){});
(function(e){function a(a,j){return{config:function(e){d=e;a.selectedMenuStep=e.selectedMenuStep;a.tabCommon.clearMessage()},prepareMusicSurvay:function(){if(!a.product.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers)a.product.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers=[],a.originalProduct=e.copy(a.product)},disableEditing:function(){a.enableInput=!1;a.enableSave=!1;a.enableNavigation=!1},enableEditing:function(){a.enableInput=!0;a.enableNavigation=!0},enableEditingAfterFailure:function(d){a.enableInput=
!0;a.enableSave=!0;a.enableNavigation=!d},clearMessage:function(){j.clearStatus();j.clearLoadingMessage()},setLoadingMessage:function(a){j.clearStatus();j.setLoadingMessage(a)},setSuccessMessage:function(a){j.clearLoadingMessage();j.setStatus(j.statusType.success,a)},updateImagePath:function(d){a.productImagePath=d},updateCurrentTabStatus:function(d){a.tabStatus[a.selectedMenuStep]=d}}}var d={};e.module("AVSModule").controller("AVSEditController",["$scope","$state","$stateParams","$q","isCreateMode",
"productType","rootState","AVS_ProductEditingConfig","AVS_ROUTE_STATE","AVS_PRODUCT_TYPE","CommonService","AVSAjax","CommonAjax",function(b,j,h,g,f,c,k,m,n,l,v,p,i){function s(a){b.tabCommon.disableEditing();typeof d.saveAction.loadingMessage==="function"?b.tabCommon.setLoadingMessage(d.saveAction.loadingMessage()):b.tabCommon.setLoadingMessage(d.saveAction.loadingMessage);return g(function(c,g){d.saveAction.actionAsync(a).then(function(g){e.copy(b.product,b.originalProduct);b.tabCommon.enableEditing();
typeof d.saveAction.successMessage==="function"?b.tabCommon.setSuccessMessage(d.saveAction.successMessage()):b.tabCommon.setSuccessMessage(d.saveAction.successMessage);b.tabStatus[b.selectedMenuStep]=b.tabStateEnum.VALID;f&&!a&&p.saveProductToCookie({product:b.product,tabStatus:b.tabStatus});c(g)},function(a){p.handleError(a);b.tabCommon.enableEditingAfterFailure();g(a)})})}b.isCreateMode=f;b.AvsRouteState=n;b.AvsProductType=l;b.ProductEditingConfig=m;b.tabCommon=a(b,v);b.NoImage="/edw/res/images/no-icon.png";
b.uploadImageIconPath="/edw/res/images/upload_image.png";b.productImagePath=b.NoImage;b.tabStateEnum={VALID:"validTab",NOT_VALID:"invalidTab"};b.tabStatus={};b.tabStatus[n.Tabs.Info]=b.tabStateEnum.NOT_VALID;b.tabStatus[n.Tabs.SecurityProfile]=b.tabStateEnum.NOT_VALID;b.tabStatus[n.Tabs.Details]=b.tabStateEnum.NOT_VALID;b.tabStatus[n.Tabs.AlexaSkills]=b.tabStateEnum.NOT_VALID;b.readyForSubmit=function(){return b.tabStatus[n.Tabs.Info]===b.tabStateEnum.VALID&&b.tabStatus[n.Tabs.SecurityProfile]===
b.tabStateEnum.VALID&&b.tabStatus[n.Tabs.Details]===b.tabStateEnum.VALID&&b.tabStatus[n.Tabs.AlexaSkills]===b.tabStateEnum.VALID};b.product={productType:c,isInitializing:!0};b.product.musicProviderSurvey={AMAZON_MUSIC:{submissionStatus:void 0,approvalStatus:"",surveyAnswers:[]}};b.tabCommon.setLoadingMessage(m.LOADING_MESSAGE);f?p.getCompanyNameAsync().then(function(a){b.product.companyName=a.companyName;var d=p.loadProductFromCookie();d&&d.product.companyName===a.companyName&&d.product.productType===
c?(b.product=d.product,b.tabStatus=d.tabStatus):p.deleteProductFromCookie();b.originalProduct=e.copy(b.product);return b.product.imageAssetId?p.fetchImageUrlAsync(b.product.imageAssetId):g.when()}).then(function(a){if(a)b.productImagePath=a;b.tabCommon.enableEditing();b.tabCommon.clearMessage();if(d.onProductLoaded)d.onProductLoaded()},function(a){p.handleError(a)}):p.fetchProductByIdAsync(h.productId).then(function(a){b.product=a;b.originalProduct=e.copy(b.product);return b.product.imageAssetId?
p.fetchImageUrlAsync(b.product.imageAssetId):g.when()}).then(function(a){if(a)b.productImagePath=a;b.tabCommon.enableEditing();b.tabCommon.clearMessage();b.tabStatus[n.Tabs.Info]=b.tabStateEnum.VALID;b.tabStatus[n.Tabs.SecurityProfile]=b.tabStateEnum.VALID;b.tabStatus[n.Tabs.Details]=b.tabStateEnum.VALID;b.tabStatus[n.Tabs.AlexaSkills]=b.tabStateEnum.VALID;if(d.onProductLoaded)d.onProductLoaded()},function(a){p.handleError(a)});b.getCreateNewProductText=function(){return b.product.productType===l.Device?
m.DEVICE_REGISTRATION_HEADER:m.APP_REGISTRATION_HEADER};m.CREATE_PRODUCT_LOADING_MESSAGE(c);b.getProductInfoTabText=function(){return b.product.productType===l.Device?m.DEVICE_TYPE_INFO_TAB.NAME:m.APP_TYPE_INFO_TAB.NAME};b.getProductDetailsTabText=function(){return b.product.productType===l.Device?m.DEVICE_DETAILS_TAB.NAME:m.APP_DETAILS_TAB.NAME};b.gotoNextTab=function(){!e.equals(b.originalProduct,b.product)||b.tabStatus[b.selectedMenuStep]===b.tabStateEnum.NOT_VALID?s().then(function(a){(!a||!a.stay)&&
j.go(k+"."+d.nextTab)}):j.go(k+"."+d.nextTab);i.keepAlive()};b.tabClicked=function(){function a(){return g(function(a,c){b.enableNavigation?e.equals(b.originalProduct,b.product)?a():v.showConfirmationBox(m.SAVE_MESSAGE_BOX.TITLE,m.SAVE_MESSAGE_BOX.TEXT,[{optionName:m.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){s().then(a,c)}},{optionName:m.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){e.copy(b.originalProduct,b.product);b.enableSave=!1;if(d.onChangeDiscarded)d.onChangeDiscarded();
a()}},{optionName:m.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:c}]):c()})}b.$on("$stateChangeStart",function(c,d,f){if(d.name.indexOf(k+"."+b.selectedMenuStep)!==0&&b.originalProduct&&(!b.enableNavigation||!e.equals(b.originalProduct,b.product)))c.preventDefault(),a().then(function(){j.go(d.name,f)})});return function(c){a().then(function(){var a;b.tabCommon.clearMessage();b.enableSave=!1;b.product.productId&&(a={productId:b.product.productId});j.go(k+"."+c,a);i.keepAlive()})}}();b.handleInputChange=
function(){b.enableSave=e.equals(b.originalProduct,b.product)?!1:b.enableInput};b.save=function(){(f||!e.equals(b.originalProduct,b.product))&&s()};b.submitProduct=function(){b.tabCommon.disableEditing();b.tabCommon.setLoadingMessage(d.saveAction.loadingMessage);s(!0).then(function(){p.deleteProductFromCookie();j.go(n.Home)})};b.getUploadImageIconPath=function(){return!b.productImagePath||b.productImagePath===b.NoImage?b.uploadImageIconPath:b.productImagePath}}])})(window.angular);
define("AlexaVoiceService/Edit/AVSEditController",function(){});
(function(e){function a(a,b){var e;!a.productId||a.productId.length>256?(b({exception:!0,message:"Invalid "+a.productType.toLowerCase()+" type Id."}),e=!1):e=!0;if(!e)return!1;!a.productDisplayName||a.productDisplayName.length>256?(b({exception:!0,message:"Invalid display name."}),e=!1):e=!0;return!e?!1:!0}e.module("AVSModule").controller("AVSProductInfoController",["$scope","$q","AVS_ProductEditingConfig","AVSAjax",function(d,b,e,h){var g={selectedMenuStep:d.AvsRouteState.Tabs.Info,nextTab:d.AvsRouteState.Tabs.SecurityProfile};
g.saveAction=d.isCreateMode?{loadingMessage:e.PRODUCT_INFO_TAB.VALIDATE_ID.LOADING(d.product.productType),actionAsync:function(){return b(function(b,c){a(d.product,c)&&h.checkIfProductExists(d.product.productId,d.product.productType).then(function(a){a.doesProductExist?c({exception:!0,message:e.PRODUCT_INFO_TAB.VALIDATE_ID.ALREADY_EXISTS(d.product.productType)}):b()},c)})}}:{loadingMessage:e.UPDATE_PRODUCT.LOADING_MESSAGE(d.product.productType),actionAsync:function(){return b(function(b,c){a(d.product,
c)&&h.updateProductAsync(d.product).then(b,c)})},successMessage:e.UPDATE_PRODUCT.SUCCESS_MESSAGE(d.product.productType)};d.tabCommon.config(g)}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/AVSProductInfoController",function(){});
(function(e){function a(a,d){return function(e,g){if(!e.productDescription)return g({exception:!0,message:d.PRODUCT_VALIDATION_ERROR.MUST_HAVE_DESCRIPTION}),!1;if(e.productDescription.length>256)return g({exception:!0,message:d.PRODUCT_VALIDATION_ERROR.DESCRIPTION_TOO_LONG}),!1;if(!e.productCategory)return g({exception:!0,message:d.PRODUCT_VALIDATION_ERROR.MUST_HAVE_CATEGORY}),!1;if(a.isCreateMode&&!e.commercializationTimeline)return g({exception:!0,message:d.PRODUCT_VALIDATION_ERROR.MUST_HAVE_COMMERCIALIZATION_TIMELINE}),
!1;return a.isCreateMode&&!e.commercializationVolume?(g({exception:!0,message:d.PRODUCT_VALIDATION_ERROR.MUST_HAVE_COMMERCIALIZATION_SIZE}),!1):!0}}function d(a){var d={};if(a){var e=a,g=a.indexOf("Amazon Appstore,");if(g<0){if(g=a.indexOf("Amazon Appstore"),g>=0)e=a.substring(g+15).trim(),d.amazonAppstore=!0}else e=a.substring(g+16).trim(),d.amazonAppstore=!0;g=a.indexOf("Apple App Store,");if(g<0){if(g=a.indexOf("Apple App Store"),g>=0)e=a.substring(g+15).trim(),d.appleAppStore=!0}else e=a.substring(g+
16).trim(),d.appleAppStore=!0;g=a.indexOf("Google Play,");if(g<0){if(g=a.indexOf("Google Play"),g>=0)e=a.substring(g+11).trim(),d.googlePlay=!0}else e=a.substring(g+12).trim(),d.googlePlay=!0;if(e)d.other=!0,d.otherAppStores=e}return d}e.module("AVSModule").controller("AVSProductDetailsController",["$scope","$q","AVSAjax","AVS_PRODUCT_TYPE","AVS_ProductEditingConfig",function(b,e,h,g,f){function c(){if(!b.isCreateMode&&!b.product.isInitializing&&b.timelineList&&!b.product.commercializationTimeline)b.product.commercializationTimeline=
b.timelineList[b.timelineList.length-1]}var k=a(b,f,g),m={selectedMenuStep:b.AvsRouteState.Tabs.Details,nextTab:b.AvsRouteState.Tabs.AlexaSkills,onProductLoaded:function(){if(b.product.productType===g.Application)b.appStore=d(b.product.distributeAppStores);b.productImageInput=b.getUploadImageIconPath();c()}};b.productImageInput=b.getUploadImageIconPath();m.saveAction=b.isCreateMode?{loadingMessage:f.CREATE_PRODUCT_LOADING_MESSAGE(b.product.productType),actionAsync:function(){return e(function(a,c){k(b.product,
c)&&a()})}}:{loadingMessage:f.UPDATE_PRODUCT.LOADING_MESSAGE(b.product.productType),actionAsync:function(){return e(function(a,c){k(b.product,c)&&h.updateProductAsync(b.product).then(a,c)})},successMessage:f.UPDATE_PRODUCT.SUCCESS_MESSAGE(b.product.productType)};b.tabCommon.config(m);if(b.product.productType===g.Application)b.appStore=d(b.product.distributeAppStores);b.handleAppStoreChange=function(){var a=b.product,c;var d=b.appStore,e="";d.amazonAppstore&&(e+="Amazon Appstore");d.appleAppStore&&
(e&&(e+=","),e+="Apple App Store");d.googlePlay&&(e&&(e+=","),e+="Google Play");d.other&&(e&&(e+=","),e+=d.otherAppStores);e&&(c=e);a.distributeAppStores=c;b.handleInputChange()};b.chooseImage=function(){document.getElementById("avs-product-image-upload-input").click()};b.handleImageSelected=function(a){b.tabCommon.clearMessage();b.productImageInput="/edw/res/images/loader.gif";h.uploadImageAsync(b.product.imageAssetId,a.file).then(function(a){b.product.imageAssetId=a.assetId;b.productImageInput=
a.imageUrl;b.tabCommon.updateImagePath(b.productImageInput);b.tabCommon.setSuccessMessage(f.PRODUCT_DETAILS_TAB.IMAGE.UPLOAD_SUCCESS_MESSAGE)},function(a){b.productImageInput=b.getUploadImageIconPath();h.handleError(a)})};b.categoryList=[];h.getAVSConstants().then(function(a){b.timelineList=a.avsCommercialTimelineList;c();b.categoryList=b.product.productType===g.Application?a.avsApplicationCategoryList:a.avsDeviceCategoryList},function(a){h.handleError(a)})}])})(window.angular);
define("AlexaVoiceService/Edit/Tabs/AVSProductDetailsController",function(){});
(function(e){function a(a,b){function e(b){b&&b({exception:!0,message:a.PRODUCT_VALIDATION_ERROR.MUSIC_PROVIDER_ANSWER_MISSING});return!1}return function(a,d,f){if(a.productType===b.Device){if(a.musicProviderSurvey.AMAZON_MUSIC.submissionStatus===void 0)return e(f);if(a.musicProviderSurvey.AMAZON_MUSIC.submissionStatus&&a.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers!==null)if(a.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers.length<d.AMAZON_MUSIC.length)return e(f);else{a=a.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers;
for(d=0;d<a.length;d++){if(!a[d])return e(f);if(a[d]==="no")return e(f)}}return!0}if(a.productType===b.Application)return!0}}e.module("AVSModule").controller("AVSAlexaSkillsController",["$scope","$q","AVSAjax","AVS_PRODUCT_TYPE","AVS_ProductEditingConfig",function(d,b,e,h,g){var f=a(g,h);d.tabCommon.prepareMusicSurvay();var c={selectedMenuStep:d.AvsRouteState.Tabs.AlexaSkills,onProductLoaded:d.tabCommon.prepareMusicSurvay,onChangeDiscarded:function(){var a=f(d.product,d.musicProviderQuestions);d.tabCommon.updateCurrentTabStatus(a?
d.tabStateEnum.VALID:d.tabStateEnum.NOT_VALID)}};d.handleSurveyChange=function(){var a=f(d.product,d.musicProviderQuestions);d.tabCommon.updateCurrentTabStatus(a?d.tabStateEnum.VALID:d.tabStateEnum.NOT_VALID);d.handleInputChange()};c.saveAction=d.isCreateMode?{loadingMessage:g.CREATE_PRODUCT_LOADING_MESSAGE(d.product.productType),actionAsync:function(a){return b(function(b,c){f(d.product,d.musicProviderQuestions,c)&&(a?e.createProductAsync(d.product).then(b,c):b())})}}:{loadingMessage:g.UPDATE_PRODUCT.LOADING_MESSAGE(d.product.productType),
actionAsync:function(){return b(function(a,b){f(d.product,d.musicProviderQuestions,b)&&e.updateProductAsync(d.product).then(function(){if(d.product.musicProviderSurvey.AMAZON_MUSIC.submissionStatus===!0)d.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus="PENDING";a()},b)})},successMessage:g.UPDATE_PRODUCT.SUCCESS_MESSAGE(d.product.productType)};d.tabCommon.config(c);d.product.productType===h.Application&&d.tabCommon.updateCurrentTabStatus(d.tabStateEnum.VALID);d.musicProviderQuestions={};d.tabCommon.disableEditing();
e.getAVSMusicQuestions().then(function(a){d.tabCommon.enableEditing();d.musicProviderQuestions=a.musicProviderQuestions},function(a){e.handleError(a)});d.getApprovalStatus=function(){return d.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus==="NOT_REQUESTED"?void 0:d.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus};d.isReadOnly=function(){return!d.enableInput?!0:d.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus==="PENDING"?!0:d.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus===
"APPROVED"?!0:!1}}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/AVSAlexaSkillsController",function(){});
(function(e){function a(a,e,h){return{config:function(e){d=e;a.selectedSettingsTab=d.settingsTab},updateCurrentSecurityProfile:function(d){a.currentSecurityProfile=d.profileId?d:{profileId:"",allowedOrigins:[],allowedRedirectURIs:[]};a.noSecurityProfileSelected()&&e.go(h+"."+a.AvsRouteState.SecurityProfileSettings.General)},checkAndRedirectSettingsTab:function(){return a.noSecurityProfileSelected()?(e.go(h+"."+a.AvsRouteState.SecurityProfileSettings.General),!0):!1},gotoSettings:function(d){var f;
a.product.productId&&(f={productId:a.product.productId});e.go(h+"."+d,f)}}}var d={};e.module("AVSModule").controller("AVSSecurityProfileController",["$scope","$state","AVSAjax","$q","securityProfileRootState","AVS_ProductEditingConfig",function(b,j,h,g,f,c){function k(){b.tabCommon.setLoadingMessage(c.SECURITY_PROFILE_TAB.LOADING_MESSAGE);b.tabCommon.disableEditing();h.getLwaSecurityProfilesAsync().then(function(a){b.tabCommon.enableEditing();b.tabCommon.clearMessage();b.lwaSecurityProfiles=a;b.lwaSecurityProfiles.unshift(b.newSecurityProfileOption);
if(b.product.securityProfileId)for(a=0;a<b.lwaSecurityProfiles.length;a++)if(b.lwaSecurityProfiles[a].profileId===b.product.securityProfileId){b.currentSecurityProfile=b.lwaSecurityProfiles[a];b.selectedSecurityProfile=b.currentSecurityProfile;b.handleSecurityProfileChange();break}},function(a){h.handleError(a)})}function m(a,b){a.name||b({exception:!0,message:"Security profile name should not be empty."});a.description||b({exception:!0,message:"Security profile description should not be empty."})}
function n(a){b.tabCommon.setLoadingMessage(c.SECURITY_PROFILE_TAB.LOADING_MESSAGE);b.tabCommon.disableEditing();h.getAndroidApiKeysBySecurityProfileIdAsync(a).then(function(a){b.currentSecurityProfile.androidApiKeys=a;b.tabCommon.clearMessage()},function(a){h.handleError(a)})["finally"](function(){b.tabCommon.enableEditing()})}function l(a){b.tabCommon.setLoadingMessage(c.SECURITY_PROFILE_TAB.LOADING_MESSAGE);b.tabCommon.disableEditing();h.getIosApiKeysBySecurityProfileIdAsync(a).then(function(a){b.currentSecurityProfile.iosApiKeys=
a;b.tabCommon.clearMessage()},function(a){h.handleError(a)})["finally"](function(){b.tabCommon.enableEditing()})}function v(a){if(b.editingSecurityProfile!==a)b.editingSecurityProfile=a,b.editingSecurityProfile?(b.product.securityProfileId="",b.toggleEditingSecurityProfileText="Cancel",b.currentSecurityProfile=e.copy(b.selectedSecurityProfile)):(b.product.securityProfileId=b.selectedSecurityProfile.profileId,b.toggleEditingSecurityProfileText="Edit",b.currentSecurityProfile=b.selectedSecurityProfile),
b.handleInputChange()}var p={selectedMenuStep:b.AvsRouteState.Tabs.SecurityProfile,nextTab:b.AvsRouteState.Tabs.Details,onProductLoaded:k},i=!0;p.saveAction={actionAsync:function(){return g(function(a,f){b.selectedSecurityProfile&&b.selectedSecurityProfile.profileId?(i=!0,b.isEditingSecurityProfile()&&!e.equals(b.currentSecurityProfile,b.selectedSecurityProfile)?h.updateSecurityProfileAsync(b.currentSecurityProfile,function(){}).then(function(){e.copy(b.currentSecurityProfile,b.selectedSecurityProfile);
v(!1);b.product.securityProfileId=b.selectedSecurityProfile.profileId;return b.isCreateMode?g.when():h.updateProductAsync(b.product)}).then(a,f):(b.product.securityProfileId=b.selectedSecurityProfile.profileId,b.isCreateMode?a():h.updateProductAsync(b.product).then(a,f))):b.isCreatingNewSecurityProfile()?(i=!1,m(b.currentSecurityProfile,f),h.createSecurityProfileAsync(b.currentSecurityProfile).then(function(c){b.lwaSecurityProfiles.push(c);b.currentSecurityProfile=c;if(d.onCurrentSecurityProfileChange)d.onCurrentSecurityProfileChange();
b.selectedSecurityProfile=b.currentSecurityProfile;b.product.securityProfileId=c.profileId;b.isCreateMode?a({stay:!0}):h.updateProductAsync(b.product).then(function(){a({stay:!0})},f)},function(a){f(a)})):f({exception:!0,message:c.SECURITY_PROFILE_TAB.VALIDATION_ERROR})})}};p.saveAction.loadingMessage=function(){return b.isCreatingNewSecurityProfile()?c.SECURITY_PROFILE_TAB.SAVE.CREATE_MESSAGE:b.isCreateMode?"":c.SECURITY_PROFILE_TAB.SAVE.UPDATE_MESSAGE};p.saveAction.successMessage=function(){return!i?
c.SECURITY_PROFILE_TAB.SAVE.CREATE_SUCCESS_MESSAGE:b.isCreateMode?"":c.SECURITY_PROFILE_TAB.SAVE.UPDATE_SUCCESS_MESSAGE};b.tabCommon.config(p);b.securityProfileCommon=a(b,j,f);b.newSecurityProfileOption={name:"Create a new profile",profileId:""};b.currentSecurityProfile={};b.isCreatingNewSecurityProfile=function(){return b.currentSecurityProfile.profileId===""};b.settingsTabClicked=function(a){b.selectedSettingsTab!==a&&(b.noSecurityProfileSelected()||j.go(f+"."+a))};b.noSecurityProfileSelected=function(){return!b.currentSecurityProfile.profileId};
b.isCurrentState=function(a){return a===b.selectedSettingsTab};b.addNewAllowedOrigin=function(){b.currentSecurityProfile.allowedOrigins.push("")};b.addNewRedirectUri=function(){b.currentSecurityProfile.allowedRedirectURIs.push("")};b.handleSecurityProfileChange=function(){b.securityProfileCommon.updateCurrentSecurityProfile(b.selectedSecurityProfile);b.product.securityProfileId=b.selectedSecurityProfile.profileId;v(!1);b.noSecurityProfileSelected()||(n(b.currentSecurityProfile.profileId),l(b.currentSecurityProfile.profileId))};
b.editingSecurityProfile=!1;b.toggleEditingSecurityProfileText="Edit";b.toggleEditingSecurityProfile=function(){v(!b.editingSecurityProfile)};b.isEditingSecurityProfile=function(){return b.editingSecurityProfile||b.isCreatingNewSecurityProfile()};b.product.companyName!==void 0&&k()}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/SecurityProfile/AVSSecurityProfileController",function(){});
(function(e){e.module("AVSModule").controller("AVSSPSettingsGeneralController",["$scope","AVS_ROUTE_STATE",function(a,d){a.hideSecurityProfileConsent=!0;a.securityProfileCommon.config({settingsTab:d.SecurityProfileSettings.General})}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsGeneralController",function(){});
(function(e){e.module("AVSModule").controller("AVSSPSettingsWebController",["$scope","AVS_ROUTE_STATE",function(a,d){a.securityProfileCommon.checkAndRedirectSettingsTab()||a.securityProfileCommon.config({settingsTab:d.SecurityProfileSettings.Web})}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsWebController",function(){});
(function(e){e.module("AVSModule").controller("AVSSPSettingsIOSController",["$scope","AVSAjax","AVS_ROUTE_STATE","AVS_ProductEditingConfig",function(a,d,b,j){a.iosApiKeys=e.copy(a.currentSecurityProfile.iosApiKeys);a.isCreateIosApiKeyFormVisible=!1;if(a.iosApiKeys!==void 0&&a.iosApiKeys.length===0)a.isCreateIosApiKeyFormVisible=!0;a.showCreateIosApiKeyForm=function(){a.newAiKeyName="";a.newBundleId="";a.isCreateIosApiKeyFormVisible=!0};a.hideCreateIosApiKeyForm=function(){a.isCreateIosApiKeyFormVisible=
!1};a.submitCreateIosApiKeyForm=function(){var b={};b.securityProfileId=a.currentSecurityProfile.profileId;b.apiKeyName=a.newApiKeyName;b.bundleId=a.newBundleId;a.tabCommon.setLoadingMessage(j.SECURITY_PROFILE_TAB.LOADING_MESSAGE);a.tabCommon.disableEditing();d.createIosApiKeyAsync(b).then(function(b){a.iosApiKeys=b;a.currentSecurityProfile.iosApiKeys=e.copy(a.iosApiKeys);a.tabCommon.clearMessage();a.hideCreateIosApiKeyForm()},function(a){d.handleError(a)})["finally"](function(){a.tabCommon.enableEditing()})};
var h;a.resetEditMode=function(){h=void 0};a.isKeyInEditMode=function(a){return a===h};a.putKeyInEditMode=function(a){h===void 0&&(h=a)};a.submitViewAndUpdateIosApiKeyForm=function(b){var f=a.iosApiKeys[b];if(!e.equals(a.currentSecurityProfile.iosApiKeys[b],f)){var c={};c.securityProfileId=a.currentSecurityProfile.profileId;c.apiKeyId=f.id;c.apiKeyName=f.apiKeyName;a.tabCommon.setLoadingMessage(j.SECURITY_PROFILE_TAB.LOADING_MESSAGE);a.tabCommon.disableEditing();d.updateIosApiKeyAsync(c).then(function(c){a.iosApiKeys[b]=
c;a.currentSecurityProfile.iosApiKeys=e.copy(a.iosApiKeys);a.tabCommon.clearMessage()},function(a){d.handleError(a)})["finally"](function(){a.tabCommon.enableEditing()})}a.resetEditMode()};a.handleKeyUpEvent=function(b,d){b.keyCode==13&&a.submitViewAndUpdateIosApiKeyForm(d)};a.securityProfileCommon.checkAndRedirectSettingsTab()||a.securityProfileCommon.config({settingsTab:b.SecurityProfileSettings.IOS})}])})(window.angular);
define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsIOSController",function(){});
(function(e){e.module("AVSModule").controller("AVSSPSettingsAndroidController",["$scope","AVSAjax","AVS_ROUTE_STATE","AVS_ProductEditingConfig",function(a,d,b,j){a.androidApiKeys=e.copy(a.currentSecurityProfile.androidApiKeys);a.isCreateAndroidApiKeyFormVisible=!1;if(a.androidApiKeys!==void 0&&a.androidApiKeys.length===0)a.isCreateAndroidApiKeyFormVisible=!0;a.showCreateAndoirdApiKeyForm=function(){a.newApiKeyName="";a.newPackageName="";a.newSignature="";a.isCreateAndroidApiKeyFormVisible=!0};a.hideCreateAndroidApiKeyForm=
function(){a.isCreateAndroidApiKeyFormVisible=!1};a.submitCreateAndroidApiKeyForm=function(){var b={};b.securityProfileId=a.currentSecurityProfile.profileId;b.apiKeyName=a.newApiKeyName;b.packageName=a.newPackageName;b.keySignature=a.newSignature;a.tabCommon.setLoadingMessage(j.SECURITY_PROFILE_TAB.LOADING_MESSAGE);a.tabCommon.disableEditing();d.createAndroidApiKeyAsync(b).then(function(b){a.androidApiKeys=b;a.currentSecurityProfile.androidApiKeys=e.copy(a.androidApiKeys);a.tabCommon.clearMessage();
a.hideCreateAndroidApiKeyForm()},function(a){d.handleError(a)})["finally"](function(){a.tabCommon.enableEditing()})};var h;a.resetEditMode=function(){h=void 0};a.isKeyInEditMode=function(a){return a===h};a.putKeyInEditMode=function(a){h===void 0&&(h=a)};a.submitViewAndUpdateAndroidApiKeyForm=function(b){var f=a.androidApiKeys[b];if(!e.equals(a.currentSecurityProfile.androidApiKeys[b],f)){var c={};c.securityProfileId=a.currentSecurityProfile.profileId;c.apiKeyId=f.id;c.apiKeyName=f.apiKeyName;a.tabCommon.setLoadingMessage(j.SECURITY_PROFILE_TAB.LOADING_MESSAGE);
a.tabCommon.disableEditing();d.updateAndroidApiKeyAsync(c).then(function(c){a.androidApiKeys[b]=c;a.currentSecurityProfile.androidApiKeys=e.copy(a.androidApiKeys);a.tabCommon.clearMessage()},function(a){d.handleError(a)})["finally"](function(){a.tabCommon.enableEditing()})}a.resetEditMode()};a.handleKeyUpEvent=function(b,d){b.keyCode==13&&a.submitViewAndUpdateAndroidApiKeyForm(d)};a.securityProfileCommon.checkAndRedirectSettingsTab()||a.securityProfileCommon.config({settingsTab:b.SecurityProfileSettings.Android})}])})(window.angular);
define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsAndroidController",function(){});(function(e){e.module("InternalModule",["ngCookies","ui.router","CommonModule","ngSanitize"]).config(["$stateProvider",function(a){a.state("whitelist",{url:"/internal/whitelistDeveloper",templateUrl:"/edw/res/js/Views/internal/whitelist.view",controller:"DeveloperWhitelistController"})}])})(window.angular);define("internal/InternalModule",function(){});
(function(e){e.module("InternalModule").controller("DeveloperWhitelistController",["$scope","CommonAjax","CommonService",function(a,d,b){a.selectedFeatures=[];a.toggleSelectedFeature=function(b){var d=a.selectedFeatures.indexOf(b);d>-1?a.selectedFeatures.splice(d,1):a.selectedFeatures.push(b)};a.betaFeatures=["INTERNATIONAL","RAW_TEXT_SLOT","PERMISSIONS","CONTENT_SKILL"];a.developerStatus=[{name:"EXTERNAL",value:"EXTERNAL"},{name:"INTERNAL",value:"INTERNAL"}];a.developer={status:a.developerStatus[0].value};
a.whitelistDeveloper=function(){var e={},h=[],g=a.developer.whitelist;b.clearLoadingMessage();b.clearStatus();if(g)for(var g=g.split("\n"),f=0;f<g.length;f++){var c=g[f].split(" ");if(c.length!=2){b.setStatus(b.statusType.error,"Input list of users is not correct. Incorrect entry at line number: "+(f+1),null);return}else h[f]={},h[f].customerId=c[0],h[f].developerStatus=c[1],h[f].accessibleFeatures=a.selectedFeatures}else h[0]={},h[0].customerId=a.developer.customerId,h[0].developerStatus=a.developer.status,
h[0].accessibleFeatures=a.selectedFeatures;e.whitelistEntries=h;b.setLoadingMessage("Whitelisting developer...");d.sendPostRequestAsync("/edw/ajax/whitelistDeveloper",e).then(function(){b.clearLoadingMessage();b.setStatus(b.statusType.success,"Developers successfully whitelisted",null);a.developer.whitelist=""},function(c){a.enableInput=!0;a.enableSubmit=!0;b.clearLoadingMessage();c.exception?b.setStatus(b.statusType.error,"Error: "+c.message,c.stackTrace):b.setStatus(b.statusType.error,"Error: "+
c,null)})}}])})(window.angular);define("internal/DeveloperWhitelistController",function(){});
(function(e,a){var d=a.module("edwApp",["ui.router","AWS-UI-Components","InternalModule","AlexaHomeModule"]);d.config(["$urlRouterProvider",function(a){a.otherwise("/")}]);d.run(["$rootScope","$state",function(a,d){a.$on("$stateChangeStart",function(a,b,e){if(b.override){var c=b.override(b,e);if(c){a.preventDefault();d.go(c.state,c.params);return}}b.redirectTo&&(a.preventDefault(),d.go(b.redirectTo,e))})}]);e.addEventListener("hashchange",function(){if(location.hash==="")location.hash="#/"})})(window,
window.angular);define("edwApp",function(){});
(function(e){requirejs.config({baseUrl:"/edw/res/js",shim:{"codemirror-js-mode":{deps:["codemirror"]},"codemirror-matchbrackets":{deps:["codemirror-js-mode"]},"codemirror-closebrackets":{deps:["codemirror-matchbrackets"]},jsonlint:{deps:["codemirror-closebrackets"]},"codemirror-lint":{deps:["jsonlint"]},"codemirror-json-lint":{deps:["codemirror-lint"]},"codemirror-match-highlighter":{deps:["codemirror-json-lint"]},"codemirror-active-line":{deps:["codemirror-match-highlighter"]},"ui-codemirror":{deps:["codemirror-active-line"]}},
paths:{"angular-ui-bootstrap":"lib/ui-bootstrap-tpls-0.12.0.min",daterangepicker:"lib/daterangepicker-2.0.11.min",highcharts:"lib/highcharts-4.1.8.min","isteven-multi-select":"lib/isteven-multi-select-4.0.0.min",jquery:"lib/jquery-1.11.3.min",moment:"lib/moment-2.10.6.min",codemirror:"lib/codemirror/lib/codemirror.min","codemirror-js-mode":"lib/codemirror/mode/javascript/javascript.min","codemirror-matchbrackets":"lib/codemirror/addon/edit/matchbrackets.min","codemirror-closebrackets":"lib/codemirror/addon/edit/closebrackets.min",
jsonlint:"lib/jsonlint/lib/jsonlint.min","codemirror-lint":"lib/codemirror/addon/lint/lint.min","codemirror-json-lint":"lib/codemirror/addon/lint/json-lint.min","codemirror-match-highlighter":"lib/codemirror/addon/search/match-highlighter.min","codemirror-active-line":"lib/codemirror/addon/selection/active-line.min",alexaInlineValidator:"alexa-inline-validator/alexa_inline_validator","ui-codemirror":"lib/ui-codemirror.min"},waitSeconds:20});require("Common/CommonModule,Common/CommonAjax,Common/CommonService,Common/CommonController,Common/AudioService,Common/Config,Common/Filters,Common/ImageMaskingService,Common/RecursionHelper,Common/Utils,Common/Controls/EdwUserInput,Common/Controls/EdwV2/EdwUserInputV2,Common/Controls/EdwV2/EdwHtmlDescriptionCompile,Common/Controls/EdwV2/ToolTip/EdwToolTipV2,Common/Controls/EdwFileUpload,Common/ExternalLibraries/ExternalLibrariesModule,Components/AskHeaderBar,Components/AvsHeaderBar,Components/CountrySelector/CountrySelector,Components/EndpointInput/EndpointInput,Components/ExamplePhrases/ExamplePhrases,Components/SideNav/SideNav,Components/SkillListItem,Components/SSLCertificate/SSLCertificate,Home/AlexaHomeModule,Home/AlexaHomeController,Home/AlexaHomeConstants,AlexaSkill/AlexaSkillModule,AlexaSkill/AlexaSkillConstants,AlexaSkill/AlexaInterfaceService,AlexaSkill/AppManagement/AlexaAppManagementAjax,AlexaSkill/AppManagement/AlexaAppIconCache,AlexaSkill/AppManagement/AlexaAppManagementStorage,AlexaSkill/AlexaSkillHomeController,AlexaSkill/Analytics/AlexaSkillAnalyticsController,AlexaSkill/List/AlexaSkillListController,AlexaSkill/AlexaSkillController,AlexaSkill/Tabs/AlexaSkillCreateController,AlexaSkill/Tabs/AlexaSkillCreateLanguageController,AlexaSkill/Tabs/AlexaSkillInfoController,AlexaSkill/Tabs/AlexaSkillPublishingInfoController,AlexaSkill/Tabs/AlexaSkillSSLCertController,AlexaSkill/Tabs/AlexaSkillPrivacyComplianceController,AlexaSkill/Tabs/Configuration/AlexaSkillConfigurationController,AlexaSkill/Tabs/Configuration/Content/ContentSkillConfiguration,AlexaSkill/Tabs/Controls/AlexaSkillEndpointInput,AlexaSkill/Tabs/InteractionModel/AlexaSkillListCatalogController,AlexaSkill/Tabs/InteractionModel/AlexaSkillEditCatalogController,AlexaSkill/Tabs/InteractionModel/AlexaSkillInteractionModelController,AlexaSkill/Tabs/Test/AlexaSkillTestController,AlexaVoiceService/AVSModule,AlexaVoiceService/AVSConstants,AlexaVoiceService/AVSAjax,AlexaVoiceService/List/AVSListController,AlexaVoiceService/Edit/AVSEditController,AlexaVoiceService/Edit/Tabs/AVSProductInfoController,AlexaVoiceService/Edit/Tabs/AVSProductDetailsController,AlexaVoiceService/Edit/Tabs/AVSAlexaSkillsController,AlexaVoiceService/Edit/Tabs/SecurityProfile/AVSSecurityProfileController,AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsGeneralController,AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsWebController,AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsIOSController,AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsAndroidController,internal/InternalModule,internal/DeveloperWhitelistController,edwApp".split(","),
function(){require("angular-ui-bootstrap,daterangepicker,highcharts,alexaInlineValidator,isteven-multi-select,jquery,moment,ui-codemirror".split(","),function(){if(!window.EDW_CONFIG)window.EDW_CONFIG={};e.element(document).ready(function(){e.bootstrap(document,["edwApp"])})})})})(window.angular);define("edwBootstrap",function(){});
